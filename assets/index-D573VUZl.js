var Z_=Object.defineProperty;var $_=(e,t,r)=>t in e?Z_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ex=(e,t,r)=>$_(e,typeof t!="symbol"?t+"":t,r);function Q_(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const l in n)if(l!=="default"&&!(l in e)){const c=Object.getOwnPropertyDescriptor(n,l);c&&Object.defineProperty(e,l,c.get?c:{enumerable:!0,get:()=>n[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&n(f)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();var I0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ls(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tx={exports:{}},ad={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KA;function J_(){if(KA)return ad;KA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,l,c){var f=null;if(c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),"key"in l){c={};for(var x in l)x!=="key"&&(c[x]=l[x])}else c=l;return l=c.ref,{$$typeof:e,type:n,key:f,ref:l!==void 0?l:null,props:c}}return ad.Fragment=t,ad.jsx=r,ad.jsxs=r,ad}var ZA;function eM(){return ZA||(ZA=1,tx.exports=J_()),tx.exports}var m=eM(),rx={exports:{}},Lt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $A;function tM(){if($A)return Lt;$A=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),T=Symbol.iterator;function _($){return $===null||typeof $!="object"?null:($=T&&$[T]||$["@@iterator"],typeof $=="function"?$:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,k={};function R($,de,Te){this.props=$,this.context=de,this.refs=k,this.updater=Te||j}R.prototype.isReactComponent={},R.prototype.setState=function($,de){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,de,"setState")},R.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function F(){}F.prototype=R.prototype;function U($,de,Te){this.props=$,this.context=de,this.refs=k,this.updater=Te||j}var V=U.prototype=new F;V.constructor=U,M(V,R.prototype),V.isPureReactComponent=!0;var q=Array.isArray;function Y(){}var L={H:null,A:null,T:null,S:null},J=Object.prototype.hasOwnProperty;function K($,de,Te){var ke=Te.ref;return{$$typeof:e,type:$,key:de,ref:ke!==void 0?ke:null,props:Te}}function Ce($,de){return K($.type,de,$.props)}function oe($){return typeof $=="object"&&$!==null&&$.$$typeof===e}function ee($){var de={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(Te){return de[Te]})}var ce=/\/+/g;function fe($,de){return typeof $=="object"&&$!==null&&$.key!=null?ee(""+$.key):de.toString(36)}function Z($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(Y,Y):($.status="pending",$.then(function(de){$.status==="pending"&&($.status="fulfilled",$.value=de)},function(de){$.status==="pending"&&($.status="rejected",$.reason=de)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function te($,de,Te,ke,Qe){var Q=typeof $;(Q==="undefined"||Q==="boolean")&&($=null);var Pe=!1;if($===null)Pe=!0;else switch(Q){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch($.$$typeof){case e:case t:Pe=!0;break;case w:return Pe=$._init,te(Pe($._payload),de,Te,ke,Qe)}}if(Pe)return Qe=Qe($),Pe=ke===""?"."+fe($,0):ke,q(Qe)?(Te="",Pe!=null&&(Te=Pe.replace(ce,"$&/")+"/"),te(Qe,de,Te,"",function(nt){return nt})):Qe!=null&&(oe(Qe)&&(Qe=Ce(Qe,Te+(Qe.key==null||$&&$.key===Qe.key?"":(""+Qe.key).replace(ce,"$&/")+"/")+Pe)),de.push(Qe)),1;Pe=0;var Ze=ke===""?".":ke+":";if(q($))for(var me=0;me<$.length;me++)ke=$[me],Q=Ze+fe(ke,me),Pe+=te(ke,de,Te,Q,Qe);else if(me=_($),typeof me=="function")for($=me.call($),me=0;!(ke=$.next()).done;)ke=ke.value,Q=Ze+fe(ke,me++),Pe+=te(ke,de,Te,Q,Qe);else if(Q==="object"){if(typeof $.then=="function")return te(Z($),de,Te,ke,Qe);throw de=String($),Error("Objects are not valid as a React child (found: "+(de==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":de)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function ie($,de,Te){if($==null)return $;var ke=[],Qe=0;return te($,ke,"","",function(Q){return de.call(Te,Q,Qe++)}),ke}function ne($){if($._status===-1){var de=$._result;de=de(),de.then(function(Te){($._status===0||$._status===-1)&&($._status=1,$._result=Te)},function(Te){($._status===0||$._status===-1)&&($._status=2,$._result=Te)}),$._status===-1&&($._status=0,$._result=de)}if($._status===1)return $._result.default;throw $._result}var pe=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var de=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(de))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},Oe={map:ie,forEach:function($,de,Te){ie($,function(){de.apply(this,arguments)},Te)},count:function($){var de=0;return ie($,function(){de++}),de},toArray:function($){return ie($,function(de){return de})||[]},only:function($){if(!oe($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return Lt.Activity=A,Lt.Children=Oe,Lt.Component=R,Lt.Fragment=r,Lt.Profiler=l,Lt.PureComponent=U,Lt.StrictMode=n,Lt.Suspense=b,Lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Lt.__COMPILER_RUNTIME={__proto__:null,c:function($){return L.H.useMemoCache($)}},Lt.cache=function($){return function(){return $.apply(null,arguments)}},Lt.cacheSignal=function(){return null},Lt.cloneElement=function($,de,Te){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var ke=M({},$.props),Qe=$.key;if(de!=null)for(Q in de.key!==void 0&&(Qe=""+de.key),de)!J.call(de,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&de.ref===void 0||(ke[Q]=de[Q]);var Q=arguments.length-2;if(Q===1)ke.children=Te;else if(1<Q){for(var Pe=Array(Q),Ze=0;Ze<Q;Ze++)Pe[Ze]=arguments[Ze+2];ke.children=Pe}return K($.type,Qe,ke)},Lt.createContext=function($){return $={$$typeof:f,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:c,_context:$},$},Lt.createElement=function($,de,Te){var ke,Qe={},Q=null;if(de!=null)for(ke in de.key!==void 0&&(Q=""+de.key),de)J.call(de,ke)&&ke!=="key"&&ke!=="__self"&&ke!=="__source"&&(Qe[ke]=de[ke]);var Pe=arguments.length-2;if(Pe===1)Qe.children=Te;else if(1<Pe){for(var Ze=Array(Pe),me=0;me<Pe;me++)Ze[me]=arguments[me+2];Qe.children=Ze}if($&&$.defaultProps)for(ke in Pe=$.defaultProps,Pe)Qe[ke]===void 0&&(Qe[ke]=Pe[ke]);return K($,Q,Qe)},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function($){return{$$typeof:x,render:$}},Lt.isValidElement=oe,Lt.lazy=function($){return{$$typeof:w,_payload:{_status:-1,_result:$},_init:ne}},Lt.memo=function($,de){return{$$typeof:y,type:$,compare:de===void 0?null:de}},Lt.startTransition=function($){var de=L.T,Te={};L.T=Te;try{var ke=$(),Qe=L.S;Qe!==null&&Qe(Te,ke),typeof ke=="object"&&ke!==null&&typeof ke.then=="function"&&ke.then(Y,pe)}catch(Q){pe(Q)}finally{de!==null&&Te.types!==null&&(de.types=Te.types),L.T=de}},Lt.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Lt.use=function($){return L.H.use($)},Lt.useActionState=function($,de,Te){return L.H.useActionState($,de,Te)},Lt.useCallback=function($,de){return L.H.useCallback($,de)},Lt.useContext=function($){return L.H.useContext($)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function($,de){return L.H.useDeferredValue($,de)},Lt.useEffect=function($,de){return L.H.useEffect($,de)},Lt.useEffectEvent=function($){return L.H.useEffectEvent($)},Lt.useId=function(){return L.H.useId()},Lt.useImperativeHandle=function($,de,Te){return L.H.useImperativeHandle($,de,Te)},Lt.useInsertionEffect=function($,de){return L.H.useInsertionEffect($,de)},Lt.useLayoutEffect=function($,de){return L.H.useLayoutEffect($,de)},Lt.useMemo=function($,de){return L.H.useMemo($,de)},Lt.useOptimistic=function($,de){return L.H.useOptimistic($,de)},Lt.useReducer=function($,de,Te){return L.H.useReducer($,de,Te)},Lt.useRef=function($){return L.H.useRef($)},Lt.useState=function($){return L.H.useState($)},Lt.useSyncExternalStore=function($,de,Te){return L.H.useSyncExternalStore($,de,Te)},Lt.useTransition=function(){return L.H.useTransition()},Lt.version="19.2.4",Lt}var QA;function nu(){return QA||(QA=1,rx.exports=tM()),rx.exports}var O=nu();const C4=ls(O),rM=Q_({__proto__:null,default:C4},[O]);var nx={exports:{}},id={},ax={exports:{}},ix={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JA;function nM(){return JA||(JA=1,(function(e){function t(te,ie){var ne=te.length;te.push(ie);e:for(;0<ne;){var pe=ne-1>>>1,Oe=te[pe];if(0<l(Oe,ie))te[pe]=ie,te[ne]=Oe,ne=pe;else break e}}function r(te){return te.length===0?null:te[0]}function n(te){if(te.length===0)return null;var ie=te[0],ne=te.pop();if(ne!==ie){te[0]=ne;e:for(var pe=0,Oe=te.length,$=Oe>>>1;pe<$;){var de=2*(pe+1)-1,Te=te[de],ke=de+1,Qe=te[ke];if(0>l(Te,ne))ke<Oe&&0>l(Qe,Te)?(te[pe]=Qe,te[ke]=ne,pe=ke):(te[pe]=Te,te[de]=ne,pe=de);else if(ke<Oe&&0>l(Qe,ne))te[pe]=Qe,te[ke]=ne,pe=ke;else break e}}return ie}function l(te,ie){var ne=te.sortIndex-ie.sortIndex;return ne!==0?ne:te.id-ie.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var f=Date,x=f.now();e.unstable_now=function(){return f.now()-x}}var b=[],y=[],w=1,A=null,T=3,_=!1,j=!1,M=!1,k=!1,R=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function V(te){for(var ie=r(y);ie!==null;){if(ie.callback===null)n(y);else if(ie.startTime<=te)n(y),ie.sortIndex=ie.expirationTime,t(b,ie);else break;ie=r(y)}}function q(te){if(M=!1,V(te),!j)if(r(b)!==null)j=!0,Y||(Y=!0,ee());else{var ie=r(y);ie!==null&&Z(q,ie.startTime-te)}}var Y=!1,L=-1,J=5,K=-1;function Ce(){return k?!0:!(e.unstable_now()-K<J)}function oe(){if(k=!1,Y){var te=e.unstable_now();K=te;var ie=!0;try{e:{j=!1,M&&(M=!1,F(L),L=-1),_=!0;var ne=T;try{t:{for(V(te),A=r(b);A!==null&&!(A.expirationTime>te&&Ce());){var pe=A.callback;if(typeof pe=="function"){A.callback=null,T=A.priorityLevel;var Oe=pe(A.expirationTime<=te);if(te=e.unstable_now(),typeof Oe=="function"){A.callback=Oe,V(te),ie=!0;break t}A===r(b)&&n(b),V(te)}else n(b);A=r(b)}if(A!==null)ie=!0;else{var $=r(y);$!==null&&Z(q,$.startTime-te),ie=!1}}break e}finally{A=null,T=ne,_=!1}ie=void 0}}finally{ie?ee():Y=!1}}}var ee;if(typeof U=="function")ee=function(){U(oe)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,fe=ce.port2;ce.port1.onmessage=oe,ee=function(){fe.postMessage(null)}}else ee=function(){R(oe,0)};function Z(te,ie){L=R(function(){te(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(te){te.callback=null},e.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<te?Math.floor(1e3/te):5},e.unstable_getCurrentPriorityLevel=function(){return T},e.unstable_next=function(te){switch(T){case 1:case 2:case 3:var ie=3;break;default:ie=T}var ne=T;T=ie;try{return te()}finally{T=ne}},e.unstable_requestPaint=function(){k=!0},e.unstable_runWithPriority=function(te,ie){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ne=T;T=te;try{return ie()}finally{T=ne}},e.unstable_scheduleCallback=function(te,ie,ne){var pe=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?pe+ne:pe):ne=pe,te){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=ne+Oe,te={id:w++,callback:ie,priorityLevel:te,startTime:ne,expirationTime:Oe,sortIndex:-1},ne>pe?(te.sortIndex=ne,t(y,te),r(b)===null&&te===r(y)&&(M?(F(L),L=-1):M=!0,Z(q,ne-pe))):(te.sortIndex=Oe,t(b,te),j||_||(j=!0,Y||(Y=!0,ee()))),te},e.unstable_shouldYield=Ce,e.unstable_wrapCallback=function(te){var ie=T;return function(){var ne=T;T=ie;try{return te.apply(this,arguments)}finally{T=ne}}}})(ix)),ix}var eS;function aM(){return eS||(eS=1,ax.exports=nM()),ax.exports}var sx={exports:{}},ta={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tS;function iM(){if(tS)return ta;tS=1;var e=nu();function t(b){var y="https://react.dev/errors/"+b;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)y+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+b+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(b,y,w){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:b,containerInfo:y,implementation:w}}var f=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function x(b,y){if(b==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ta.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ta.createPortal=function(b,y){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(b,y,null,w)},ta.flushSync=function(b){var y=f.T,w=n.p;try{if(f.T=null,n.p=2,b)return b()}finally{f.T=y,n.p=w,n.d.f()}},ta.preconnect=function(b,y){typeof b=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,n.d.C(b,y))},ta.prefetchDNS=function(b){typeof b=="string"&&n.d.D(b)},ta.preinit=function(b,y){if(typeof b=="string"&&y&&typeof y.as=="string"){var w=y.as,A=x(w,y.crossOrigin),T=typeof y.integrity=="string"?y.integrity:void 0,_=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;w==="style"?n.d.S(b,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:T,fetchPriority:_}):w==="script"&&n.d.X(b,{crossOrigin:A,integrity:T,fetchPriority:_,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ta.preinitModule=function(b,y){if(typeof b=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var w=x(y.as,y.crossOrigin);n.d.M(b,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&n.d.M(b)},ta.preload=function(b,y){if(typeof b=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var w=y.as,A=x(w,y.crossOrigin);n.d.L(b,w,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ta.preloadModule=function(b,y){if(typeof b=="string")if(y){var w=x(y.as,y.crossOrigin);n.d.m(b,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else n.d.m(b)},ta.requestFormReset=function(b){n.d.r(b)},ta.unstable_batchedUpdates=function(b,y){return b(y)},ta.useFormState=function(b,y,w){return f.H.useFormState(b,y,w)},ta.useFormStatus=function(){return f.H.useHostTransitionStatus()},ta.version="19.2.4",ta}var rS;function T4(){if(rS)return sx.exports;rS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),sx.exports=iM(),sx.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nS;function sM(){if(nS)return id;nS=1;var e=aM(),t=nu(),r=T4();function n(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)s+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function c(a){var s=a,d=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(d=s.return),a=s.return;while(a)}return s.tag===3?d:null}function f(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function x(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function b(a){if(c(a)!==a)throw Error(n(188))}function y(a){var s=a.alternate;if(!s){if(s=c(a),s===null)throw Error(n(188));return s!==a?null:a}for(var d=a,g=s;;){var E=d.return;if(E===null)break;var C=E.alternate;if(C===null){if(g=E.return,g!==null){d=g;continue}break}if(E.child===C.child){for(C=E.child;C;){if(C===d)return b(E),a;if(C===g)return b(E),s;C=C.sibling}throw Error(n(188))}if(d.return!==g.return)d=E,g=C;else{for(var P=!1,G=E.child;G;){if(G===d){P=!0,d=E,g=C;break}if(G===g){P=!0,g=E,d=C;break}G=G.sibling}if(!P){for(G=C.child;G;){if(G===d){P=!0,d=C,g=E;break}if(G===g){P=!0,g=C,d=E;break}G=G.sibling}if(!P)throw Error(n(189))}}if(d.alternate!==g)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?a:s}function w(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=w(a),s!==null)return s;a=a.sibling}return null}var A=Object.assign,T=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),U=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),Ce=Symbol.for("react.memo_cache_sentinel"),oe=Symbol.iterator;function ee(a){return a===null||typeof a!="object"?null:(a=oe&&a[oe]||a["@@iterator"],typeof a=="function"?a:null)}var ce=Symbol.for("react.client.reference");function fe(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===ce?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case M:return"Fragment";case R:return"Profiler";case k:return"StrictMode";case q:return"Suspense";case Y:return"SuspenseList";case K:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case j:return"Portal";case U:return a.displayName||"Context";case F:return(a._context.displayName||"Context")+".Consumer";case V:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case L:return s=a.displayName||null,s!==null?s:fe(a.type)||"Memo";case J:s=a._payload,a=a._init;try{return fe(a(s))}catch{}}return null}var Z=Array.isArray,te=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},pe=[],Oe=-1;function $(a){return{current:a}}function de(a){0>Oe||(a.current=pe[Oe],pe[Oe]=null,Oe--)}function Te(a,s){Oe++,pe[Oe]=a.current,a.current=s}var ke=$(null),Qe=$(null),Q=$(null),Pe=$(null);function Ze(a,s){switch(Te(Q,s),Te(Qe,a),Te(ke,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?yA(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=yA(s),a=vA(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}de(ke),Te(ke,a)}function me(){de(ke),de(Qe),de(Q)}function nt(a){a.memoizedState!==null&&Te(Pe,a);var s=ke.current,d=vA(s,a.type);s!==d&&(Te(Qe,a),Te(ke,d))}function st(a){Qe.current===a&&(de(ke),de(Qe)),Pe.current===a&&(de(Pe),ed._currentValue=ne)}var Be,Je;function Et(a){if(Be===void 0)try{throw Error()}catch(d){var s=d.stack.trim().match(/\n( *(at )?)/);Be=s&&s[1]||"",Je=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Be+a+Je}var Ie=!1;function Nt(a,s){if(!a||Ie)return"";Ie=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(s){var Re=function(){throw Error()};if(Object.defineProperty(Re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Re,[])}catch(Ne){var we=Ne}Reflect.construct(a,[],Re)}else{try{Re.call()}catch(Ne){we=Ne}a.call(Re.prototype)}}else{try{throw Error()}catch(Ne){we=Ne}(Re=a())&&typeof Re.catch=="function"&&Re.catch(function(){})}}catch(Ne){if(Ne&&we&&typeof Ne.stack=="string")return[Ne.stack,we.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=g.DetermineComponentFrameRoot(),P=C[0],G=C[1];if(P&&G){var re=P.split(`
`),be=G.split(`
`);for(E=g=0;g<re.length&&!re[g].includes("DetermineComponentFrameRoot");)g++;for(;E<be.length&&!be[E].includes("DetermineComponentFrameRoot");)E++;if(g===re.length||E===be.length)for(g=re.length-1,E=be.length-1;1<=g&&0<=E&&re[g]!==be[E];)E--;for(;1<=g&&0<=E;g--,E--)if(re[g]!==be[E]){if(g!==1||E!==1)do if(g--,E--,0>E||re[g]!==be[E]){var _e=`
`+re[g].replace(" at new "," at ");return a.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",a.displayName)),_e}while(1<=g&&0<=E);break}}}finally{Ie=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?Et(d):""}function bt(a,s){switch(a.tag){case 26:case 27:case 5:return Et(a.type);case 16:return Et("Lazy");case 13:return a.child!==s&&s!==null?Et("Suspense Fallback"):Et("Suspense");case 19:return Et("SuspenseList");case 0:case 15:return Nt(a.type,!1);case 11:return Nt(a.type.render,!1);case 1:return Nt(a.type,!0);case 31:return Et("Activity");default:return""}}function Ct(a){try{var s="",d=null;do s+=bt(a,d),d=a,a=a.return;while(a);return s}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var lt=Object.prototype.hasOwnProperty,wn=e.unstable_scheduleCallback,et=e.unstable_cancelCallback,Da=e.unstable_shouldYield,ll=e.unstable_requestPaint,hr=e.unstable_now,zi=e.unstable_getCurrentPriorityLevel,In=e.unstable_ImmediatePriority,fs=e.unstable_UserBlockingPriority,Hn=e.unstable_NormalPriority,nn=e.unstable_LowPriority,Ai=e.unstable_IdlePriority,Ui=e.log,to=e.unstable_setDisableYieldValue,Qt=null,He=null;function lr(a){if(typeof Ui=="function"&&to(a),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(Qt,a)}catch{}}var jt=Math.clz32?Math.clz32:Ue,ge=Math.log,Me=Math.LN2;function Ue(a){return a>>>=0,a===0?32:31-(ge(a)/Me|0)|0}var Ge=256,Ve=262144,mt=4194304;function wt(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Jt(a,s,d){var g=a.pendingLanes;if(g===0)return 0;var E=0,C=a.suspendedLanes,P=a.pingedLanes;a=a.warmLanes;var G=g&134217727;return G!==0?(g=G&~C,g!==0?E=wt(g):(P&=G,P!==0?E=wt(P):d||(d=G&~a,d!==0&&(E=wt(d))))):(G=g&~C,G!==0?E=wt(G):P!==0?E=wt(P):d||(d=g&~a,d!==0&&(E=wt(d)))),E===0?0:s!==0&&s!==E&&(s&C)===0&&(C=E&-E,d=s&-s,C>=d||C===32&&(d&4194048)!==0)?s:E}function _t(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function tr(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yt(){var a=mt;return mt<<=1,(mt&62914560)===0&&(mt=4194304),a}function mr(a){for(var s=[],d=0;31>d;d++)s.push(a);return s}function Cr(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function rr(a,s,d,g,E,C){var P=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var G=a.entanglements,re=a.expirationTimes,be=a.hiddenUpdates;for(d=P&~d;0<d;){var _e=31-jt(d),Re=1<<_e;G[_e]=0,re[_e]=-1;var we=be[_e];if(we!==null)for(be[_e]=null,_e=0;_e<we.length;_e++){var Ne=we[_e];Ne!==null&&(Ne.lane&=-536870913)}d&=~Re}g!==0&&Gn(a,g,0),C!==0&&E===0&&a.tag!==0&&(a.suspendedLanes|=C&~(P&~s))}function Gn(a,s,d){a.pendingLanes|=s,a.suspendedLanes&=~s;var g=31-jt(s);a.entangledLanes|=s,a.entanglements[g]=a.entanglements[g]|1073741824|d&261930}function an(a,s){var d=a.entangledLanes|=s;for(a=a.entanglements;d;){var g=31-jt(d),E=1<<g;E&s|a[g]&s&&(a[g]|=s),d&=~E}}function Ra(a,s){var d=s&-s;return d=(d&42)!==0?1:kr(d),(d&(a.suspendedLanes|s))!==0?0:d}function kr(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function sa(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function sn(){var a=ie.p;return a!==0?a:(a=window.event,a===void 0?32:HA(a.type))}function ze(a,s){var d=ie.p;try{return ie.p=a,s()}finally{ie.p=d}}var Mt=Math.random().toString(36).slice(2),Vt="__reactFiber$"+Mt,nr="__reactProps$"+Mt,_n="__reactContainer$"+Mt,ti="__reactEvents$"+Mt,Si="__reactListeners$"+Mt,ea="__reactHandles$"+Mt,Fi="__reactResources$"+Mt,ln="__reactMarker$"+Mt;function Vn(a){delete a[Vt],delete a[nr],delete a[ti],delete a[Si],delete a[ea]}function zr(a){var s=a[Vt];if(s)return s;for(var d=a.parentNode;d;){if(s=d[_n]||d[Vt]){if(d=s.alternate,s.child!==null||d!==null&&d.child!==null)for(a=CA(a);a!==null;){if(d=a[Vt])return d;a=CA(a)}return s}a=d,d=a.parentNode}return null}function er(a){if(a=a[Vt]||a[_n]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function Hi(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(n(33))}function Yn(a){var s=a[Fi];return s||(s=a[Fi]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ur(a){a[ln]=!0}var Le=new Set,ue={};function De(a,s){Ye(a,s),Ye(a+"Capture",s)}function Ye(a,s){for(ue[a]=s,a=0;a<s.length;a++)Le.add(s[a])}var pt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),We={},Ke={};function rt(a){return lt.call(Ke,a)?!0:lt.call(We,a)?!1:pt.test(a)?Ke[a]=!0:(We[a]=!0,!1)}function pr(a,s,d){if(rt(s))if(d===null)a.removeAttribute(s);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var g=s.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+d)}}function Mn(a,s,d){if(d===null)a.removeAttribute(s);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+d)}}function kt(a,s,d,g){if(g===null)a.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(s,d,""+g)}}function ht(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function va(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ec(a,s,d){var g=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var E=g.get,C=g.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return E.call(this)},set:function(P){d=""+P,C.call(this,P)}}),Object.defineProperty(a,s,{enumerable:g.enumerable}),{getValue:function(){return d},setValue:function(P){d=""+P},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function Tr(a){if(!a._valueTracker){var s=va(a)?"checked":"value";a._valueTracker=ec(a,s,""+a[s])}}function Pa(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var d=s.getValue(),g="";return a&&(g=va(a)?a.checked?"true":"false":a.value),a=g,a!==d?(s.setValue(a),!0):!1}function tc(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var ol=/[\n"\\]/g;function Ht(a){return a.replace(ol,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function hn(a,s,d,g,E,C,P,G){a.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?a.type=P:a.removeAttribute("type"),s!=null?P==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+ht(s)):a.value!==""+ht(s)&&(a.value=""+ht(s)):P!=="submit"&&P!=="reset"||a.removeAttribute("value"),s!=null?X(a,P,ht(s)):d!=null?X(a,P,ht(d)):g!=null&&a.removeAttribute("value"),E==null&&C!=null&&(a.defaultChecked=!!C),E!=null&&(a.checked=E&&typeof E!="function"&&typeof E!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?a.name=""+ht(G):a.removeAttribute("name")}function ye(a,s,d,g,E,C,P,G){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(a.type=C),s!=null||d!=null){if(!(C!=="submit"&&C!=="reset"||s!=null)){Tr(a);return}d=d!=null?""+ht(d):"",s=s!=null?""+ht(s):d,G||s===a.value||(a.value=s),a.defaultValue=s}g=g??E,g=typeof g!="function"&&typeof g!="symbol"&&!!g,a.checked=G?a.checked:!!g,a.defaultChecked=!!g,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(a.name=P),Tr(a)}function X(a,s,d){s==="number"&&tc(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function ut(a,s,d,g){if(a=a.options,s){s={};for(var E=0;E<d.length;E++)s["$"+d[E]]=!0;for(d=0;d<a.length;d++)E=s.hasOwnProperty("$"+a[d].value),a[d].selected!==E&&(a[d].selected=E),E&&g&&(a[d].defaultSelected=!0)}else{for(d=""+ht(d),s=null,E=0;E<a.length;E++){if(a[E].value===d){a[E].selected=!0,g&&(a[E].defaultSelected=!0);return}s!==null||a[E].disabled||(s=a[E])}s!==null&&(s.selected=!0)}}function on(a,s,d){if(s!=null&&(s=""+ht(s),s!==a.value&&(a.value=s),d==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=d!=null?""+ht(d):""}function la(a,s,d,g){if(s==null){if(g!=null){if(d!=null)throw Error(n(92));if(Z(g)){if(1<g.length)throw Error(n(93));g=g[0]}d=g}d==null&&(d=""),s=d}d=ht(s),a.defaultValue=d,g=a.textContent,g===d&&g!==""&&g!==null&&(a.value=g),Tr(a)}function cl(a,s){if(s){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=s;return}}a.textContent=s}var xu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oa(a,s,d){var g=s.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":g?a.setProperty(s,d):typeof d!="number"||d===0||xu.has(s)?s==="float"?a.cssFloat=d:a[s]=(""+d).trim():a[s]=d+"px"}function xt(a,s,d){if(s!=null&&typeof s!="object")throw Error(n(62));if(a=a.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||s!=null&&s.hasOwnProperty(g)||(g.indexOf("--")===0?a.setProperty(g,""):g==="float"?a.cssFloat="":a[g]="");for(var E in s)g=s[E],s.hasOwnProperty(E)&&d[E]!==g&&oa(a,E,g)}else for(var C in s)s.hasOwnProperty(C)&&oa(a,C,s[C])}function Or(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),o1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ul(a){return o1.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function ba(){}var ro=null;function gu(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Rr=null,ri=null;function Ei(a){var s=er(a);if(s&&(a=s.stateNode)){var d=a[nr]||null;e:switch(a=s.stateNode,s.type){case"input":if(hn(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),s=d.name,d.type==="radio"&&s!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Ht(""+s)+'"][type="radio"]'),s=0;s<d.length;s++){var g=d[s];if(g!==a&&g.form===a.form){var E=g[nr]||null;if(!E)throw Error(n(90));hn(g,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(s=0;s<d.length;s++)g=d[s],g.form===a.form&&Pa(g)}break e;case"textarea":on(a,d.value,d.defaultValue);break e;case"select":s=d.value,s!=null&&ut(a,!!d.multiple,s,!1)}}}var At=!1;function xf(a,s,d){if(At)return a(s,d);At=!0;try{var g=a(s);return g}finally{if(At=!1,(Rr!==null||ri!==null)&&(l0(),Rr&&(s=Rr,a=ri,ri=Rr=null,Ei(s),a)))for(s=0;s<a.length;s++)Ei(a[s])}}function Dt(a,s){var d=a.stateNode;if(d===null)return null;var g=d[nr]||null;if(g===null)return null;d=g[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(n(231,s,typeof d));return d}var Ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yu=!1;if(Ir)try{var hs={};Object.defineProperty(hs,"passive",{get:function(){yu=!0}}),window.addEventListener("test",hs,hs),window.removeEventListener("test",hs,hs)}catch{yu=!1}var Ni=null,Ci=null,rc=null;function dl(){if(rc)return rc;var a,s=Ci,d=s.length,g,E="value"in Ni?Ni.value:Ni.textContent,C=E.length;for(a=0;a<d&&s[a]===E[a];a++);var P=d-a;for(g=1;g<=P&&s[d-g]===E[C-g];g++);return rc=E.slice(a,1<g?1-g:void 0)}function Gi(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Vi(){return!0}function vu(){return!1}function mn(a){function s(d,g,E,C,P){this._reactName=d,this._targetInst=E,this.type=g,this.nativeEvent=C,this.target=P,this.currentTarget=null;for(var G in a)a.hasOwnProperty(G)&&(d=a[G],this[G]=d?d(C):C[G]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Vi:vu,this.isPropagationStopped=vu,this}return A(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),s}var La={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},An=mn(La),fl=A({},La,{view:0,detail:0}),gf=mn(fl),nc,bu,no,ac=A({},fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ao,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==no&&(no&&a.type==="mousemove"?(nc=a.screenX-no.screenX,bu=a.screenY-no.screenY):bu=nc=0,no=a),nc)},movementY:function(a){return"movementY"in a?a.movementY:bu}}),or=mn(ac),yf=A({},ac,{dataTransfer:0}),ic=mn(yf),Yi=A({},fl,{relatedTarget:0}),wu=mn(Yi),Ee=A({},La,{animationName:0,elapsedTime:0,pseudoElement:0}),zt=mn(Ee),Sn=A({},La,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),sc=mn(Sn),vf=A({},La,{data:0}),bf=mn(vf),c1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},u1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cn(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=Au[a])?!!s[a]:!1}function ao(){return cn}var Fr=A({},fl,{key:function(a){if(a.key){var s=c1[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Gi(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?u1[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ao,charCode:function(a){return a.type==="keypress"?Gi(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Gi(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),lc=mn(Fr),ms=A({},ac,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ur=mn(ms),St=A({},fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ao}),d1=mn(St),_r=A({},La,{propertyName:0,elapsedTime:0,pseudoElement:0}),ps=mn(_r),hl=A({},ac,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),f1=mn(hl),ni=A({},La,{newState:0,oldState:0}),Su=mn(ni),wf=[9,13,27,32],io=Ir&&"CompositionEvent"in window,ml=null;Ir&&"documentMode"in document&&(ml=document.documentMode);var Af=Ir&&"TextEvent"in window&&!ml,Sf=Ir&&(!io||ml&&8<ml&&11>=ml),xs=" ",oc=!1;function Ef(a,s){switch(a){case"keyup":return wf.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pl(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var xl=!1;function qi(a,s){switch(a){case"compositionend":return pl(s);case"keypress":return s.which!==32?null:(oc=!0,xs);case"textInput":return a=s.data,a===xs&&oc?null:a;default:return null}}function cc(a,s){if(xl)return a==="compositionend"||!io&&Ef(a,s)?(a=dl(),rc=Ci=Ni=null,xl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Sf&&s.locale!=="ko"?null:s.data;default:return null}}var wa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eu(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!wa[a.type]:s==="textarea"}function Ba(a,s,d,g){Rr?ri?ri.push(g):ri=[g]:Rr=g,s=m0(s,"onChange"),0<s.length&&(d=new An("onChange","change",null,d,g),a.push({event:d,listeners:s}))}var so=null,gs=null;function h1(a){fA(a,0)}function lo(a){var s=Hi(a);if(Pa(s))return a}function za(a,s){if(a==="change")return s}var Nf=!1;if(Ir){var oo;if(Ir){var ys="oninput"in document;if(!ys){var Xt=document.createElement("div");Xt.setAttribute("oninput","return;"),ys=typeof Xt.oninput=="function"}oo=ys}else oo=!1;Nf=oo&&(!document.documentMode||9<document.documentMode)}function co(){so&&(so.detachEvent("onpropertychange",B),gs=so=null)}function B(a){if(a.propertyName==="value"&&lo(gs)){var s=[];Ba(s,gs,a,gu(a)),xf(h1,s)}}function i(a,s,d){a==="focusin"?(co(),so=s,gs=d,so.attachEvent("onpropertychange",B)):a==="focusout"&&co()}function o(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return lo(gs)}function u(a,s){if(a==="click")return lo(s)}function h(a,s){if(a==="input"||a==="change")return lo(s)}function p(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var v=typeof Object.is=="function"?Object.is:p;function S(a,s){if(v(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var d=Object.keys(a),g=Object.keys(s);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var E=d[g];if(!lt.call(s,E)||!v(a[E],s[E]))return!1}return!0}function N(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function I(a,s){var d=N(a);a=0;for(var g;d;){if(d.nodeType===3){if(g=a+d.textContent.length,a<=s&&g>=s)return{node:d,offset:s-a};a=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=N(d)}}function D(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?D(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function z(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=tc(a.document);s instanceof a.HTMLIFrameElement;){try{var d=typeof s.contentWindow.location.href=="string"}catch{d=!1}if(d)a=s.contentWindow;else break;s=tc(a.document)}return s}function H(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var W=Ir&&"documentMode"in document&&11>=document.documentMode,ae=null,se=null,xe=null,Ae=!1;function Xe(a,s,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Ae||ae==null||ae!==tc(g)||(g=ae,"selectionStart"in g&&H(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),xe&&S(xe,g)||(xe=g,g=m0(se,"onSelect"),0<g.length&&(s=new An("onSelect","select",null,s,d),a.push({event:s,listeners:g}),s.target=ae)))}function qe(a,s){var d={};return d[a.toLowerCase()]=s.toLowerCase(),d["Webkit"+a]="webkit"+s,d["Moz"+a]="moz"+s,d}var Fe={animationend:qe("Animation","AnimationEnd"),animationiteration:qe("Animation","AnimationIteration"),animationstart:qe("Animation","AnimationStart"),transitionrun:qe("Transition","TransitionRun"),transitionstart:qe("Transition","TransitionStart"),transitioncancel:qe("Transition","TransitionCancel"),transitionend:qe("Transition","TransitionEnd")},Ft={},Pt={};Ir&&(Pt=document.createElement("div").style,"AnimationEvent"in window||(delete Fe.animationend.animation,delete Fe.animationiteration.animation,delete Fe.animationstart.animation),"TransitionEvent"in window||delete Fe.transitionend.transition);function Kr(a){if(Ft[a])return Ft[a];if(!Fe[a])return a;var s=Fe[a],d;for(d in s)if(s.hasOwnProperty(d)&&d in Pt)return Ft[a]=s[d];return a}var Aa=Kr("animationend"),qn=Kr("animationiteration"),dr=Kr("animationstart"),En=Kr("transitionrun"),ca=Kr("transitionstart"),gl=Kr("transitioncancel"),vs=Kr("transitionend"),Cf=new Map,Nu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nu.push("scrollEnd");function Ti(a,s){Cf.set(a,s),De(s,[a])}var Tf=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},ai=[],uc=0,m1=0;function Of(){for(var a=uc,s=m1=uc=0;s<a;){var d=ai[s];ai[s++]=null;var g=ai[s];ai[s++]=null;var E=ai[s];ai[s++]=null;var C=ai[s];if(ai[s++]=null,g!==null&&E!==null){var P=g.pending;P===null?E.next=E:(E.next=P.next,P.next=E),g.pending=E}C!==0&&Xb(d,E,C)}}function If(a,s,d,g){ai[uc++]=a,ai[uc++]=s,ai[uc++]=d,ai[uc++]=g,m1|=g,a.lanes|=g,a=a.alternate,a!==null&&(a.lanes|=g)}function p1(a,s,d,g){return If(a,s,d,g),_f(a)}function uo(a,s){return If(a,null,null,s),_f(a)}function Xb(a,s,d){a.lanes|=d;var g=a.alternate;g!==null&&(g.lanes|=d);for(var E=!1,C=a.return;C!==null;)C.childLanes|=d,g=C.alternate,g!==null&&(g.childLanes|=d),C.tag===22&&(a=C.stateNode,a===null||a._visibility&1||(E=!0)),a=C,C=C.return;return a.tag===3?(C=a.stateNode,E&&s!==null&&(E=31-jt(d),a=C.hiddenUpdates,g=a[E],g===null?a[E]=[s]:g.push(s),s.lane=d|536870912),C):null}function _f(a){if(50<Xu)throw Xu=0,Ep=null,Error(n(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var dc={};function kI(a,s,d,g){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ua(a,s,d,g){return new kI(a,s,d,g)}function x1(a){return a=a.prototype,!(!a||!a.isReactComponent)}function bs(a,s){var d=a.alternate;return d===null?(d=Ua(a.tag,s,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=s,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,s=a.dependencies,d.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function Wb(a,s){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,s=d.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function Mf(a,s,d,g,E,C){var P=0;if(g=a,typeof a=="function")x1(a)&&(P=1);else if(typeof a=="string")P=B_(a,d,ke.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case K:return a=Ua(31,d,s,E),a.elementType=K,a.lanes=C,a;case M:return fo(d.children,E,C,s);case k:P=8,E|=24;break;case R:return a=Ua(12,d,s,E|2),a.elementType=R,a.lanes=C,a;case q:return a=Ua(13,d,s,E),a.elementType=q,a.lanes=C,a;case Y:return a=Ua(19,d,s,E),a.elementType=Y,a.lanes=C,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case U:P=10;break e;case F:P=9;break e;case V:P=11;break e;case L:P=14;break e;case J:P=16,g=null;break e}P=29,d=Error(n(130,a===null?"null":typeof a,"")),g=null}return s=Ua(P,d,s,E),s.elementType=a,s.type=g,s.lanes=C,s}function fo(a,s,d,g){return a=Ua(7,a,g,s),a.lanes=d,a}function g1(a,s,d){return a=Ua(6,a,null,s),a.lanes=d,a}function Kb(a){var s=Ua(18,null,null,0);return s.stateNode=a,s}function y1(a,s,d){return s=Ua(4,a.children!==null?a.children:[],a.key,s),s.lanes=d,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var Zb=new WeakMap;function ii(a,s){if(typeof a=="object"&&a!==null){var d=Zb.get(a);return d!==void 0?d:(s={value:a,source:s,stack:Ct(s)},Zb.set(a,s),s)}return{value:a,source:s,stack:Ct(s)}}var fc=[],hc=0,jf=null,Cu=0,si=[],li=0,yl=null,Xi=1,Wi="";function ws(a,s){fc[hc++]=Cu,fc[hc++]=jf,jf=a,Cu=s}function $b(a,s,d){si[li++]=Xi,si[li++]=Wi,si[li++]=yl,yl=a;var g=Xi;a=Wi;var E=32-jt(g)-1;g&=~(1<<E),d+=1;var C=32-jt(s)+E;if(30<C){var P=E-E%5;C=(g&(1<<P)-1).toString(32),g>>=P,E-=P,Xi=1<<32-jt(s)+E|d<<E|g,Wi=C+a}else Xi=1<<C|d<<E|g,Wi=a}function v1(a){a.return!==null&&(ws(a,1),$b(a,1,0))}function b1(a){for(;a===jf;)jf=fc[--hc],fc[hc]=null,Cu=fc[--hc],fc[hc]=null;for(;a===yl;)yl=si[--li],si[li]=null,Wi=si[--li],si[li]=null,Xi=si[--li],si[li]=null}function Qb(a,s){si[li++]=Xi,si[li++]=Wi,si[li++]=yl,Xi=s.id,Wi=s.overflow,yl=a}var Xn=null,Pr=null,Zt=!1,vl=null,oi=!1,w1=Error(n(519));function bl(a){var s=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Tu(ii(s,a)),w1}function Jb(a){var s=a.stateNode,d=a.type,g=a.memoizedProps;switch(s[Vt]=a,s[nr]=g,d){case"dialog":qt("cancel",s),qt("close",s);break;case"iframe":case"object":case"embed":qt("load",s);break;case"video":case"audio":for(d=0;d<Ku.length;d++)qt(Ku[d],s);break;case"source":qt("error",s);break;case"img":case"image":case"link":qt("error",s),qt("load",s);break;case"details":qt("toggle",s);break;case"input":qt("invalid",s),ye(s,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":qt("invalid",s);break;case"textarea":qt("invalid",s),la(s,g.value,g.defaultValue,g.children)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||s.textContent===""+d||g.suppressHydrationWarning===!0||xA(s.textContent,d)?(g.popover!=null&&(qt("beforetoggle",s),qt("toggle",s)),g.onScroll!=null&&qt("scroll",s),g.onScrollEnd!=null&&qt("scrollend",s),g.onClick!=null&&(s.onclick=ba),s=!0):s=!1,s||bl(a,!0)}function e2(a){for(Xn=a.return;Xn;)switch(Xn.tag){case 5:case 31:case 13:oi=!1;return;case 27:case 3:oi=!0;return;default:Xn=Xn.return}}function mc(a){if(a!==Xn)return!1;if(!Zt)return e2(a),Zt=!0,!1;var s=a.tag,d;if((d=s!==3&&s!==27)&&((d=s===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||zp(a.type,a.memoizedProps)),d=!d),d&&Pr&&bl(a),e2(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Pr=NA(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Pr=NA(a)}else s===27?(s=Pr,Dl(a.type)?(a=Vp,Vp=null,Pr=a):Pr=s):Pr=Xn?ui(a.stateNode.nextSibling):null;return!0}function ho(){Pr=Xn=null,Zt=!1}function A1(){var a=vl;return a!==null&&(Ca===null?Ca=a:Ca.push.apply(Ca,a),vl=null),a}function Tu(a){vl===null?vl=[a]:vl.push(a)}var S1=$(null),mo=null,As=null;function wl(a,s,d){Te(S1,s._currentValue),s._currentValue=d}function Ss(a){a._currentValue=S1.current,de(S1)}function E1(a,s,d){for(;a!==null;){var g=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,g!==null&&(g.childLanes|=s)):g!==null&&(g.childLanes&s)!==s&&(g.childLanes|=s),a===d)break;a=a.return}}function N1(a,s,d,g){var E=a.child;for(E!==null&&(E.return=a);E!==null;){var C=E.dependencies;if(C!==null){var P=E.child;C=C.firstContext;e:for(;C!==null;){var G=C;C=E;for(var re=0;re<s.length;re++)if(G.context===s[re]){C.lanes|=d,G=C.alternate,G!==null&&(G.lanes|=d),E1(C.return,d,a),g||(P=null);break e}C=G.next}}else if(E.tag===18){if(P=E.return,P===null)throw Error(n(341));P.lanes|=d,C=P.alternate,C!==null&&(C.lanes|=d),E1(P,d,a),P=null}else P=E.child;if(P!==null)P.return=E;else for(P=E;P!==null;){if(P===a){P=null;break}if(E=P.sibling,E!==null){E.return=P.return,P=E;break}P=P.return}E=P}}function pc(a,s,d,g){a=null;for(var E=s,C=!1;E!==null;){if(!C){if((E.flags&524288)!==0)C=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var P=E.alternate;if(P===null)throw Error(n(387));if(P=P.memoizedProps,P!==null){var G=E.type;v(E.pendingProps.value,P.value)||(a!==null?a.push(G):a=[G])}}else if(E===Pe.current){if(P=E.alternate,P===null)throw Error(n(387));P.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(a!==null?a.push(ed):a=[ed])}E=E.return}a!==null&&N1(s,a,d,g),s.flags|=262144}function kf(a){for(a=a.firstContext;a!==null;){if(!v(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function po(a){mo=a,As=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Wn(a){return t2(mo,a)}function Df(a,s){return mo===null&&po(a),t2(a,s)}function t2(a,s){var d=s._currentValue;if(s={context:s,memoizedValue:d,next:null},As===null){if(a===null)throw Error(n(308));As=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else As=As.next=s;return d}var DI=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(d,g){a.push(g)}};this.abort=function(){s.aborted=!0,a.forEach(function(d){return d()})}},RI=e.unstable_scheduleCallback,PI=e.unstable_NormalPriority,pn={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function C1(){return{controller:new DI,data:new Map,refCount:0}}function Ou(a){a.refCount--,a.refCount===0&&RI(PI,function(){a.controller.abort()})}var Iu=null,T1=0,xc=0,gc=null;function LI(a,s){if(Iu===null){var d=Iu=[];T1=0,xc=_p(),gc={status:"pending",value:void 0,then:function(g){d.push(g)}}}return T1++,s.then(r2,r2),s}function r2(){if(--T1===0&&Iu!==null){gc!==null&&(gc.status="fulfilled");var a=Iu;Iu=null,xc=0,gc=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function BI(a,s){var d=[],g={status:"pending",value:null,reason:null,then:function(E){d.push(E)}};return a.then(function(){g.status="fulfilled",g.value=s;for(var E=0;E<d.length;E++)(0,d[E])(s)},function(E){for(g.status="rejected",g.reason=E,E=0;E<d.length;E++)(0,d[E])(void 0)}),g}var n2=te.S;te.S=function(a,s){Uw=hr(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&LI(a,s),n2!==null&&n2(a,s)};var xo=$(null);function O1(){var a=xo.current;return a!==null?a:Mr.pooledCache}function Rf(a,s){s===null?Te(xo,xo.current):Te(xo,s.pool)}function a2(){var a=O1();return a===null?null:{parent:pn._currentValue,pool:a}}var yc=Error(n(460)),I1=Error(n(474)),Pf=Error(n(542)),Lf={then:function(){}};function i2(a){return a=a.status,a==="fulfilled"||a==="rejected"}function s2(a,s,d){switch(d=a[d],d===void 0?a.push(s):d!==s&&(s.then(ba,ba),s=d),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,o2(a),a;default:if(typeof s.status=="string")s.then(ba,ba);else{if(a=Mr,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=s,a.status="pending",a.then(function(g){if(s.status==="pending"){var E=s;E.status="fulfilled",E.value=g}},function(g){if(s.status==="pending"){var E=s;E.status="rejected",E.reason=g}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,o2(a),a}throw yo=s,yc}}function go(a){try{var s=a._init;return s(a._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(yo=d,yc):d}}var yo=null;function l2(){if(yo===null)throw Error(n(459));var a=yo;return yo=null,a}function o2(a){if(a===yc||a===Pf)throw Error(n(483))}var vc=null,_u=0;function Bf(a){var s=_u;return _u+=1,vc===null&&(vc=[]),s2(vc,a,s)}function Mu(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function zf(a,s){throw s.$$typeof===T?Error(n(525)):(a=Object.prototype.toString.call(s),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function c2(a){function s(he,le){if(a){var ve=he.deletions;ve===null?(he.deletions=[le],he.flags|=16):ve.push(le)}}function d(he,le){if(!a)return null;for(;le!==null;)s(he,le),le=le.sibling;return null}function g(he){for(var le=new Map;he!==null;)he.key!==null?le.set(he.key,he):le.set(he.index,he),he=he.sibling;return le}function E(he,le){return he=bs(he,le),he.index=0,he.sibling=null,he}function C(he,le,ve){return he.index=ve,a?(ve=he.alternate,ve!==null?(ve=ve.index,ve<le?(he.flags|=67108866,le):ve):(he.flags|=67108866,le)):(he.flags|=1048576,le)}function P(he){return a&&he.alternate===null&&(he.flags|=67108866),he}function G(he,le,ve,je){return le===null||le.tag!==6?(le=g1(ve,he.mode,je),le.return=he,le):(le=E(le,ve),le.return=he,le)}function re(he,le,ve,je){var vt=ve.type;return vt===M?_e(he,le,ve.props.children,je,ve.key):le!==null&&(le.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===J&&go(vt)===le.type)?(le=E(le,ve.props),Mu(le,ve),le.return=he,le):(le=Mf(ve.type,ve.key,ve.props,null,he.mode,je),Mu(le,ve),le.return=he,le)}function be(he,le,ve,je){return le===null||le.tag!==4||le.stateNode.containerInfo!==ve.containerInfo||le.stateNode.implementation!==ve.implementation?(le=y1(ve,he.mode,je),le.return=he,le):(le=E(le,ve.children||[]),le.return=he,le)}function _e(he,le,ve,je,vt){return le===null||le.tag!==7?(le=fo(ve,he.mode,je,vt),le.return=he,le):(le=E(le,ve),le.return=he,le)}function Re(he,le,ve){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return le=g1(""+le,he.mode,ve),le.return=he,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case _:return ve=Mf(le.type,le.key,le.props,null,he.mode,ve),Mu(ve,le),ve.return=he,ve;case j:return le=y1(le,he.mode,ve),le.return=he,le;case J:return le=go(le),Re(he,le,ve)}if(Z(le)||ee(le))return le=fo(le,he.mode,ve,null),le.return=he,le;if(typeof le.then=="function")return Re(he,Bf(le),ve);if(le.$$typeof===U)return Re(he,Df(he,le),ve);zf(he,le)}return null}function we(he,le,ve,je){var vt=le!==null?le.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return vt!==null?null:G(he,le,""+ve,je);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case _:return ve.key===vt?re(he,le,ve,je):null;case j:return ve.key===vt?be(he,le,ve,je):null;case J:return ve=go(ve),we(he,le,ve,je)}if(Z(ve)||ee(ve))return vt!==null?null:_e(he,le,ve,je,null);if(typeof ve.then=="function")return we(he,le,Bf(ve),je);if(ve.$$typeof===U)return we(he,le,Df(he,ve),je);zf(he,ve)}return null}function Ne(he,le,ve,je,vt){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return he=he.get(ve)||null,G(le,he,""+je,vt);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case _:return he=he.get(je.key===null?ve:je.key)||null,re(le,he,je,vt);case j:return he=he.get(je.key===null?ve:je.key)||null,be(le,he,je,vt);case J:return je=go(je),Ne(he,le,ve,je,vt)}if(Z(je)||ee(je))return he=he.get(ve)||null,_e(le,he,je,vt,null);if(typeof je.then=="function")return Ne(he,le,ve,Bf(je),vt);if(je.$$typeof===U)return Ne(he,le,ve,Df(le,je),vt);zf(le,je)}return null}function ct(he,le,ve,je){for(var vt=null,ar=null,ft=le,Ut=le=0,Kt=null;ft!==null&&Ut<ve.length;Ut++){ft.index>Ut?(Kt=ft,ft=null):Kt=ft.sibling;var ir=we(he,ft,ve[Ut],je);if(ir===null){ft===null&&(ft=Kt);break}a&&ft&&ir.alternate===null&&s(he,ft),le=C(ir,le,Ut),ar===null?vt=ir:ar.sibling=ir,ar=ir,ft=Kt}if(Ut===ve.length)return d(he,ft),Zt&&ws(he,Ut),vt;if(ft===null){for(;Ut<ve.length;Ut++)ft=Re(he,ve[Ut],je),ft!==null&&(le=C(ft,le,Ut),ar===null?vt=ft:ar.sibling=ft,ar=ft);return Zt&&ws(he,Ut),vt}for(ft=g(ft);Ut<ve.length;Ut++)Kt=Ne(ft,he,Ut,ve[Ut],je),Kt!==null&&(a&&Kt.alternate!==null&&ft.delete(Kt.key===null?Ut:Kt.key),le=C(Kt,le,Ut),ar===null?vt=Kt:ar.sibling=Kt,ar=Kt);return a&&ft.forEach(function(zl){return s(he,zl)}),Zt&&ws(he,Ut),vt}function Tt(he,le,ve,je){if(ve==null)throw Error(n(151));for(var vt=null,ar=null,ft=le,Ut=le=0,Kt=null,ir=ve.next();ft!==null&&!ir.done;Ut++,ir=ve.next()){ft.index>Ut?(Kt=ft,ft=null):Kt=ft.sibling;var zl=we(he,ft,ir.value,je);if(zl===null){ft===null&&(ft=Kt);break}a&&ft&&zl.alternate===null&&s(he,ft),le=C(zl,le,Ut),ar===null?vt=zl:ar.sibling=zl,ar=zl,ft=Kt}if(ir.done)return d(he,ft),Zt&&ws(he,Ut),vt;if(ft===null){for(;!ir.done;Ut++,ir=ve.next())ir=Re(he,ir.value,je),ir!==null&&(le=C(ir,le,Ut),ar===null?vt=ir:ar.sibling=ir,ar=ir);return Zt&&ws(he,Ut),vt}for(ft=g(ft);!ir.done;Ut++,ir=ve.next())ir=Ne(ft,he,Ut,ir.value,je),ir!==null&&(a&&ir.alternate!==null&&ft.delete(ir.key===null?Ut:ir.key),le=C(ir,le,Ut),ar===null?vt=ir:ar.sibling=ir,ar=ir);return a&&ft.forEach(function(K_){return s(he,K_)}),Zt&&ws(he,Ut),vt}function Ar(he,le,ve,je){if(typeof ve=="object"&&ve!==null&&ve.type===M&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case _:e:{for(var vt=ve.key;le!==null;){if(le.key===vt){if(vt=ve.type,vt===M){if(le.tag===7){d(he,le.sibling),je=E(le,ve.props.children),je.return=he,he=je;break e}}else if(le.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===J&&go(vt)===le.type){d(he,le.sibling),je=E(le,ve.props),Mu(je,ve),je.return=he,he=je;break e}d(he,le);break}else s(he,le);le=le.sibling}ve.type===M?(je=fo(ve.props.children,he.mode,je,ve.key),je.return=he,he=je):(je=Mf(ve.type,ve.key,ve.props,null,he.mode,je),Mu(je,ve),je.return=he,he=je)}return P(he);case j:e:{for(vt=ve.key;le!==null;){if(le.key===vt)if(le.tag===4&&le.stateNode.containerInfo===ve.containerInfo&&le.stateNode.implementation===ve.implementation){d(he,le.sibling),je=E(le,ve.children||[]),je.return=he,he=je;break e}else{d(he,le);break}else s(he,le);le=le.sibling}je=y1(ve,he.mode,je),je.return=he,he=je}return P(he);case J:return ve=go(ve),Ar(he,le,ve,je)}if(Z(ve))return ct(he,le,ve,je);if(ee(ve)){if(vt=ee(ve),typeof vt!="function")throw Error(n(150));return ve=vt.call(ve),Tt(he,le,ve,je)}if(typeof ve.then=="function")return Ar(he,le,Bf(ve),je);if(ve.$$typeof===U)return Ar(he,le,Df(he,ve),je);zf(he,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint"?(ve=""+ve,le!==null&&le.tag===6?(d(he,le.sibling),je=E(le,ve),je.return=he,he=je):(d(he,le),je=g1(ve,he.mode,je),je.return=he,he=je),P(he)):d(he,le)}return function(he,le,ve,je){try{_u=0;var vt=Ar(he,le,ve,je);return vc=null,vt}catch(ft){if(ft===yc||ft===Pf)throw ft;var ar=Ua(29,ft,null,he.mode);return ar.lanes=je,ar.return=he,ar}finally{}}}var vo=c2(!0),u2=c2(!1),Al=!1;function _1(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function M1(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Sl(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function El(a,s,d){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(cr&2)!==0){var E=g.pending;return E===null?s.next=s:(s.next=E.next,E.next=s),g.pending=s,s=_f(a),Xb(a,null,d),s}return If(a,g,s,d),_f(a)}function ju(a,s,d){if(s=s.updateQueue,s!==null&&(s=s.shared,(d&4194048)!==0)){var g=s.lanes;g&=a.pendingLanes,d|=g,s.lanes=d,an(a,d)}}function j1(a,s){var d=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var E=null,C=null;if(d=d.firstBaseUpdate,d!==null){do{var P={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};C===null?E=C=P:C=C.next=P,d=d.next}while(d!==null);C===null?E=C=s:C=C.next=s}else E=C=s;d={baseState:g.baseState,firstBaseUpdate:E,lastBaseUpdate:C,shared:g.shared,callbacks:g.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=s:a.next=s,d.lastBaseUpdate=s}var k1=!1;function ku(){if(k1){var a=gc;if(a!==null)throw a}}function Du(a,s,d,g){k1=!1;var E=a.updateQueue;Al=!1;var C=E.firstBaseUpdate,P=E.lastBaseUpdate,G=E.shared.pending;if(G!==null){E.shared.pending=null;var re=G,be=re.next;re.next=null,P===null?C=be:P.next=be,P=re;var _e=a.alternate;_e!==null&&(_e=_e.updateQueue,G=_e.lastBaseUpdate,G!==P&&(G===null?_e.firstBaseUpdate=be:G.next=be,_e.lastBaseUpdate=re))}if(C!==null){var Re=E.baseState;P=0,_e=be=re=null,G=C;do{var we=G.lane&-536870913,Ne=we!==G.lane;if(Ne?(Wt&we)===we:(g&we)===we){we!==0&&we===xc&&(k1=!0),_e!==null&&(_e=_e.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var ct=a,Tt=G;we=s;var Ar=d;switch(Tt.tag){case 1:if(ct=Tt.payload,typeof ct=="function"){Re=ct.call(Ar,Re,we);break e}Re=ct;break e;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=Tt.payload,we=typeof ct=="function"?ct.call(Ar,Re,we):ct,we==null)break e;Re=A({},Re,we);break e;case 2:Al=!0}}we=G.callback,we!==null&&(a.flags|=64,Ne&&(a.flags|=8192),Ne=E.callbacks,Ne===null?E.callbacks=[we]:Ne.push(we))}else Ne={lane:we,tag:G.tag,payload:G.payload,callback:G.callback,next:null},_e===null?(be=_e=Ne,re=Re):_e=_e.next=Ne,P|=we;if(G=G.next,G===null){if(G=E.shared.pending,G===null)break;Ne=G,G=Ne.next,Ne.next=null,E.lastBaseUpdate=Ne,E.shared.pending=null}}while(!0);_e===null&&(re=Re),E.baseState=re,E.firstBaseUpdate=be,E.lastBaseUpdate=_e,C===null&&(E.shared.lanes=0),Il|=P,a.lanes=P,a.memoizedState=Re}}function d2(a,s){if(typeof a!="function")throw Error(n(191,a));a.call(s)}function f2(a,s){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)d2(d[a],s)}var bc=$(null),Uf=$(0);function h2(a,s){a=js,Te(Uf,a),Te(bc,s),js=a|s.baseLanes}function D1(){Te(Uf,js),Te(bc,bc.current)}function R1(){js=Uf.current,de(bc),de(Uf)}var Fa=$(null),ci=null;function Nl(a){var s=a.alternate;Te(un,un.current&1),Te(Fa,a),ci===null&&(s===null||bc.current!==null||s.memoizedState!==null)&&(ci=a)}function P1(a){Te(un,un.current),Te(Fa,a),ci===null&&(ci=a)}function m2(a){a.tag===22?(Te(un,un.current),Te(Fa,a),ci===null&&(ci=a)):Cl()}function Cl(){Te(un,un.current),Te(Fa,Fa.current)}function Ha(a){de(Fa),ci===a&&(ci=null),de(un)}var un=$(0);function Ff(a){for(var s=a;s!==null;){if(s.tag===13){var d=s.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||Hp(d)||Gp(d)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Es=0,Bt=null,br=null,xn=null,Hf=!1,wc=!1,bo=!1,Gf=0,Ru=0,Ac=null,zI=0;function Zr(){throw Error(n(321))}function L1(a,s){if(s===null)return!1;for(var d=0;d<s.length&&d<a.length;d++)if(!v(a[d],s[d]))return!1;return!0}function B1(a,s,d,g,E,C){return Es=C,Bt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,te.H=a===null||a.memoizedState===null?$2:J1,bo=!1,C=d(g,E),bo=!1,wc&&(C=x2(s,d,g,E)),p2(a),C}function p2(a){te.H=Bu;var s=br!==null&&br.next!==null;if(Es=0,xn=br=Bt=null,Hf=!1,Ru=0,Ac=null,s)throw Error(n(300));a===null||gn||(a=a.dependencies,a!==null&&kf(a)&&(gn=!0))}function x2(a,s,d,g){Bt=a;var E=0;do{if(wc&&(Ac=null),Ru=0,wc=!1,25<=E)throw Error(n(301));if(E+=1,xn=br=null,a.updateQueue!=null){var C=a.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}te.H=Q2,C=s(d,g)}while(wc);return C}function UI(){var a=te.H,s=a.useState()[0];return s=typeof s.then=="function"?Pu(s):s,a=a.useState()[0],(br!==null?br.memoizedState:null)!==a&&(Bt.flags|=1024),s}function z1(){var a=Gf!==0;return Gf=0,a}function U1(a,s,d){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~d}function F1(a){if(Hf){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Hf=!1}Es=0,xn=br=Bt=null,wc=!1,Ru=Gf=0,Ac=null}function ua(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?Bt.memoizedState=xn=a:xn=xn.next=a,xn}function dn(){if(br===null){var a=Bt.alternate;a=a!==null?a.memoizedState:null}else a=br.next;var s=xn===null?Bt.memoizedState:xn.next;if(s!==null)xn=s,br=a;else{if(a===null)throw Bt.alternate===null?Error(n(467)):Error(n(310));br=a,a={memoizedState:br.memoizedState,baseState:br.baseState,baseQueue:br.baseQueue,queue:br.queue,next:null},xn===null?Bt.memoizedState=xn=a:xn=xn.next=a}return xn}function Vf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pu(a){var s=Ru;return Ru+=1,Ac===null&&(Ac=[]),a=s2(Ac,a,s),s=Bt,(xn===null?s.memoizedState:xn.next)===null&&(s=s.alternate,te.H=s===null||s.memoizedState===null?$2:J1),a}function Yf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Pu(a);if(a.$$typeof===U)return Wn(a)}throw Error(n(438,String(a)))}function H1(a){var s=null,d=Bt.updateQueue;if(d!==null&&(s=d.memoCache),s==null){var g=Bt.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(s={data:g.data.map(function(E){return E.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),d===null&&(d=Vf(),Bt.updateQueue=d),d.memoCache=s,d=s.data[s.index],d===void 0)for(d=s.data[s.index]=Array(a),g=0;g<a;g++)d[g]=Ce;return s.index++,d}function Ns(a,s){return typeof s=="function"?s(a):s}function qf(a){var s=dn();return G1(s,br,a)}function G1(a,s,d){var g=a.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=d;var E=a.baseQueue,C=g.pending;if(C!==null){if(E!==null){var P=E.next;E.next=C.next,C.next=P}s.baseQueue=E=C,g.pending=null}if(C=a.baseState,E===null)a.memoizedState=C;else{s=E.next;var G=P=null,re=null,be=s,_e=!1;do{var Re=be.lane&-536870913;if(Re!==be.lane?(Wt&Re)===Re:(Es&Re)===Re){var we=be.revertLane;if(we===0)re!==null&&(re=re.next={lane:0,revertLane:0,gesture:null,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null}),Re===xc&&(_e=!0);else if((Es&we)===we){be=be.next,we===xc&&(_e=!0);continue}else Re={lane:0,revertLane:be.revertLane,gesture:null,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null},re===null?(G=re=Re,P=C):re=re.next=Re,Bt.lanes|=we,Il|=we;Re=be.action,bo&&d(C,Re),C=be.hasEagerState?be.eagerState:d(C,Re)}else we={lane:Re,revertLane:be.revertLane,gesture:be.gesture,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null},re===null?(G=re=we,P=C):re=re.next=we,Bt.lanes|=Re,Il|=Re;be=be.next}while(be!==null&&be!==s);if(re===null?P=C:re.next=G,!v(C,a.memoizedState)&&(gn=!0,_e&&(d=gc,d!==null)))throw d;a.memoizedState=C,a.baseState=P,a.baseQueue=re,g.lastRenderedState=C}return E===null&&(g.lanes=0),[a.memoizedState,g.dispatch]}function V1(a){var s=dn(),d=s.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=a;var g=d.dispatch,E=d.pending,C=s.memoizedState;if(E!==null){d.pending=null;var P=E=E.next;do C=a(C,P.action),P=P.next;while(P!==E);v(C,s.memoizedState)||(gn=!0),s.memoizedState=C,s.baseQueue===null&&(s.baseState=C),d.lastRenderedState=C}return[C,g]}function g2(a,s,d){var g=Bt,E=dn(),C=Zt;if(C){if(d===void 0)throw Error(n(407));d=d()}else d=s();var P=!v((br||E).memoizedState,d);if(P&&(E.memoizedState=d,gn=!0),E=E.queue,X1(b2.bind(null,g,E,a),[a]),E.getSnapshot!==s||P||xn!==null&&xn.memoizedState.tag&1){if(g.flags|=2048,Sc(9,{destroy:void 0},v2.bind(null,g,E,d,s),null),Mr===null)throw Error(n(349));C||(Es&127)!==0||y2(g,s,d)}return d}function y2(a,s,d){a.flags|=16384,a={getSnapshot:s,value:d},s=Bt.updateQueue,s===null?(s=Vf(),Bt.updateQueue=s,s.stores=[a]):(d=s.stores,d===null?s.stores=[a]:d.push(a))}function v2(a,s,d,g){s.value=d,s.getSnapshot=g,w2(s)&&A2(a)}function b2(a,s,d){return d(function(){w2(s)&&A2(a)})}function w2(a){var s=a.getSnapshot;a=a.value;try{var d=s();return!v(a,d)}catch{return!0}}function A2(a){var s=uo(a,2);s!==null&&Ta(s,a,2)}function Y1(a){var s=ua();if(typeof a=="function"){var d=a;if(a=d(),bo){lr(!0);try{d()}finally{lr(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:a},s}function S2(a,s,d,g){return a.baseState=d,G1(a,br,typeof g=="function"?g:Ns)}function FI(a,s,d,g,E){if(Kf(a))throw Error(n(485));if(a=s.action,a!==null){var C={payload:E,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){C.listeners.push(P)}};te.T!==null?d(!0):C.isTransition=!1,g(C),d=s.pending,d===null?(C.next=s.pending=C,E2(s,C)):(C.next=d.next,s.pending=d.next=C)}}function E2(a,s){var d=s.action,g=s.payload,E=a.state;if(s.isTransition){var C=te.T,P={};te.T=P;try{var G=d(E,g),re=te.S;re!==null&&re(P,G),N2(a,s,G)}catch(be){q1(a,s,be)}finally{C!==null&&P.types!==null&&(C.types=P.types),te.T=C}}else try{C=d(E,g),N2(a,s,C)}catch(be){q1(a,s,be)}}function N2(a,s,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){C2(a,s,g)},function(g){return q1(a,s,g)}):C2(a,s,d)}function C2(a,s,d){s.status="fulfilled",s.value=d,T2(s),a.state=d,s=a.pending,s!==null&&(d=s.next,d===s?a.pending=null:(d=d.next,s.next=d,E2(a,d)))}function q1(a,s,d){var g=a.pending;if(a.pending=null,g!==null){g=g.next;do s.status="rejected",s.reason=d,T2(s),s=s.next;while(s!==g)}a.action=null}function T2(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function O2(a,s){return s}function I2(a,s){if(Zt){var d=Mr.formState;if(d!==null){e:{var g=Bt;if(Zt){if(Pr){t:{for(var E=Pr,C=oi;E.nodeType!==8;){if(!C){E=null;break t}if(E=ui(E.nextSibling),E===null){E=null;break t}}C=E.data,E=C==="F!"||C==="F"?E:null}if(E){Pr=ui(E.nextSibling),g=E.data==="F!";break e}}bl(g)}g=!1}g&&(s=d[0])}}return d=ua(),d.memoizedState=d.baseState=s,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:O2,lastRenderedState:s},d.queue=g,d=W2.bind(null,Bt,g),g.dispatch=d,g=Y1(!1),C=Q1.bind(null,Bt,!1,g.queue),g=ua(),E={state:s,dispatch:null,action:a,pending:null},g.queue=E,d=FI.bind(null,Bt,E,C,d),E.dispatch=d,g.memoizedState=a,[s,d,!1]}function _2(a){var s=dn();return M2(s,br,a)}function M2(a,s,d){if(s=G1(a,s,O2)[0],a=qf(Ns)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var g=Pu(s)}catch(P){throw P===yc?Pf:P}else g=s;s=dn();var E=s.queue,C=E.dispatch;return d!==s.memoizedState&&(Bt.flags|=2048,Sc(9,{destroy:void 0},HI.bind(null,E,d),null)),[g,C,a]}function HI(a,s){a.action=s}function j2(a){var s=dn(),d=br;if(d!==null)return M2(s,d,a);dn(),s=s.memoizedState,d=dn();var g=d.queue.dispatch;return d.memoizedState=a,[s,g,!1]}function Sc(a,s,d,g){return a={tag:a,create:d,deps:g,inst:s,next:null},s=Bt.updateQueue,s===null&&(s=Vf(),Bt.updateQueue=s),d=s.lastEffect,d===null?s.lastEffect=a.next=a:(g=d.next,d.next=a,a.next=g,s.lastEffect=a),a}function k2(){return dn().memoizedState}function Xf(a,s,d,g){var E=ua();Bt.flags|=a,E.memoizedState=Sc(1|s,{destroy:void 0},d,g===void 0?null:g)}function Wf(a,s,d,g){var E=dn();g=g===void 0?null:g;var C=E.memoizedState.inst;br!==null&&g!==null&&L1(g,br.memoizedState.deps)?E.memoizedState=Sc(s,C,d,g):(Bt.flags|=a,E.memoizedState=Sc(1|s,C,d,g))}function D2(a,s){Xf(8390656,8,a,s)}function X1(a,s){Wf(2048,8,a,s)}function GI(a){Bt.flags|=4;var s=Bt.updateQueue;if(s===null)s=Vf(),Bt.updateQueue=s,s.events=[a];else{var d=s.events;d===null?s.events=[a]:d.push(a)}}function R2(a){var s=dn().memoizedState;return GI({ref:s,nextImpl:a}),function(){if((cr&2)!==0)throw Error(n(440));return s.impl.apply(void 0,arguments)}}function P2(a,s){return Wf(4,2,a,s)}function L2(a,s){return Wf(4,4,a,s)}function B2(a,s){if(typeof s=="function"){a=a();var d=s(a);return function(){typeof d=="function"?d():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function z2(a,s,d){d=d!=null?d.concat([a]):null,Wf(4,4,B2.bind(null,s,a),d)}function W1(){}function U2(a,s){var d=dn();s=s===void 0?null:s;var g=d.memoizedState;return s!==null&&L1(s,g[1])?g[0]:(d.memoizedState=[a,s],a)}function F2(a,s){var d=dn();s=s===void 0?null:s;var g=d.memoizedState;if(s!==null&&L1(s,g[1]))return g[0];if(g=a(),bo){lr(!0);try{a()}finally{lr(!1)}}return d.memoizedState=[g,s],g}function K1(a,s,d){return d===void 0||(Es&1073741824)!==0&&(Wt&261930)===0?a.memoizedState=s:(a.memoizedState=d,a=Hw(),Bt.lanes|=a,Il|=a,d)}function H2(a,s,d,g){return v(d,s)?d:bc.current!==null?(a=K1(a,d,g),v(a,s)||(gn=!0),a):(Es&42)===0||(Es&1073741824)!==0&&(Wt&261930)===0?(gn=!0,a.memoizedState=d):(a=Hw(),Bt.lanes|=a,Il|=a,s)}function G2(a,s,d,g,E){var C=ie.p;ie.p=C!==0&&8>C?C:8;var P=te.T,G={};te.T=G,Q1(a,!1,s,d);try{var re=E(),be=te.S;if(be!==null&&be(G,re),re!==null&&typeof re=="object"&&typeof re.then=="function"){var _e=BI(re,g);Lu(a,s,_e,Ya(a))}else Lu(a,s,g,Ya(a))}catch(Re){Lu(a,s,{then:function(){},status:"rejected",reason:Re},Ya())}finally{ie.p=C,P!==null&&G.types!==null&&(P.types=G.types),te.T=P}}function VI(){}function Z1(a,s,d,g){if(a.tag!==5)throw Error(n(476));var E=V2(a).queue;G2(a,E,s,ne,d===null?VI:function(){return Y2(a),d(g)})}function V2(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:ne},next:null};var d={};return s.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:d},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function Y2(a){var s=V2(a);s.next===null&&(s=a.alternate.memoizedState),Lu(a,s.next.queue,{},Ya())}function $1(){return Wn(ed)}function q2(){return dn().memoizedState}function X2(){return dn().memoizedState}function YI(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var d=Ya();a=Sl(d);var g=El(s,a,d);g!==null&&(Ta(g,s,d),ju(g,s,d)),s={cache:C1()},a.payload=s;return}s=s.return}}function qI(a,s,d){var g=Ya();d={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Kf(a)?K2(s,d):(d=p1(a,s,d,g),d!==null&&(Ta(d,a,g),Z2(d,s,g)))}function W2(a,s,d){var g=Ya();Lu(a,s,d,g)}function Lu(a,s,d,g){var E={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Kf(a))K2(s,E);else{var C=a.alternate;if(a.lanes===0&&(C===null||C.lanes===0)&&(C=s.lastRenderedReducer,C!==null))try{var P=s.lastRenderedState,G=C(P,d);if(E.hasEagerState=!0,E.eagerState=G,v(G,P))return If(a,s,E,0),Mr===null&&Of(),!1}catch{}finally{}if(d=p1(a,s,E,g),d!==null)return Ta(d,a,g),Z2(d,s,g),!0}return!1}function Q1(a,s,d,g){if(g={lane:2,revertLane:_p(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Kf(a)){if(s)throw Error(n(479))}else s=p1(a,d,g,2),s!==null&&Ta(s,a,2)}function Kf(a){var s=a.alternate;return a===Bt||s!==null&&s===Bt}function K2(a,s){wc=Hf=!0;var d=a.pending;d===null?s.next=s:(s.next=d.next,d.next=s),a.pending=s}function Z2(a,s,d){if((d&4194048)!==0){var g=s.lanes;g&=a.pendingLanes,d|=g,s.lanes=d,an(a,d)}}var Bu={readContext:Wn,use:Yf,useCallback:Zr,useContext:Zr,useEffect:Zr,useImperativeHandle:Zr,useLayoutEffect:Zr,useInsertionEffect:Zr,useMemo:Zr,useReducer:Zr,useRef:Zr,useState:Zr,useDebugValue:Zr,useDeferredValue:Zr,useTransition:Zr,useSyncExternalStore:Zr,useId:Zr,useHostTransitionStatus:Zr,useFormState:Zr,useActionState:Zr,useOptimistic:Zr,useMemoCache:Zr,useCacheRefresh:Zr};Bu.useEffectEvent=Zr;var $2={readContext:Wn,use:Yf,useCallback:function(a,s){return ua().memoizedState=[a,s===void 0?null:s],a},useContext:Wn,useEffect:D2,useImperativeHandle:function(a,s,d){d=d!=null?d.concat([a]):null,Xf(4194308,4,B2.bind(null,s,a),d)},useLayoutEffect:function(a,s){return Xf(4194308,4,a,s)},useInsertionEffect:function(a,s){Xf(4,2,a,s)},useMemo:function(a,s){var d=ua();s=s===void 0?null:s;var g=a();if(bo){lr(!0);try{a()}finally{lr(!1)}}return d.memoizedState=[g,s],g},useReducer:function(a,s,d){var g=ua();if(d!==void 0){var E=d(s);if(bo){lr(!0);try{d(s)}finally{lr(!1)}}}else E=s;return g.memoizedState=g.baseState=E,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:E},g.queue=a,a=a.dispatch=qI.bind(null,Bt,a),[g.memoizedState,a]},useRef:function(a){var s=ua();return a={current:a},s.memoizedState=a},useState:function(a){a=Y1(a);var s=a.queue,d=W2.bind(null,Bt,s);return s.dispatch=d,[a.memoizedState,d]},useDebugValue:W1,useDeferredValue:function(a,s){var d=ua();return K1(d,a,s)},useTransition:function(){var a=Y1(!1);return a=G2.bind(null,Bt,a.queue,!0,!1),ua().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,d){var g=Bt,E=ua();if(Zt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=s(),Mr===null)throw Error(n(349));(Wt&127)!==0||y2(g,s,d)}E.memoizedState=d;var C={value:d,getSnapshot:s};return E.queue=C,D2(b2.bind(null,g,C,a),[a]),g.flags|=2048,Sc(9,{destroy:void 0},v2.bind(null,g,C,d,s),null),d},useId:function(){var a=ua(),s=Mr.identifierPrefix;if(Zt){var d=Wi,g=Xi;d=(g&~(1<<32-jt(g)-1)).toString(32)+d,s="_"+s+"R_"+d,d=Gf++,0<d&&(s+="H"+d.toString(32)),s+="_"}else d=zI++,s="_"+s+"r_"+d.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:$1,useFormState:I2,useActionState:I2,useOptimistic:function(a){var s=ua();s.memoizedState=s.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=d,s=Q1.bind(null,Bt,!0,d),d.dispatch=s,[a,s]},useMemoCache:H1,useCacheRefresh:function(){return ua().memoizedState=YI.bind(null,Bt)},useEffectEvent:function(a){var s=ua(),d={impl:a};return s.memoizedState=d,function(){if((cr&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}},J1={readContext:Wn,use:Yf,useCallback:U2,useContext:Wn,useEffect:X1,useImperativeHandle:z2,useInsertionEffect:P2,useLayoutEffect:L2,useMemo:F2,useReducer:qf,useRef:k2,useState:function(){return qf(Ns)},useDebugValue:W1,useDeferredValue:function(a,s){var d=dn();return H2(d,br.memoizedState,a,s)},useTransition:function(){var a=qf(Ns)[0],s=dn().memoizedState;return[typeof a=="boolean"?a:Pu(a),s]},useSyncExternalStore:g2,useId:q2,useHostTransitionStatus:$1,useFormState:_2,useActionState:_2,useOptimistic:function(a,s){var d=dn();return S2(d,br,a,s)},useMemoCache:H1,useCacheRefresh:X2};J1.useEffectEvent=R2;var Q2={readContext:Wn,use:Yf,useCallback:U2,useContext:Wn,useEffect:X1,useImperativeHandle:z2,useInsertionEffect:P2,useLayoutEffect:L2,useMemo:F2,useReducer:V1,useRef:k2,useState:function(){return V1(Ns)},useDebugValue:W1,useDeferredValue:function(a,s){var d=dn();return br===null?K1(d,a,s):H2(d,br.memoizedState,a,s)},useTransition:function(){var a=V1(Ns)[0],s=dn().memoizedState;return[typeof a=="boolean"?a:Pu(a),s]},useSyncExternalStore:g2,useId:q2,useHostTransitionStatus:$1,useFormState:j2,useActionState:j2,useOptimistic:function(a,s){var d=dn();return br!==null?S2(d,br,a,s):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:H1,useCacheRefresh:X2};Q2.useEffectEvent=R2;function ep(a,s,d,g){s=a.memoizedState,d=d(g,s),d=d==null?s:A({},s,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var tp={enqueueSetState:function(a,s,d){a=a._reactInternals;var g=Ya(),E=Sl(g);E.payload=s,d!=null&&(E.callback=d),s=El(a,E,g),s!==null&&(Ta(s,a,g),ju(s,a,g))},enqueueReplaceState:function(a,s,d){a=a._reactInternals;var g=Ya(),E=Sl(g);E.tag=1,E.payload=s,d!=null&&(E.callback=d),s=El(a,E,g),s!==null&&(Ta(s,a,g),ju(s,a,g))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var d=Ya(),g=Sl(d);g.tag=2,s!=null&&(g.callback=s),s=El(a,g,d),s!==null&&(Ta(s,a,d),ju(s,a,d))}};function J2(a,s,d,g,E,C,P){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,C,P):s.prototype&&s.prototype.isPureReactComponent?!S(d,g)||!S(E,C):!0}function ew(a,s,d,g){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(d,g),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(d,g),s.state!==a&&tp.enqueueReplaceState(s,s.state,null)}function wo(a,s){var d=s;if("ref"in s){d={};for(var g in s)g!=="ref"&&(d[g]=s[g])}if(a=a.defaultProps){d===s&&(d=A({},d));for(var E in a)d[E]===void 0&&(d[E]=a[E])}return d}function tw(a){Tf(a)}function rw(a){console.error(a)}function nw(a){Tf(a)}function Zf(a,s){try{var d=a.onUncaughtError;d(s.value,{componentStack:s.stack})}catch(g){setTimeout(function(){throw g})}}function aw(a,s,d){try{var g=a.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function rp(a,s,d){return d=Sl(d),d.tag=3,d.payload={element:null},d.callback=function(){Zf(a,s)},d}function iw(a){return a=Sl(a),a.tag=3,a}function sw(a,s,d,g){var E=d.type.getDerivedStateFromError;if(typeof E=="function"){var C=g.value;a.payload=function(){return E(C)},a.callback=function(){aw(s,d,g)}}var P=d.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(a.callback=function(){aw(s,d,g),typeof E!="function"&&(_l===null?_l=new Set([this]):_l.add(this));var G=g.stack;this.componentDidCatch(g.value,{componentStack:G!==null?G:""})})}function XI(a,s,d,g,E){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(s=d.alternate,s!==null&&pc(s,d,E,!0),d=Fa.current,d!==null){switch(d.tag){case 31:case 13:return ci===null?o0():d.alternate===null&&$r===0&&($r=3),d.flags&=-257,d.flags|=65536,d.lanes=E,g===Lf?d.flags|=16384:(s=d.updateQueue,s===null?d.updateQueue=new Set([g]):s.add(g),Tp(a,g,E)),!1;case 22:return d.flags|=65536,g===Lf?d.flags|=16384:(s=d.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=s):(d=s.retryQueue,d===null?s.retryQueue=new Set([g]):d.add(g)),Tp(a,g,E)),!1}throw Error(n(435,d.tag))}return Tp(a,g,E),o0(),!1}if(Zt)return s=Fa.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=E,g!==w1&&(a=Error(n(422),{cause:g}),Tu(ii(a,d)))):(g!==w1&&(s=Error(n(423),{cause:g}),Tu(ii(s,d))),a=a.current.alternate,a.flags|=65536,E&=-E,a.lanes|=E,g=ii(g,d),E=rp(a.stateNode,g,E),j1(a,E),$r!==4&&($r=2)),!1;var C=Error(n(520),{cause:g});if(C=ii(C,d),qu===null?qu=[C]:qu.push(C),$r!==4&&($r=2),s===null)return!0;g=ii(g,d),d=s;do{switch(d.tag){case 3:return d.flags|=65536,a=E&-E,d.lanes|=a,a=rp(d.stateNode,g,a),j1(d,a),!1;case 1:if(s=d.type,C=d.stateNode,(d.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(_l===null||!_l.has(C))))return d.flags|=65536,E&=-E,d.lanes|=E,E=iw(E),sw(E,a,d,g),j1(d,E),!1}d=d.return}while(d!==null);return!1}var np=Error(n(461)),gn=!1;function Kn(a,s,d,g){s.child=a===null?u2(s,null,d,g):vo(s,a.child,d,g)}function lw(a,s,d,g,E){d=d.render;var C=s.ref;if("ref"in g){var P={};for(var G in g)G!=="ref"&&(P[G]=g[G])}else P=g;return po(s),g=B1(a,s,d,P,C,E),G=z1(),a!==null&&!gn?(U1(a,s,E),Cs(a,s,E)):(Zt&&G&&v1(s),s.flags|=1,Kn(a,s,g,E),s.child)}function ow(a,s,d,g,E){if(a===null){var C=d.type;return typeof C=="function"&&!x1(C)&&C.defaultProps===void 0&&d.compare===null?(s.tag=15,s.type=C,cw(a,s,C,g,E)):(a=Mf(d.type,null,g,s,s.mode,E),a.ref=s.ref,a.return=s,s.child=a)}if(C=a.child,!dp(a,E)){var P=C.memoizedProps;if(d=d.compare,d=d!==null?d:S,d(P,g)&&a.ref===s.ref)return Cs(a,s,E)}return s.flags|=1,a=bs(C,g),a.ref=s.ref,a.return=s,s.child=a}function cw(a,s,d,g,E){if(a!==null){var C=a.memoizedProps;if(S(C,g)&&a.ref===s.ref)if(gn=!1,s.pendingProps=g=C,dp(a,E))(a.flags&131072)!==0&&(gn=!0);else return s.lanes=a.lanes,Cs(a,s,E)}return ap(a,s,d,g,E)}function uw(a,s,d,g){var E=g.children,C=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((s.flags&128)!==0){if(C=C!==null?C.baseLanes|d:d,a!==null){for(g=s.child=a.child,E=0;g!==null;)E=E|g.lanes|g.childLanes,g=g.sibling;g=E&~C}else g=0,s.child=null;return dw(a,s,C,d,g)}if((d&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&Rf(s,C!==null?C.cachePool:null),C!==null?h2(s,C):D1(),m2(s);else return g=s.lanes=536870912,dw(a,s,C!==null?C.baseLanes|d:d,d,g)}else C!==null?(Rf(s,C.cachePool),h2(s,C),Cl(),s.memoizedState=null):(a!==null&&Rf(s,null),D1(),Cl());return Kn(a,s,E,d),s.child}function zu(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function dw(a,s,d,g,E){var C=O1();return C=C===null?null:{parent:pn._currentValue,pool:C},s.memoizedState={baseLanes:d,cachePool:C},a!==null&&Rf(s,null),D1(),m2(s),a!==null&&pc(a,s,g,!0),s.childLanes=E,null}function $f(a,s){return s=Jf({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function fw(a,s,d){return vo(s,a.child,null,d),a=$f(s,s.pendingProps),a.flags|=2,Ha(s),s.memoizedState=null,a}function WI(a,s,d){var g=s.pendingProps,E=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(Zt){if(g.mode==="hidden")return a=$f(s,g),s.lanes=536870912,zu(null,a);if(P1(s),(a=Pr)?(a=EA(a,oi),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:yl!==null?{id:Xi,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},d=Kb(a),d.return=s,s.child=d,Xn=s,Pr=null)):a=null,a===null)throw bl(s);return s.lanes=536870912,null}return $f(s,g)}var C=a.memoizedState;if(C!==null){var P=C.dehydrated;if(P1(s),E)if(s.flags&256)s.flags&=-257,s=fw(a,s,d);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(n(558));else if(gn||pc(a,s,d,!1),E=(d&a.childLanes)!==0,gn||E){if(g=Mr,g!==null&&(P=Ra(g,d),P!==0&&P!==C.retryLane))throw C.retryLane=P,uo(a,P),Ta(g,a,P),np;o0(),s=fw(a,s,d)}else a=C.treeContext,Pr=ui(P.nextSibling),Xn=s,Zt=!0,vl=null,oi=!1,a!==null&&Qb(s,a),s=$f(s,g),s.flags|=4096;return s}return a=bs(a.child,{mode:g.mode,children:g.children}),a.ref=s.ref,s.child=a,a.return=s,a}function Qf(a,s){var d=s.ref;if(d===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(a===null||a.ref!==d)&&(s.flags|=4194816)}}function ap(a,s,d,g,E){return po(s),d=B1(a,s,d,g,void 0,E),g=z1(),a!==null&&!gn?(U1(a,s,E),Cs(a,s,E)):(Zt&&g&&v1(s),s.flags|=1,Kn(a,s,d,E),s.child)}function hw(a,s,d,g,E,C){return po(s),s.updateQueue=null,d=x2(s,g,d,E),p2(a),g=z1(),a!==null&&!gn?(U1(a,s,C),Cs(a,s,C)):(Zt&&g&&v1(s),s.flags|=1,Kn(a,s,d,C),s.child)}function mw(a,s,d,g,E){if(po(s),s.stateNode===null){var C=dc,P=d.contextType;typeof P=="object"&&P!==null&&(C=Wn(P)),C=new d(g,C),s.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=tp,s.stateNode=C,C._reactInternals=s,C=s.stateNode,C.props=g,C.state=s.memoizedState,C.refs={},_1(s),P=d.contextType,C.context=typeof P=="object"&&P!==null?Wn(P):dc,C.state=s.memoizedState,P=d.getDerivedStateFromProps,typeof P=="function"&&(ep(s,d,P,g),C.state=s.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(P=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),P!==C.state&&tp.enqueueReplaceState(C,C.state,null),Du(s,g,C,E),ku(),C.state=s.memoizedState),typeof C.componentDidMount=="function"&&(s.flags|=4194308),g=!0}else if(a===null){C=s.stateNode;var G=s.memoizedProps,re=wo(d,G);C.props=re;var be=C.context,_e=d.contextType;P=dc,typeof _e=="object"&&_e!==null&&(P=Wn(_e));var Re=d.getDerivedStateFromProps;_e=typeof Re=="function"||typeof C.getSnapshotBeforeUpdate=="function",G=s.pendingProps!==G,_e||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(G||be!==P)&&ew(s,C,g,P),Al=!1;var we=s.memoizedState;C.state=we,Du(s,g,C,E),ku(),be=s.memoizedState,G||we!==be||Al?(typeof Re=="function"&&(ep(s,d,Re,g),be=s.memoizedState),(re=Al||J2(s,d,re,g,we,be,P))?(_e||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(s.flags|=4194308)):(typeof C.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=g,s.memoizedState=be),C.props=g,C.state=be,C.context=P,g=re):(typeof C.componentDidMount=="function"&&(s.flags|=4194308),g=!1)}else{C=s.stateNode,M1(a,s),P=s.memoizedProps,_e=wo(d,P),C.props=_e,Re=s.pendingProps,we=C.context,be=d.contextType,re=dc,typeof be=="object"&&be!==null&&(re=Wn(be)),G=d.getDerivedStateFromProps,(be=typeof G=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(P!==Re||we!==re)&&ew(s,C,g,re),Al=!1,we=s.memoizedState,C.state=we,Du(s,g,C,E),ku();var Ne=s.memoizedState;P!==Re||we!==Ne||Al||a!==null&&a.dependencies!==null&&kf(a.dependencies)?(typeof G=="function"&&(ep(s,d,G,g),Ne=s.memoizedState),(_e=Al||J2(s,d,_e,g,we,Ne,re)||a!==null&&a.dependencies!==null&&kf(a.dependencies))?(be||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(g,Ne,re),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(g,Ne,re)),typeof C.componentDidUpdate=="function"&&(s.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof C.componentDidUpdate!="function"||P===a.memoizedProps&&we===a.memoizedState||(s.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&we===a.memoizedState||(s.flags|=1024),s.memoizedProps=g,s.memoizedState=Ne),C.props=g,C.state=Ne,C.context=re,g=_e):(typeof C.componentDidUpdate!="function"||P===a.memoizedProps&&we===a.memoizedState||(s.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&we===a.memoizedState||(s.flags|=1024),g=!1)}return C=g,Qf(a,s),g=(s.flags&128)!==0,C||g?(C=s.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:C.render(),s.flags|=1,a!==null&&g?(s.child=vo(s,a.child,null,E),s.child=vo(s,null,d,E)):Kn(a,s,d,E),s.memoizedState=C.state,a=s.child):a=Cs(a,s,E),a}function pw(a,s,d,g){return ho(),s.flags|=256,Kn(a,s,d,g),s.child}var ip={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sp(a){return{baseLanes:a,cachePool:a2()}}function lp(a,s,d){return a=a!==null?a.childLanes&~d:0,s&&(a|=Va),a}function xw(a,s,d){var g=s.pendingProps,E=!1,C=(s.flags&128)!==0,P;if((P=C)||(P=a!==null&&a.memoizedState===null?!1:(un.current&2)!==0),P&&(E=!0,s.flags&=-129),P=(s.flags&32)!==0,s.flags&=-33,a===null){if(Zt){if(E?Nl(s):Cl(),(a=Pr)?(a=EA(a,oi),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:yl!==null?{id:Xi,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},d=Kb(a),d.return=s,s.child=d,Xn=s,Pr=null)):a=null,a===null)throw bl(s);return Gp(a)?s.lanes=32:s.lanes=536870912,null}var G=g.children;return g=g.fallback,E?(Cl(),E=s.mode,G=Jf({mode:"hidden",children:G},E),g=fo(g,E,d,null),G.return=s,g.return=s,G.sibling=g,s.child=G,g=s.child,g.memoizedState=sp(d),g.childLanes=lp(a,P,d),s.memoizedState=ip,zu(null,g)):(Nl(s),op(s,G))}var re=a.memoizedState;if(re!==null&&(G=re.dehydrated,G!==null)){if(C)s.flags&256?(Nl(s),s.flags&=-257,s=cp(a,s,d)):s.memoizedState!==null?(Cl(),s.child=a.child,s.flags|=128,s=null):(Cl(),G=g.fallback,E=s.mode,g=Jf({mode:"visible",children:g.children},E),G=fo(G,E,d,null),G.flags|=2,g.return=s,G.return=s,g.sibling=G,s.child=g,vo(s,a.child,null,d),g=s.child,g.memoizedState=sp(d),g.childLanes=lp(a,P,d),s.memoizedState=ip,s=zu(null,g));else if(Nl(s),Gp(G)){if(P=G.nextSibling&&G.nextSibling.dataset,P)var be=P.dgst;P=be,g=Error(n(419)),g.stack="",g.digest=P,Tu({value:g,source:null,stack:null}),s=cp(a,s,d)}else if(gn||pc(a,s,d,!1),P=(d&a.childLanes)!==0,gn||P){if(P=Mr,P!==null&&(g=Ra(P,d),g!==0&&g!==re.retryLane))throw re.retryLane=g,uo(a,g),Ta(P,a,g),np;Hp(G)||o0(),s=cp(a,s,d)}else Hp(G)?(s.flags|=192,s.child=a.child,s=null):(a=re.treeContext,Pr=ui(G.nextSibling),Xn=s,Zt=!0,vl=null,oi=!1,a!==null&&Qb(s,a),s=op(s,g.children),s.flags|=4096);return s}return E?(Cl(),G=g.fallback,E=s.mode,re=a.child,be=re.sibling,g=bs(re,{mode:"hidden",children:g.children}),g.subtreeFlags=re.subtreeFlags&65011712,be!==null?G=bs(be,G):(G=fo(G,E,d,null),G.flags|=2),G.return=s,g.return=s,g.sibling=G,s.child=g,zu(null,g),g=s.child,G=a.child.memoizedState,G===null?G=sp(d):(E=G.cachePool,E!==null?(re=pn._currentValue,E=E.parent!==re?{parent:re,pool:re}:E):E=a2(),G={baseLanes:G.baseLanes|d,cachePool:E}),g.memoizedState=G,g.childLanes=lp(a,P,d),s.memoizedState=ip,zu(a.child,g)):(Nl(s),d=a.child,a=d.sibling,d=bs(d,{mode:"visible",children:g.children}),d.return=s,d.sibling=null,a!==null&&(P=s.deletions,P===null?(s.deletions=[a],s.flags|=16):P.push(a)),s.child=d,s.memoizedState=null,d)}function op(a,s){return s=Jf({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function Jf(a,s){return a=Ua(22,a,null,s),a.lanes=0,a}function cp(a,s,d){return vo(s,a.child,null,d),a=op(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function gw(a,s,d){a.lanes|=s;var g=a.alternate;g!==null&&(g.lanes|=s),E1(a.return,s,d)}function up(a,s,d,g,E,C){var P=a.memoizedState;P===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:E,treeForkCount:C}:(P.isBackwards=s,P.rendering=null,P.renderingStartTime=0,P.last=g,P.tail=d,P.tailMode=E,P.treeForkCount=C)}function yw(a,s,d){var g=s.pendingProps,E=g.revealOrder,C=g.tail;g=g.children;var P=un.current,G=(P&2)!==0;if(G?(P=P&1|2,s.flags|=128):P&=1,Te(un,P),Kn(a,s,g,d),g=Zt?Cu:0,!G&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&gw(a,d,s);else if(a.tag===19)gw(a,d,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(E){case"forwards":for(d=s.child,E=null;d!==null;)a=d.alternate,a!==null&&Ff(a)===null&&(E=d),d=d.sibling;d=E,d===null?(E=s.child,s.child=null):(E=d.sibling,d.sibling=null),up(s,!1,E,d,C,g);break;case"backwards":case"unstable_legacy-backwards":for(d=null,E=s.child,s.child=null;E!==null;){if(a=E.alternate,a!==null&&Ff(a)===null){s.child=E;break}a=E.sibling,E.sibling=d,d=E,E=a}up(s,!0,d,null,C,g);break;case"together":up(s,!1,null,null,void 0,g);break;default:s.memoizedState=null}return s.child}function Cs(a,s,d){if(a!==null&&(s.dependencies=a.dependencies),Il|=s.lanes,(d&s.childLanes)===0)if(a!==null){if(pc(a,s,d,!1),(d&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(n(153));if(s.child!==null){for(a=s.child,d=bs(a,a.pendingProps),s.child=d,d.return=s;a.sibling!==null;)a=a.sibling,d=d.sibling=bs(a,a.pendingProps),d.return=s;d.sibling=null}return s.child}function dp(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&kf(a)))}function KI(a,s,d){switch(s.tag){case 3:Ze(s,s.stateNode.containerInfo),wl(s,pn,a.memoizedState.cache),ho();break;case 27:case 5:nt(s);break;case 4:Ze(s,s.stateNode.containerInfo);break;case 10:wl(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,P1(s),null;break;case 13:var g=s.memoizedState;if(g!==null)return g.dehydrated!==null?(Nl(s),s.flags|=128,null):(d&s.child.childLanes)!==0?xw(a,s,d):(Nl(s),a=Cs(a,s,d),a!==null?a.sibling:null);Nl(s);break;case 19:var E=(a.flags&128)!==0;if(g=(d&s.childLanes)!==0,g||(pc(a,s,d,!1),g=(d&s.childLanes)!==0),E){if(g)return yw(a,s,d);s.flags|=128}if(E=s.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Te(un,un.current),g)break;return null;case 22:return s.lanes=0,uw(a,s,d,s.pendingProps);case 24:wl(s,pn,a.memoizedState.cache)}return Cs(a,s,d)}function vw(a,s,d){if(a!==null)if(a.memoizedProps!==s.pendingProps)gn=!0;else{if(!dp(a,d)&&(s.flags&128)===0)return gn=!1,KI(a,s,d);gn=(a.flags&131072)!==0}else gn=!1,Zt&&(s.flags&1048576)!==0&&$b(s,Cu,s.index);switch(s.lanes=0,s.tag){case 16:e:{var g=s.pendingProps;if(a=go(s.elementType),s.type=a,typeof a=="function")x1(a)?(g=wo(a,g),s.tag=1,s=mw(null,s,a,g,d)):(s.tag=0,s=ap(null,s,a,g,d));else{if(a!=null){var E=a.$$typeof;if(E===V){s.tag=11,s=lw(null,s,a,g,d);break e}else if(E===L){s.tag=14,s=ow(null,s,a,g,d);break e}}throw s=fe(a)||a,Error(n(306,s,""))}}return s;case 0:return ap(a,s,s.type,s.pendingProps,d);case 1:return g=s.type,E=wo(g,s.pendingProps),mw(a,s,g,E,d);case 3:e:{if(Ze(s,s.stateNode.containerInfo),a===null)throw Error(n(387));g=s.pendingProps;var C=s.memoizedState;E=C.element,M1(a,s),Du(s,g,null,d);var P=s.memoizedState;if(g=P.cache,wl(s,pn,g),g!==C.cache&&N1(s,[pn],d,!0),ku(),g=P.element,C.isDehydrated)if(C={element:g,isDehydrated:!1,cache:P.cache},s.updateQueue.baseState=C,s.memoizedState=C,s.flags&256){s=pw(a,s,g,d);break e}else if(g!==E){E=ii(Error(n(424)),s),Tu(E),s=pw(a,s,g,d);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Pr=ui(a.firstChild),Xn=s,Zt=!0,vl=null,oi=!0,d=u2(s,null,g,d),s.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(ho(),g===E){s=Cs(a,s,d);break e}Kn(a,s,g,d)}s=s.child}return s;case 26:return Qf(a,s),a===null?(d=_A(s.type,null,s.pendingProps,null))?s.memoizedState=d:Zt||(d=s.type,a=s.pendingProps,g=p0(Q.current).createElement(d),g[Vt]=s,g[nr]=a,Zn(g,d,a),Ur(g),s.stateNode=g):s.memoizedState=_A(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return nt(s),a===null&&Zt&&(g=s.stateNode=TA(s.type,s.pendingProps,Q.current),Xn=s,oi=!0,E=Pr,Dl(s.type)?(Vp=E,Pr=ui(g.firstChild)):Pr=E),Kn(a,s,s.pendingProps.children,d),Qf(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&Zt&&((E=g=Pr)&&(g=N_(g,s.type,s.pendingProps,oi),g!==null?(s.stateNode=g,Xn=s,Pr=ui(g.firstChild),oi=!1,E=!0):E=!1),E||bl(s)),nt(s),E=s.type,C=s.pendingProps,P=a!==null?a.memoizedProps:null,g=C.children,zp(E,C)?g=null:P!==null&&zp(E,P)&&(s.flags|=32),s.memoizedState!==null&&(E=B1(a,s,UI,null,null,d),ed._currentValue=E),Qf(a,s),Kn(a,s,g,d),s.child;case 6:return a===null&&Zt&&((a=d=Pr)&&(d=C_(d,s.pendingProps,oi),d!==null?(s.stateNode=d,Xn=s,Pr=null,a=!0):a=!1),a||bl(s)),null;case 13:return xw(a,s,d);case 4:return Ze(s,s.stateNode.containerInfo),g=s.pendingProps,a===null?s.child=vo(s,null,g,d):Kn(a,s,g,d),s.child;case 11:return lw(a,s,s.type,s.pendingProps,d);case 7:return Kn(a,s,s.pendingProps,d),s.child;case 8:return Kn(a,s,s.pendingProps.children,d),s.child;case 12:return Kn(a,s,s.pendingProps.children,d),s.child;case 10:return g=s.pendingProps,wl(s,s.type,g.value),Kn(a,s,g.children,d),s.child;case 9:return E=s.type._context,g=s.pendingProps.children,po(s),E=Wn(E),g=g(E),s.flags|=1,Kn(a,s,g,d),s.child;case 14:return ow(a,s,s.type,s.pendingProps,d);case 15:return cw(a,s,s.type,s.pendingProps,d);case 19:return yw(a,s,d);case 31:return WI(a,s,d);case 22:return uw(a,s,d,s.pendingProps);case 24:return po(s),g=Wn(pn),a===null?(E=O1(),E===null&&(E=Mr,C=C1(),E.pooledCache=C,C.refCount++,C!==null&&(E.pooledCacheLanes|=d),E=C),s.memoizedState={parent:g,cache:E},_1(s),wl(s,pn,E)):((a.lanes&d)!==0&&(M1(a,s),Du(s,null,null,d),ku()),E=a.memoizedState,C=s.memoizedState,E.parent!==g?(E={parent:g,cache:g},s.memoizedState=E,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=E),wl(s,pn,g)):(g=C.cache,wl(s,pn,g),g!==E.cache&&N1(s,[pn],d,!0))),Kn(a,s,s.pendingProps.children,d),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}function Ts(a){a.flags|=4}function fp(a,s,d,g,E){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(E&335544128)===E)if(a.stateNode.complete)a.flags|=8192;else if(qw())a.flags|=8192;else throw yo=Lf,I1}else a.flags&=-16777217}function bw(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!RA(s))if(qw())a.flags|=8192;else throw yo=Lf,I1}function e0(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?yt():536870912,a.lanes|=s,Tc|=s)}function Uu(a,s){if(!Zt)switch(a.tailMode){case"hidden":s=a.tail;for(var d=null;s!==null;)s.alternate!==null&&(d=s),s=s.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function Lr(a){var s=a.alternate!==null&&a.alternate.child===a.child,d=0,g=0;if(s)for(var E=a.child;E!==null;)d|=E.lanes|E.childLanes,g|=E.subtreeFlags&65011712,g|=E.flags&65011712,E.return=a,E=E.sibling;else for(E=a.child;E!==null;)d|=E.lanes|E.childLanes,g|=E.subtreeFlags,g|=E.flags,E.return=a,E=E.sibling;return a.subtreeFlags|=g,a.childLanes=d,s}function ZI(a,s,d){var g=s.pendingProps;switch(b1(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lr(s),null;case 1:return Lr(s),null;case 3:return d=s.stateNode,g=null,a!==null&&(g=a.memoizedState.cache),s.memoizedState.cache!==g&&(s.flags|=2048),Ss(pn),me(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(mc(s)?Ts(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,A1())),Lr(s),null;case 26:var E=s.type,C=s.memoizedState;return a===null?(Ts(s),C!==null?(Lr(s),bw(s,C)):(Lr(s),fp(s,E,null,g,d))):C?C!==a.memoizedState?(Ts(s),Lr(s),bw(s,C)):(Lr(s),s.flags&=-16777217):(a=a.memoizedProps,a!==g&&Ts(s),Lr(s),fp(s,E,a,g,d)),null;case 27:if(st(s),d=Q.current,E=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==g&&Ts(s);else{if(!g){if(s.stateNode===null)throw Error(n(166));return Lr(s),null}a=ke.current,mc(s)?Jb(s):(a=TA(E,g,d),s.stateNode=a,Ts(s))}return Lr(s),null;case 5:if(st(s),E=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==g&&Ts(s);else{if(!g){if(s.stateNode===null)throw Error(n(166));return Lr(s),null}if(C=ke.current,mc(s))Jb(s);else{var P=p0(Q.current);switch(C){case 1:C=P.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:C=P.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":C=P.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":C=P.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":C=P.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof g.is=="string"?P.createElement("select",{is:g.is}):P.createElement("select"),g.multiple?C.multiple=!0:g.size&&(C.size=g.size);break;default:C=typeof g.is=="string"?P.createElement(E,{is:g.is}):P.createElement(E)}}C[Vt]=s,C[nr]=g;e:for(P=s.child;P!==null;){if(P.tag===5||P.tag===6)C.appendChild(P.stateNode);else if(P.tag!==4&&P.tag!==27&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===s)break e;for(;P.sibling===null;){if(P.return===null||P.return===s)break e;P=P.return}P.sibling.return=P.return,P=P.sibling}s.stateNode=C;e:switch(Zn(C,E,g),E){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&Ts(s)}}return Lr(s),fp(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,d),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==g&&Ts(s);else{if(typeof g!="string"&&s.stateNode===null)throw Error(n(166));if(a=Q.current,mc(s)){if(a=s.stateNode,d=s.memoizedProps,g=null,E=Xn,E!==null)switch(E.tag){case 27:case 5:g=E.memoizedProps}a[Vt]=s,a=!!(a.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||xA(a.nodeValue,d)),a||bl(s,!0)}else a=p0(a).createTextNode(g),a[Vt]=s,s.stateNode=a}return Lr(s),null;case 31:if(d=s.memoizedState,a===null||a.memoizedState!==null){if(g=mc(s),d!==null){if(a===null){if(!g)throw Error(n(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[Vt]=s}else ho(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Lr(s),a=!1}else d=A1(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=d),a=!0;if(!a)return s.flags&256?(Ha(s),s):(Ha(s),null);if((s.flags&128)!==0)throw Error(n(558))}return Lr(s),null;case 13:if(g=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(E=mc(s),g!==null&&g.dehydrated!==null){if(a===null){if(!E)throw Error(n(318));if(E=s.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[Vt]=s}else ho(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Lr(s),E=!1}else E=A1(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=E),E=!0;if(!E)return s.flags&256?(Ha(s),s):(Ha(s),null)}return Ha(s),(s.flags&128)!==0?(s.lanes=d,s):(d=g!==null,a=a!==null&&a.memoizedState!==null,d&&(g=s.child,E=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(E=g.alternate.memoizedState.cachePool.pool),C=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(C=g.memoizedState.cachePool.pool),C!==E&&(g.flags|=2048)),d!==a&&d&&(s.child.flags|=8192),e0(s,s.updateQueue),Lr(s),null);case 4:return me(),a===null&&Dp(s.stateNode.containerInfo),Lr(s),null;case 10:return Ss(s.type),Lr(s),null;case 19:if(de(un),g=s.memoizedState,g===null)return Lr(s),null;if(E=(s.flags&128)!==0,C=g.rendering,C===null)if(E)Uu(g,!1);else{if($r!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(C=Ff(a),C!==null){for(s.flags|=128,Uu(g,!1),a=C.updateQueue,s.updateQueue=a,e0(s,a),s.subtreeFlags=0,a=d,d=s.child;d!==null;)Wb(d,a),d=d.sibling;return Te(un,un.current&1|2),Zt&&ws(s,g.treeForkCount),s.child}a=a.sibling}g.tail!==null&&hr()>i0&&(s.flags|=128,E=!0,Uu(g,!1),s.lanes=4194304)}else{if(!E)if(a=Ff(C),a!==null){if(s.flags|=128,E=!0,a=a.updateQueue,s.updateQueue=a,e0(s,a),Uu(g,!0),g.tail===null&&g.tailMode==="hidden"&&!C.alternate&&!Zt)return Lr(s),null}else 2*hr()-g.renderingStartTime>i0&&d!==536870912&&(s.flags|=128,E=!0,Uu(g,!1),s.lanes=4194304);g.isBackwards?(C.sibling=s.child,s.child=C):(a=g.last,a!==null?a.sibling=C:s.child=C,g.last=C)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=hr(),a.sibling=null,d=un.current,Te(un,E?d&1|2:d&1),Zt&&ws(s,g.treeForkCount),a):(Lr(s),null);case 22:case 23:return Ha(s),R1(),g=s.memoizedState!==null,a!==null?a.memoizedState!==null!==g&&(s.flags|=8192):g&&(s.flags|=8192),g?(d&536870912)!==0&&(s.flags&128)===0&&(Lr(s),s.subtreeFlags&6&&(s.flags|=8192)):Lr(s),d=s.updateQueue,d!==null&&e0(s,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),g=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(g=s.memoizedState.cachePool.pool),g!==d&&(s.flags|=2048),a!==null&&de(xo),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),Ss(pn),Lr(s),null;case 25:return null;case 30:return null}throw Error(n(156,s.tag))}function $I(a,s){switch(b1(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return Ss(pn),me(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return st(s),null;case 31:if(s.memoizedState!==null){if(Ha(s),s.alternate===null)throw Error(n(340));ho()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(Ha(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(n(340));ho()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return de(un),null;case 4:return me(),null;case 10:return Ss(s.type),null;case 22:case 23:return Ha(s),R1(),a!==null&&de(xo),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return Ss(pn),null;case 25:return null;default:return null}}function ww(a,s){switch(b1(s),s.tag){case 3:Ss(pn),me();break;case 26:case 27:case 5:st(s);break;case 4:me();break;case 31:s.memoizedState!==null&&Ha(s);break;case 13:Ha(s);break;case 19:de(un);break;case 10:Ss(s.type);break;case 22:case 23:Ha(s),R1(),a!==null&&de(xo);break;case 24:Ss(pn)}}function Fu(a,s){try{var d=s.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var E=g.next;d=E;do{if((d.tag&a)===a){g=void 0;var C=d.create,P=d.inst;g=C(),P.destroy=g}d=d.next}while(d!==E)}}catch(G){gr(s,s.return,G)}}function Tl(a,s,d){try{var g=s.updateQueue,E=g!==null?g.lastEffect:null;if(E!==null){var C=E.next;g=C;do{if((g.tag&a)===a){var P=g.inst,G=P.destroy;if(G!==void 0){P.destroy=void 0,E=s;var re=d,be=G;try{be()}catch(_e){gr(E,re,_e)}}}g=g.next}while(g!==C)}}catch(_e){gr(s,s.return,_e)}}function Aw(a){var s=a.updateQueue;if(s!==null){var d=a.stateNode;try{f2(s,d)}catch(g){gr(a,a.return,g)}}}function Sw(a,s,d){d.props=wo(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(g){gr(a,s,g)}}function Hu(a,s){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var g=a.stateNode;break;case 30:g=a.stateNode;break;default:g=a.stateNode}typeof d=="function"?a.refCleanup=d(g):d.current=g}}catch(E){gr(a,s,E)}}function Ki(a,s){var d=a.ref,g=a.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(E){gr(a,s,E)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(E){gr(a,s,E)}else d.current=null}function Ew(a){var s=a.type,d=a.memoizedProps,g=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break e;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(E){gr(a,a.return,E)}}function hp(a,s,d){try{var g=a.stateNode;v_(g,a.type,d,s),g[nr]=s}catch(E){gr(a,a.return,E)}}function Nw(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Dl(a.type)||a.tag===4}function mp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Nw(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Dl(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function pp(a,s,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,s?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,s):(s=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,s.appendChild(a),d=d._reactRootContainer,d!=null||s.onclick!==null||(s.onclick=ba));else if(g!==4&&(g===27&&Dl(a.type)&&(d=a.stateNode,s=null),a=a.child,a!==null))for(pp(a,s,d),a=a.sibling;a!==null;)pp(a,s,d),a=a.sibling}function t0(a,s,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,s?d.insertBefore(a,s):d.appendChild(a);else if(g!==4&&(g===27&&Dl(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(t0(a,s,d),a=a.sibling;a!==null;)t0(a,s,d),a=a.sibling}function Cw(a){var s=a.stateNode,d=a.memoizedProps;try{for(var g=a.type,E=s.attributes;E.length;)s.removeAttributeNode(E[0]);Zn(s,g,d),s[Vt]=a,s[nr]=d}catch(C){gr(a,a.return,C)}}var Os=!1,yn=!1,xp=!1,Tw=typeof WeakSet=="function"?WeakSet:Set,jn=null;function QI(a,s){if(a=a.containerInfo,Lp=A0,a=z(a),H(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var E=g.anchorOffset,C=g.focusNode;g=g.focusOffset;try{d.nodeType,C.nodeType}catch{d=null;break e}var P=0,G=-1,re=-1,be=0,_e=0,Re=a,we=null;t:for(;;){for(var Ne;Re!==d||E!==0&&Re.nodeType!==3||(G=P+E),Re!==C||g!==0&&Re.nodeType!==3||(re=P+g),Re.nodeType===3&&(P+=Re.nodeValue.length),(Ne=Re.firstChild)!==null;)we=Re,Re=Ne;for(;;){if(Re===a)break t;if(we===d&&++be===E&&(G=P),we===C&&++_e===g&&(re=P),(Ne=Re.nextSibling)!==null)break;Re=we,we=Re.parentNode}Re=Ne}d=G===-1||re===-1?null:{start:G,end:re}}else d=null}d=d||{start:0,end:0}}else d=null;for(Bp={focusedElem:a,selectionRange:d},A0=!1,jn=s;jn!==null;)if(s=jn,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,jn=a;else for(;jn!==null;){switch(s=jn,C=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(d=0;d<a.length;d++)E=a[d],E.ref.impl=E.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&C!==null){a=void 0,d=s,E=C.memoizedProps,C=C.memoizedState,g=d.stateNode;try{var ct=wo(d.type,E);a=g.getSnapshotBeforeUpdate(ct,C),g.__reactInternalSnapshotBeforeUpdate=a}catch(Tt){gr(d,d.return,Tt)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,d=a.nodeType,d===9)Fp(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Fp(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=s.sibling,a!==null){a.return=s.return,jn=a;break}jn=s.return}}function Ow(a,s,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:_s(a,d),g&4&&Fu(5,d);break;case 1:if(_s(a,d),g&4)if(a=d.stateNode,s===null)try{a.componentDidMount()}catch(P){gr(d,d.return,P)}else{var E=wo(d.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(E,s,a.__reactInternalSnapshotBeforeUpdate)}catch(P){gr(d,d.return,P)}}g&64&&Aw(d),g&512&&Hu(d,d.return);break;case 3:if(_s(a,d),g&64&&(a=d.updateQueue,a!==null)){if(s=null,d.child!==null)switch(d.child.tag){case 27:case 5:s=d.child.stateNode;break;case 1:s=d.child.stateNode}try{f2(a,s)}catch(P){gr(d,d.return,P)}}break;case 27:s===null&&g&4&&Cw(d);case 26:case 5:_s(a,d),s===null&&g&4&&Ew(d),g&512&&Hu(d,d.return);break;case 12:_s(a,d);break;case 31:_s(a,d),g&4&&Mw(a,d);break;case 13:_s(a,d),g&4&&jw(a,d),g&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=l_.bind(null,d),T_(a,d))));break;case 22:if(g=d.memoizedState!==null||Os,!g){s=s!==null&&s.memoizedState!==null||yn,E=Os;var C=yn;Os=g,(yn=s)&&!C?Ms(a,d,(d.subtreeFlags&8772)!==0):_s(a,d),Os=E,yn=C}break;case 30:break;default:_s(a,d)}}function Iw(a){var s=a.alternate;s!==null&&(a.alternate=null,Iw(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&Vn(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Hr=null,Sa=!1;function Is(a,s,d){for(d=d.child;d!==null;)_w(a,s,d),d=d.sibling}function _w(a,s,d){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Qt,d)}catch{}switch(d.tag){case 26:yn||Ki(d,s),Is(a,s,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:yn||Ki(d,s);var g=Hr,E=Sa;Dl(d.type)&&(Hr=d.stateNode,Sa=!1),Is(a,s,d),$u(d.stateNode),Hr=g,Sa=E;break;case 5:yn||Ki(d,s);case 6:if(g=Hr,E=Sa,Hr=null,Is(a,s,d),Hr=g,Sa=E,Hr!==null)if(Sa)try{(Hr.nodeType===9?Hr.body:Hr.nodeName==="HTML"?Hr.ownerDocument.body:Hr).removeChild(d.stateNode)}catch(C){gr(d,s,C)}else try{Hr.removeChild(d.stateNode)}catch(C){gr(d,s,C)}break;case 18:Hr!==null&&(Sa?(a=Hr,AA(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),Rc(a)):AA(Hr,d.stateNode));break;case 4:g=Hr,E=Sa,Hr=d.stateNode.containerInfo,Sa=!0,Is(a,s,d),Hr=g,Sa=E;break;case 0:case 11:case 14:case 15:Tl(2,d,s),yn||Tl(4,d,s),Is(a,s,d);break;case 1:yn||(Ki(d,s),g=d.stateNode,typeof g.componentWillUnmount=="function"&&Sw(d,s,g)),Is(a,s,d);break;case 21:Is(a,s,d);break;case 22:yn=(g=yn)||d.memoizedState!==null,Is(a,s,d),yn=g;break;default:Is(a,s,d)}}function Mw(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Rc(a)}catch(d){gr(s,s.return,d)}}}function jw(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Rc(a)}catch(d){gr(s,s.return,d)}}function JI(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new Tw),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new Tw),s;default:throw Error(n(435,a.tag))}}function r0(a,s){var d=JI(a);s.forEach(function(g){if(!d.has(g)){d.add(g);var E=o_.bind(null,a,g);g.then(E,E)}})}function Ea(a,s){var d=s.deletions;if(d!==null)for(var g=0;g<d.length;g++){var E=d[g],C=a,P=s,G=P;e:for(;G!==null;){switch(G.tag){case 27:if(Dl(G.type)){Hr=G.stateNode,Sa=!1;break e}break;case 5:Hr=G.stateNode,Sa=!1;break e;case 3:case 4:Hr=G.stateNode.containerInfo,Sa=!0;break e}G=G.return}if(Hr===null)throw Error(n(160));_w(C,P,E),Hr=null,Sa=!1,C=E.alternate,C!==null&&(C.return=null),E.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)kw(s,a),s=s.sibling}var Oi=null;function kw(a,s){var d=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ea(s,a),Na(a),g&4&&(Tl(3,a,a.return),Fu(3,a),Tl(5,a,a.return));break;case 1:Ea(s,a),Na(a),g&512&&(yn||d===null||Ki(d,d.return)),g&64&&Os&&(a=a.updateQueue,a!==null&&(g=a.callbacks,g!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var E=Oi;if(Ea(s,a),Na(a),g&512&&(yn||d===null||Ki(d,d.return)),g&4){var C=d!==null?d.memoizedState:null;if(g=a.memoizedState,d===null)if(g===null)if(a.stateNode===null){e:{g=a.type,d=a.memoizedProps,E=E.ownerDocument||E;t:switch(g){case"title":C=E.getElementsByTagName("title")[0],(!C||C[ln]||C[Vt]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=E.createElement(g),E.head.insertBefore(C,E.querySelector("head > title"))),Zn(C,g,d),C[Vt]=a,Ur(C),g=C;break e;case"link":var P=kA("link","href",E).get(g+(d.href||""));if(P){for(var G=0;G<P.length;G++)if(C=P[G],C.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&C.getAttribute("rel")===(d.rel==null?null:d.rel)&&C.getAttribute("title")===(d.title==null?null:d.title)&&C.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){P.splice(G,1);break t}}C=E.createElement(g),Zn(C,g,d),E.head.appendChild(C);break;case"meta":if(P=kA("meta","content",E).get(g+(d.content||""))){for(G=0;G<P.length;G++)if(C=P[G],C.getAttribute("content")===(d.content==null?null:""+d.content)&&C.getAttribute("name")===(d.name==null?null:d.name)&&C.getAttribute("property")===(d.property==null?null:d.property)&&C.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&C.getAttribute("charset")===(d.charSet==null?null:d.charSet)){P.splice(G,1);break t}}C=E.createElement(g),Zn(C,g,d),E.head.appendChild(C);break;default:throw Error(n(468,g))}C[Vt]=a,Ur(C),g=C}a.stateNode=g}else DA(E,a.type,a.stateNode);else a.stateNode=jA(E,g,a.memoizedProps);else C!==g?(C===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):C.count--,g===null?DA(E,a.type,a.stateNode):jA(E,g,a.memoizedProps)):g===null&&a.stateNode!==null&&hp(a,a.memoizedProps,d.memoizedProps)}break;case 27:Ea(s,a),Na(a),g&512&&(yn||d===null||Ki(d,d.return)),d!==null&&g&4&&hp(a,a.memoizedProps,d.memoizedProps);break;case 5:if(Ea(s,a),Na(a),g&512&&(yn||d===null||Ki(d,d.return)),a.flags&32){E=a.stateNode;try{cl(E,"")}catch(ct){gr(a,a.return,ct)}}g&4&&a.stateNode!=null&&(E=a.memoizedProps,hp(a,E,d!==null?d.memoizedProps:E)),g&1024&&(xp=!0);break;case 6:if(Ea(s,a),Na(a),g&4){if(a.stateNode===null)throw Error(n(162));g=a.memoizedProps,d=a.stateNode;try{d.nodeValue=g}catch(ct){gr(a,a.return,ct)}}break;case 3:if(y0=null,E=Oi,Oi=x0(s.containerInfo),Ea(s,a),Oi=E,Na(a),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Rc(s.containerInfo)}catch(ct){gr(a,a.return,ct)}xp&&(xp=!1,Dw(a));break;case 4:g=Oi,Oi=x0(a.stateNode.containerInfo),Ea(s,a),Na(a),Oi=g;break;case 12:Ea(s,a),Na(a);break;case 31:Ea(s,a),Na(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,r0(a,g)));break;case 13:Ea(s,a),Na(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(a0=hr()),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,r0(a,g)));break;case 22:E=a.memoizedState!==null;var re=d!==null&&d.memoizedState!==null,be=Os,_e=yn;if(Os=be||E,yn=_e||re,Ea(s,a),yn=_e,Os=be,Na(a),g&8192)e:for(s=a.stateNode,s._visibility=E?s._visibility&-2:s._visibility|1,E&&(d===null||re||Os||yn||Ao(a)),d=null,s=a;;){if(s.tag===5||s.tag===26){if(d===null){re=d=s;try{if(C=re.stateNode,E)P=C.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{G=re.stateNode;var Re=re.memoizedProps.style,we=Re!=null&&Re.hasOwnProperty("display")?Re.display:null;G.style.display=we==null||typeof we=="boolean"?"":(""+we).trim()}}catch(ct){gr(re,re.return,ct)}}}else if(s.tag===6){if(d===null){re=s;try{re.stateNode.nodeValue=E?"":re.memoizedProps}catch(ct){gr(re,re.return,ct)}}}else if(s.tag===18){if(d===null){re=s;try{var Ne=re.stateNode;E?SA(Ne,!0):SA(re.stateNode,!1)}catch(ct){gr(re,re.return,ct)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;d===s&&(d=null),s=s.return}d===s&&(d=null),s.sibling.return=s.return,s=s.sibling}g&4&&(g=a.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,r0(a,d))));break;case 19:Ea(s,a),Na(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,r0(a,g)));break;case 30:break;case 21:break;default:Ea(s,a),Na(a)}}function Na(a){var s=a.flags;if(s&2){try{for(var d,g=a.return;g!==null;){if(Nw(g)){d=g;break}g=g.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var E=d.stateNode,C=mp(a);t0(a,C,E);break;case 5:var P=d.stateNode;d.flags&32&&(cl(P,""),d.flags&=-33);var G=mp(a);t0(a,G,P);break;case 3:case 4:var re=d.stateNode.containerInfo,be=mp(a);pp(a,be,re);break;default:throw Error(n(161))}}catch(_e){gr(a,a.return,_e)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function Dw(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;Dw(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function _s(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Ow(a,s.alternate,s),s=s.sibling}function Ao(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:Tl(4,s,s.return),Ao(s);break;case 1:Ki(s,s.return);var d=s.stateNode;typeof d.componentWillUnmount=="function"&&Sw(s,s.return,d),Ao(s);break;case 27:$u(s.stateNode);case 26:case 5:Ki(s,s.return),Ao(s);break;case 22:s.memoizedState===null&&Ao(s);break;case 30:Ao(s);break;default:Ao(s)}a=a.sibling}}function Ms(a,s,d){for(d=d&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var g=s.alternate,E=a,C=s,P=C.flags;switch(C.tag){case 0:case 11:case 15:Ms(E,C,d),Fu(4,C);break;case 1:if(Ms(E,C,d),g=C,E=g.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(be){gr(g,g.return,be)}if(g=C,E=g.updateQueue,E!==null){var G=g.stateNode;try{var re=E.shared.hiddenCallbacks;if(re!==null)for(E.shared.hiddenCallbacks=null,E=0;E<re.length;E++)d2(re[E],G)}catch(be){gr(g,g.return,be)}}d&&P&64&&Aw(C),Hu(C,C.return);break;case 27:Cw(C);case 26:case 5:Ms(E,C,d),d&&g===null&&P&4&&Ew(C),Hu(C,C.return);break;case 12:Ms(E,C,d);break;case 31:Ms(E,C,d),d&&P&4&&Mw(E,C);break;case 13:Ms(E,C,d),d&&P&4&&jw(E,C);break;case 22:C.memoizedState===null&&Ms(E,C,d),Hu(C,C.return);break;case 30:break;default:Ms(E,C,d)}s=s.sibling}}function gp(a,s){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&Ou(d))}function yp(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Ou(a))}function Ii(a,s,d,g){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Rw(a,s,d,g),s=s.sibling}function Rw(a,s,d,g){var E=s.flags;switch(s.tag){case 0:case 11:case 15:Ii(a,s,d,g),E&2048&&Fu(9,s);break;case 1:Ii(a,s,d,g);break;case 3:Ii(a,s,d,g),E&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Ou(a)));break;case 12:if(E&2048){Ii(a,s,d,g),a=s.stateNode;try{var C=s.memoizedProps,P=C.id,G=C.onPostCommit;typeof G=="function"&&G(P,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(re){gr(s,s.return,re)}}else Ii(a,s,d,g);break;case 31:Ii(a,s,d,g);break;case 13:Ii(a,s,d,g);break;case 23:break;case 22:C=s.stateNode,P=s.alternate,s.memoizedState!==null?C._visibility&2?Ii(a,s,d,g):Gu(a,s):C._visibility&2?Ii(a,s,d,g):(C._visibility|=2,Ec(a,s,d,g,(s.subtreeFlags&10256)!==0||!1)),E&2048&&gp(P,s);break;case 24:Ii(a,s,d,g),E&2048&&yp(s.alternate,s);break;default:Ii(a,s,d,g)}}function Ec(a,s,d,g,E){for(E=E&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var C=a,P=s,G=d,re=g,be=P.flags;switch(P.tag){case 0:case 11:case 15:Ec(C,P,G,re,E),Fu(8,P);break;case 23:break;case 22:var _e=P.stateNode;P.memoizedState!==null?_e._visibility&2?Ec(C,P,G,re,E):Gu(C,P):(_e._visibility|=2,Ec(C,P,G,re,E)),E&&be&2048&&gp(P.alternate,P);break;case 24:Ec(C,P,G,re,E),E&&be&2048&&yp(P.alternate,P);break;default:Ec(C,P,G,re,E)}s=s.sibling}}function Gu(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var d=a,g=s,E=g.flags;switch(g.tag){case 22:Gu(d,g),E&2048&&gp(g.alternate,g);break;case 24:Gu(d,g),E&2048&&yp(g.alternate,g);break;default:Gu(d,g)}s=s.sibling}}var Vu=8192;function Nc(a,s,d){if(a.subtreeFlags&Vu)for(a=a.child;a!==null;)Pw(a,s,d),a=a.sibling}function Pw(a,s,d){switch(a.tag){case 26:Nc(a,s,d),a.flags&Vu&&a.memoizedState!==null&&z_(d,Oi,a.memoizedState,a.memoizedProps);break;case 5:Nc(a,s,d);break;case 3:case 4:var g=Oi;Oi=x0(a.stateNode.containerInfo),Nc(a,s,d),Oi=g;break;case 22:a.memoizedState===null&&(g=a.alternate,g!==null&&g.memoizedState!==null?(g=Vu,Vu=16777216,Nc(a,s,d),Vu=g):Nc(a,s,d));break;default:Nc(a,s,d)}}function Lw(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function Yu(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var d=0;d<s.length;d++){var g=s[d];jn=g,zw(g,a)}Lw(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Bw(a),a=a.sibling}function Bw(a){switch(a.tag){case 0:case 11:case 15:Yu(a),a.flags&2048&&Tl(9,a,a.return);break;case 3:Yu(a);break;case 12:Yu(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,n0(a)):Yu(a);break;default:Yu(a)}}function n0(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var d=0;d<s.length;d++){var g=s[d];jn=g,zw(g,a)}Lw(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:Tl(8,s,s.return),n0(s);break;case 22:d=s.stateNode,d._visibility&2&&(d._visibility&=-3,n0(s));break;default:n0(s)}a=a.sibling}}function zw(a,s){for(;jn!==null;){var d=jn;switch(d.tag){case 0:case 11:case 15:Tl(8,d,s);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Ou(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,jn=g;else e:for(d=a;jn!==null;){g=jn;var E=g.sibling,C=g.return;if(Iw(g),g===d){jn=null;break e}if(E!==null){E.return=C,jn=E;break e}jn=C}}}var e_={getCacheForType:function(a){var s=Wn(pn),d=s.data.get(a);return d===void 0&&(d=a(),s.data.set(a,d)),d},cacheSignal:function(){return Wn(pn).controller.signal}},t_=typeof WeakMap=="function"?WeakMap:Map,cr=0,Mr=null,Yt=null,Wt=0,xr=0,Ga=null,Ol=!1,Cc=!1,vp=!1,js=0,$r=0,Il=0,So=0,bp=0,Va=0,Tc=0,qu=null,Ca=null,wp=!1,a0=0,Uw=0,i0=1/0,s0=null,_l=null,Nn=0,Ml=null,Oc=null,ks=0,Ap=0,Sp=null,Fw=null,Xu=0,Ep=null;function Ya(){return(cr&2)!==0&&Wt!==0?Wt&-Wt:te.T!==null?_p():sn()}function Hw(){if(Va===0)if((Wt&536870912)===0||Zt){var a=Ve;Ve<<=1,(Ve&3932160)===0&&(Ve=262144),Va=a}else Va=536870912;return a=Fa.current,a!==null&&(a.flags|=32),Va}function Ta(a,s,d){(a===Mr&&(xr===2||xr===9)||a.cancelPendingCommit!==null)&&(Ic(a,0),jl(a,Wt,Va,!1)),Cr(a,d),((cr&2)===0||a!==Mr)&&(a===Mr&&((cr&2)===0&&(So|=d),$r===4&&jl(a,Wt,Va,!1)),Zi(a))}function Gw(a,s,d){if((cr&6)!==0)throw Error(n(327));var g=!d&&(s&127)===0&&(s&a.expiredLanes)===0||_t(a,s),E=g?a_(a,s):Cp(a,s,!0),C=g;do{if(E===0){Cc&&!g&&jl(a,s,0,!1);break}else{if(d=a.current.alternate,C&&!r_(d)){E=Cp(a,s,!1),C=!1;continue}if(E===2){if(C=s,a.errorRecoveryDisabledLanes&C)var P=0;else P=a.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){s=P;e:{var G=a;E=qu;var re=G.current.memoizedState.isDehydrated;if(re&&(Ic(G,P).flags|=256),P=Cp(G,P,!1),P!==2){if(vp&&!re){G.errorRecoveryDisabledLanes|=C,So|=C,E=4;break e}C=Ca,Ca=E,C!==null&&(Ca===null?Ca=C:Ca.push.apply(Ca,C))}E=P}if(C=!1,E!==2)continue}}if(E===1){Ic(a,0),jl(a,s,0,!0);break}e:{switch(g=a,C=E,C){case 0:case 1:throw Error(n(345));case 4:if((s&4194048)!==s)break;case 6:jl(g,s,Va,!Ol);break e;case 2:Ca=null;break;case 3:case 5:break;default:throw Error(n(329))}if((s&62914560)===s&&(E=a0+300-hr(),10<E)){if(jl(g,s,Va,!Ol),Jt(g,0,!0)!==0)break e;ks=s,g.timeoutHandle=bA(Vw.bind(null,g,d,Ca,s0,wp,s,Va,So,Tc,Ol,C,"Throttled",-0,0),E);break e}Vw(g,d,Ca,s0,wp,s,Va,So,Tc,Ol,C,null,-0,0)}}break}while(!0);Zi(a)}function Vw(a,s,d,g,E,C,P,G,re,be,_e,Re,we,Ne){if(a.timeoutHandle=-1,Re=s.subtreeFlags,Re&8192||(Re&16785408)===16785408){Re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ba},Pw(s,C,Re);var ct=(C&62914560)===C?a0-hr():(C&4194048)===C?Uw-hr():0;if(ct=U_(Re,ct),ct!==null){ks=C,a.cancelPendingCommit=ct(Qw.bind(null,a,s,C,d,g,E,P,G,re,_e,Re,null,we,Ne)),jl(a,C,P,!be);return}}Qw(a,s,C,d,g,E,P,G,re)}function r_(a){for(var s=a;;){var d=s.tag;if((d===0||d===11||d===15)&&s.flags&16384&&(d=s.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var E=d[g],C=E.getSnapshot;E=E.value;try{if(!v(C(),E))return!1}catch{return!1}}if(d=s.child,s.subtreeFlags&16384&&d!==null)d.return=s,s=d;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function jl(a,s,d,g){s&=~bp,s&=~So,a.suspendedLanes|=s,a.pingedLanes&=~s,g&&(a.warmLanes|=s),g=a.expirationTimes;for(var E=s;0<E;){var C=31-jt(E),P=1<<C;g[C]=-1,E&=~P}d!==0&&Gn(a,d,s)}function l0(){return(cr&6)===0?(Wu(0),!1):!0}function Np(){if(Yt!==null){if(xr===0)var a=Yt.return;else a=Yt,As=mo=null,F1(a),vc=null,_u=0,a=Yt;for(;a!==null;)ww(a.alternate,a),a=a.return;Yt=null}}function Ic(a,s){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,A_(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),ks=0,Np(),Mr=a,Yt=d=bs(a.current,null),Wt=s,xr=0,Ga=null,Ol=!1,Cc=_t(a,s),vp=!1,Tc=Va=bp=So=Il=$r=0,Ca=qu=null,wp=!1,(s&8)!==0&&(s|=s&32);var g=a.entangledLanes;if(g!==0)for(a=a.entanglements,g&=s;0<g;){var E=31-jt(g),C=1<<E;s|=a[E],g&=~C}return js=s,Of(),d}function Yw(a,s){Bt=null,te.H=Bu,s===yc||s===Pf?(s=l2(),xr=3):s===I1?(s=l2(),xr=4):xr=s===np?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ga=s,Yt===null&&($r=1,Zf(a,ii(s,a.current)))}function qw(){var a=Fa.current;return a===null?!0:(Wt&4194048)===Wt?ci===null:(Wt&62914560)===Wt||(Wt&536870912)!==0?a===ci:!1}function Xw(){var a=te.H;return te.H=Bu,a===null?Bu:a}function Ww(){var a=te.A;return te.A=e_,a}function o0(){$r=4,Ol||(Wt&4194048)!==Wt&&Fa.current!==null||(Cc=!0),(Il&134217727)===0&&(So&134217727)===0||Mr===null||jl(Mr,Wt,Va,!1)}function Cp(a,s,d){var g=cr;cr|=2;var E=Xw(),C=Ww();(Mr!==a||Wt!==s)&&(s0=null,Ic(a,s)),s=!1;var P=$r;e:do try{if(xr!==0&&Yt!==null){var G=Yt,re=Ga;switch(xr){case 8:Np(),P=6;break e;case 3:case 2:case 9:case 6:Fa.current===null&&(s=!0);var be=xr;if(xr=0,Ga=null,_c(a,G,re,be),d&&Cc){P=0;break e}break;default:be=xr,xr=0,Ga=null,_c(a,G,re,be)}}n_(),P=$r;break}catch(_e){Yw(a,_e)}while(!0);return s&&a.shellSuspendCounter++,As=mo=null,cr=g,te.H=E,te.A=C,Yt===null&&(Mr=null,Wt=0,Of()),P}function n_(){for(;Yt!==null;)Kw(Yt)}function a_(a,s){var d=cr;cr|=2;var g=Xw(),E=Ww();Mr!==a||Wt!==s?(s0=null,i0=hr()+500,Ic(a,s)):Cc=_t(a,s);e:do try{if(xr!==0&&Yt!==null){s=Yt;var C=Ga;t:switch(xr){case 1:xr=0,Ga=null,_c(a,s,C,1);break;case 2:case 9:if(i2(C)){xr=0,Ga=null,Zw(s);break}s=function(){xr!==2&&xr!==9||Mr!==a||(xr=7),Zi(a)},C.then(s,s);break e;case 3:xr=7;break e;case 4:xr=5;break e;case 7:i2(C)?(xr=0,Ga=null,Zw(s)):(xr=0,Ga=null,_c(a,s,C,7));break;case 5:var P=null;switch(Yt.tag){case 26:P=Yt.memoizedState;case 5:case 27:var G=Yt;if(P?RA(P):G.stateNode.complete){xr=0,Ga=null;var re=G.sibling;if(re!==null)Yt=re;else{var be=G.return;be!==null?(Yt=be,c0(be)):Yt=null}break t}}xr=0,Ga=null,_c(a,s,C,5);break;case 6:xr=0,Ga=null,_c(a,s,C,6);break;case 8:Np(),$r=6;break e;default:throw Error(n(462))}}i_();break}catch(_e){Yw(a,_e)}while(!0);return As=mo=null,te.H=g,te.A=E,cr=d,Yt!==null?0:(Mr=null,Wt=0,Of(),$r)}function i_(){for(;Yt!==null&&!Da();)Kw(Yt)}function Kw(a){var s=vw(a.alternate,a,js);a.memoizedProps=a.pendingProps,s===null?c0(a):Yt=s}function Zw(a){var s=a,d=s.alternate;switch(s.tag){case 15:case 0:s=hw(d,s,s.pendingProps,s.type,void 0,Wt);break;case 11:s=hw(d,s,s.pendingProps,s.type.render,s.ref,Wt);break;case 5:F1(s);default:ww(d,s),s=Yt=Wb(s,js),s=vw(d,s,js)}a.memoizedProps=a.pendingProps,s===null?c0(a):Yt=s}function _c(a,s,d,g){As=mo=null,F1(s),vc=null,_u=0;var E=s.return;try{if(XI(a,E,s,d,Wt)){$r=1,Zf(a,ii(d,a.current)),Yt=null;return}}catch(C){if(E!==null)throw Yt=E,C;$r=1,Zf(a,ii(d,a.current)),Yt=null;return}s.flags&32768?(Zt||g===1?a=!0:Cc||(Wt&536870912)!==0?a=!1:(Ol=a=!0,(g===2||g===9||g===3||g===6)&&(g=Fa.current,g!==null&&g.tag===13&&(g.flags|=16384))),$w(s,a)):c0(s)}function c0(a){var s=a;do{if((s.flags&32768)!==0){$w(s,Ol);return}a=s.return;var d=ZI(s.alternate,s,js);if(d!==null){Yt=d;return}if(s=s.sibling,s!==null){Yt=s;return}Yt=s=a}while(s!==null);$r===0&&($r=5)}function $w(a,s){do{var d=$I(a.alternate,a);if(d!==null){d.flags&=32767,Yt=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!s&&(a=a.sibling,a!==null)){Yt=a;return}Yt=a=d}while(a!==null);$r=6,Yt=null}function Qw(a,s,d,g,E,C,P,G,re){a.cancelPendingCommit=null;do u0();while(Nn!==0);if((cr&6)!==0)throw Error(n(327));if(s!==null){if(s===a.current)throw Error(n(177));if(C=s.lanes|s.childLanes,C|=m1,rr(a,d,C,P,G,re),a===Mr&&(Yt=Mr=null,Wt=0),Oc=s,Ml=a,ks=d,Ap=C,Sp=E,Fw=g,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,c_(Hn,function(){return nA(),null})):(a.callbackNode=null,a.callbackPriority=0),g=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||g){g=te.T,te.T=null,E=ie.p,ie.p=2,P=cr,cr|=4;try{QI(a,s,d)}finally{cr=P,ie.p=E,te.T=g}}Nn=1,Jw(),eA(),tA()}}function Jw(){if(Nn===1){Nn=0;var a=Ml,s=Oc,d=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||d){d=te.T,te.T=null;var g=ie.p;ie.p=2;var E=cr;cr|=4;try{kw(s,a);var C=Bp,P=z(a.containerInfo),G=C.focusedElem,re=C.selectionRange;if(P!==G&&G&&G.ownerDocument&&D(G.ownerDocument.documentElement,G)){if(re!==null&&H(G)){var be=re.start,_e=re.end;if(_e===void 0&&(_e=be),"selectionStart"in G)G.selectionStart=be,G.selectionEnd=Math.min(_e,G.value.length);else{var Re=G.ownerDocument||document,we=Re&&Re.defaultView||window;if(we.getSelection){var Ne=we.getSelection(),ct=G.textContent.length,Tt=Math.min(re.start,ct),Ar=re.end===void 0?Tt:Math.min(re.end,ct);!Ne.extend&&Tt>Ar&&(P=Ar,Ar=Tt,Tt=P);var he=I(G,Tt),le=I(G,Ar);if(he&&le&&(Ne.rangeCount!==1||Ne.anchorNode!==he.node||Ne.anchorOffset!==he.offset||Ne.focusNode!==le.node||Ne.focusOffset!==le.offset)){var ve=Re.createRange();ve.setStart(he.node,he.offset),Ne.removeAllRanges(),Tt>Ar?(Ne.addRange(ve),Ne.extend(le.node,le.offset)):(ve.setEnd(le.node,le.offset),Ne.addRange(ve))}}}}for(Re=[],Ne=G;Ne=Ne.parentNode;)Ne.nodeType===1&&Re.push({element:Ne,left:Ne.scrollLeft,top:Ne.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<Re.length;G++){var je=Re[G];je.element.scrollLeft=je.left,je.element.scrollTop=je.top}}A0=!!Lp,Bp=Lp=null}finally{cr=E,ie.p=g,te.T=d}}a.current=s,Nn=2}}function eA(){if(Nn===2){Nn=0;var a=Ml,s=Oc,d=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||d){d=te.T,te.T=null;var g=ie.p;ie.p=2;var E=cr;cr|=4;try{Ow(a,s.alternate,s)}finally{cr=E,ie.p=g,te.T=d}}Nn=3}}function tA(){if(Nn===4||Nn===3){Nn=0,ll();var a=Ml,s=Oc,d=ks,g=Fw;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Nn=5:(Nn=0,Oc=Ml=null,rA(a,a.pendingLanes));var E=a.pendingLanes;if(E===0&&(_l=null),sa(d),s=s.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Qt,s,void 0,(s.current.flags&128)===128)}catch{}if(g!==null){s=te.T,E=ie.p,ie.p=2,te.T=null;try{for(var C=a.onRecoverableError,P=0;P<g.length;P++){var G=g[P];C(G.value,{componentStack:G.stack})}}finally{te.T=s,ie.p=E}}(ks&3)!==0&&u0(),Zi(a),E=a.pendingLanes,(d&261930)!==0&&(E&42)!==0?a===Ep?Xu++:(Xu=0,Ep=a):Xu=0,Wu(0)}}function rA(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,Ou(s)))}function u0(){return Jw(),eA(),tA(),nA()}function nA(){if(Nn!==5)return!1;var a=Ml,s=Ap;Ap=0;var d=sa(ks),g=te.T,E=ie.p;try{ie.p=32>d?32:d,te.T=null,d=Sp,Sp=null;var C=Ml,P=ks;if(Nn=0,Oc=Ml=null,ks=0,(cr&6)!==0)throw Error(n(331));var G=cr;if(cr|=4,Bw(C.current),Rw(C,C.current,P,d),cr=G,Wu(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Qt,C)}catch{}return!0}finally{ie.p=E,te.T=g,rA(a,s)}}function aA(a,s,d){s=ii(d,s),s=rp(a.stateNode,s,2),a=El(a,s,2),a!==null&&(Cr(a,2),Zi(a))}function gr(a,s,d){if(a.tag===3)aA(a,a,d);else for(;s!==null;){if(s.tag===3){aA(s,a,d);break}else if(s.tag===1){var g=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(_l===null||!_l.has(g))){a=ii(d,a),d=iw(2),g=El(s,d,2),g!==null&&(sw(d,g,s,a),Cr(g,2),Zi(g));break}}s=s.return}}function Tp(a,s,d){var g=a.pingCache;if(g===null){g=a.pingCache=new t_;var E=new Set;g.set(s,E)}else E=g.get(s),E===void 0&&(E=new Set,g.set(s,E));E.has(d)||(vp=!0,E.add(d),a=s_.bind(null,a,s,d),s.then(a,a))}function s_(a,s,d){var g=a.pingCache;g!==null&&g.delete(s),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,Mr===a&&(Wt&d)===d&&($r===4||$r===3&&(Wt&62914560)===Wt&&300>hr()-a0?(cr&2)===0&&Ic(a,0):bp|=d,Tc===Wt&&(Tc=0)),Zi(a)}function iA(a,s){s===0&&(s=yt()),a=uo(a,s),a!==null&&(Cr(a,s),Zi(a))}function l_(a){var s=a.memoizedState,d=0;s!==null&&(d=s.retryLane),iA(a,d)}function o_(a,s){var d=0;switch(a.tag){case 31:case 13:var g=a.stateNode,E=a.memoizedState;E!==null&&(d=E.retryLane);break;case 19:g=a.stateNode;break;case 22:g=a.stateNode._retryCache;break;default:throw Error(n(314))}g!==null&&g.delete(s),iA(a,d)}function c_(a,s){return wn(a,s)}var d0=null,Mc=null,Op=!1,f0=!1,Ip=!1,kl=0;function Zi(a){a!==Mc&&a.next===null&&(Mc===null?d0=Mc=a:Mc=Mc.next=a),f0=!0,Op||(Op=!0,d_())}function Wu(a,s){if(!Ip&&f0){Ip=!0;do for(var d=!1,g=d0;g!==null;){if(a!==0){var E=g.pendingLanes;if(E===0)var C=0;else{var P=g.suspendedLanes,G=g.pingedLanes;C=(1<<31-jt(42|a)+1)-1,C&=E&~(P&~G),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(d=!0,cA(g,C))}else C=Wt,C=Jt(g,g===Mr?C:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(C&3)===0||_t(g,C)||(d=!0,cA(g,C));g=g.next}while(d);Ip=!1}}function u_(){sA()}function sA(){f0=Op=!1;var a=0;kl!==0&&w_()&&(a=kl);for(var s=hr(),d=null,g=d0;g!==null;){var E=g.next,C=lA(g,s);C===0?(g.next=null,d===null?d0=E:d.next=E,E===null&&(Mc=d)):(d=g,(a!==0||(C&3)!==0)&&(f0=!0)),g=E}Nn!==0&&Nn!==5||Wu(a),kl!==0&&(kl=0)}function lA(a,s){for(var d=a.suspendedLanes,g=a.pingedLanes,E=a.expirationTimes,C=a.pendingLanes&-62914561;0<C;){var P=31-jt(C),G=1<<P,re=E[P];re===-1?((G&d)===0||(G&g)!==0)&&(E[P]=tr(G,s)):re<=s&&(a.expiredLanes|=G),C&=~G}if(s=Mr,d=Wt,d=Jt(a,a===s?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g=a.callbackNode,d===0||a===s&&(xr===2||xr===9)||a.cancelPendingCommit!==null)return g!==null&&g!==null&&et(g),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||_t(a,d)){if(s=d&-d,s===a.callbackPriority)return s;switch(g!==null&&et(g),sa(d)){case 2:case 8:d=fs;break;case 32:d=Hn;break;case 268435456:d=Ai;break;default:d=Hn}return g=oA.bind(null,a),d=wn(d,g),a.callbackPriority=s,a.callbackNode=d,s}return g!==null&&g!==null&&et(g),a.callbackPriority=2,a.callbackNode=null,2}function oA(a,s){if(Nn!==0&&Nn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(u0()&&a.callbackNode!==d)return null;var g=Wt;return g=Jt(a,a===Mr?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g===0?null:(Gw(a,g,s),lA(a,hr()),a.callbackNode!=null&&a.callbackNode===d?oA.bind(null,a):null)}function cA(a,s){if(u0())return null;Gw(a,s,!0)}function d_(){S_(function(){(cr&6)!==0?wn(In,u_):sA()})}function _p(){if(kl===0){var a=xc;a===0&&(a=Ge,Ge<<=1,(Ge&261888)===0&&(Ge=256)),kl=a}return kl}function uA(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:ul(""+a)}function dA(a,s){var d=s.ownerDocument.createElement("input");return d.name=s.name,d.value=s.value,a.id&&d.setAttribute("form",a.id),s.parentNode.insertBefore(d,s),a=new FormData(a),d.parentNode.removeChild(d),a}function f_(a,s,d,g,E){if(s==="submit"&&d&&d.stateNode===E){var C=uA((E[nr]||null).action),P=g.submitter;P&&(s=(s=P[nr]||null)?uA(s.formAction):P.getAttribute("formAction"),s!==null&&(C=s,P=null));var G=new An("action","action",null,g,E);a.push({event:G,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(kl!==0){var re=P?dA(E,P):new FormData(E);Z1(d,{pending:!0,data:re,method:E.method,action:C},null,re)}}else typeof C=="function"&&(G.preventDefault(),re=P?dA(E,P):new FormData(E),Z1(d,{pending:!0,data:re,method:E.method,action:C},C,re))},currentTarget:E}]})}}for(var Mp=0;Mp<Nu.length;Mp++){var jp=Nu[Mp],h_=jp.toLowerCase(),m_=jp[0].toUpperCase()+jp.slice(1);Ti(h_,"on"+m_)}Ti(Aa,"onAnimationEnd"),Ti(qn,"onAnimationIteration"),Ti(dr,"onAnimationStart"),Ti("dblclick","onDoubleClick"),Ti("focusin","onFocus"),Ti("focusout","onBlur"),Ti(En,"onTransitionRun"),Ti(ca,"onTransitionStart"),Ti(gl,"onTransitionCancel"),Ti(vs,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),De("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),De("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),De("onBeforeInput",["compositionend","keypress","textInput","paste"]),De("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),De("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),De("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ku));function fA(a,s){s=(s&4)!==0;for(var d=0;d<a.length;d++){var g=a[d],E=g.event;g=g.listeners;e:{var C=void 0;if(s)for(var P=g.length-1;0<=P;P--){var G=g[P],re=G.instance,be=G.currentTarget;if(G=G.listener,re!==C&&E.isPropagationStopped())break e;C=G,E.currentTarget=be;try{C(E)}catch(_e){Tf(_e)}E.currentTarget=null,C=re}else for(P=0;P<g.length;P++){if(G=g[P],re=G.instance,be=G.currentTarget,G=G.listener,re!==C&&E.isPropagationStopped())break e;C=G,E.currentTarget=be;try{C(E)}catch(_e){Tf(_e)}E.currentTarget=null,C=re}}}}function qt(a,s){var d=s[ti];d===void 0&&(d=s[ti]=new Set);var g=a+"__bubble";d.has(g)||(hA(s,a,2,!1),d.add(g))}function kp(a,s,d){var g=0;s&&(g|=4),hA(d,a,g,s)}var h0="_reactListening"+Math.random().toString(36).slice(2);function Dp(a){if(!a[h0]){a[h0]=!0,Le.forEach(function(d){d!=="selectionchange"&&(p_.has(d)||kp(d,!1,a),kp(d,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[h0]||(s[h0]=!0,kp("selectionchange",!1,s))}}function hA(a,s,d,g){switch(HA(s)){case 2:var E=G_;break;case 8:E=V_;break;default:E=Kp}d=E.bind(null,s,d,a),E=void 0,!yu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(E=!0),g?E!==void 0?a.addEventListener(s,d,{capture:!0,passive:E}):a.addEventListener(s,d,!0):E!==void 0?a.addEventListener(s,d,{passive:E}):a.addEventListener(s,d,!1)}function Rp(a,s,d,g,E){var C=g;if((s&1)===0&&(s&2)===0&&g!==null)e:for(;;){if(g===null)return;var P=g.tag;if(P===3||P===4){var G=g.stateNode.containerInfo;if(G===E)break;if(P===4)for(P=g.return;P!==null;){var re=P.tag;if((re===3||re===4)&&P.stateNode.containerInfo===E)return;P=P.return}for(;G!==null;){if(P=zr(G),P===null)return;if(re=P.tag,re===5||re===6||re===26||re===27){g=C=P;continue e}G=G.parentNode}}g=g.return}xf(function(){var be=C,_e=gu(d),Re=[];e:{var we=Cf.get(a);if(we!==void 0){var Ne=An,ct=a;switch(a){case"keypress":if(Gi(d)===0)break e;case"keydown":case"keyup":Ne=lc;break;case"focusin":ct="focus",Ne=wu;break;case"focusout":ct="blur",Ne=wu;break;case"beforeblur":case"afterblur":Ne=wu;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ne=or;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ne=ic;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ne=d1;break;case Aa:case qn:case dr:Ne=zt;break;case vs:Ne=ps;break;case"scroll":case"scrollend":Ne=gf;break;case"wheel":Ne=f1;break;case"copy":case"cut":case"paste":Ne=sc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ne=ur;break;case"toggle":case"beforetoggle":Ne=Su}var Tt=(s&4)!==0,Ar=!Tt&&(a==="scroll"||a==="scrollend"),he=Tt?we!==null?we+"Capture":null:we;Tt=[];for(var le=be,ve;le!==null;){var je=le;if(ve=je.stateNode,je=je.tag,je!==5&&je!==26&&je!==27||ve===null||he===null||(je=Dt(le,he),je!=null&&Tt.push(Zu(le,je,ve))),Ar)break;le=le.return}0<Tt.length&&(we=new Ne(we,ct,null,d,_e),Re.push({event:we,listeners:Tt}))}}if((s&7)===0){e:{if(we=a==="mouseover"||a==="pointerover",Ne=a==="mouseout"||a==="pointerout",we&&d!==ro&&(ct=d.relatedTarget||d.fromElement)&&(zr(ct)||ct[_n]))break e;if((Ne||we)&&(we=_e.window===_e?_e:(we=_e.ownerDocument)?we.defaultView||we.parentWindow:window,Ne?(ct=d.relatedTarget||d.toElement,Ne=be,ct=ct?zr(ct):null,ct!==null&&(Ar=c(ct),Tt=ct.tag,ct!==Ar||Tt!==5&&Tt!==27&&Tt!==6)&&(ct=null)):(Ne=null,ct=be),Ne!==ct)){if(Tt=or,je="onMouseLeave",he="onMouseEnter",le="mouse",(a==="pointerout"||a==="pointerover")&&(Tt=ur,je="onPointerLeave",he="onPointerEnter",le="pointer"),Ar=Ne==null?we:Hi(Ne),ve=ct==null?we:Hi(ct),we=new Tt(je,le+"leave",Ne,d,_e),we.target=Ar,we.relatedTarget=ve,je=null,zr(_e)===be&&(Tt=new Tt(he,le+"enter",ct,d,_e),Tt.target=ve,Tt.relatedTarget=Ar,je=Tt),Ar=je,Ne&&ct)t:{for(Tt=x_,he=Ne,le=ct,ve=0,je=he;je;je=Tt(je))ve++;je=0;for(var vt=le;vt;vt=Tt(vt))je++;for(;0<ve-je;)he=Tt(he),ve--;for(;0<je-ve;)le=Tt(le),je--;for(;ve--;){if(he===le||le!==null&&he===le.alternate){Tt=he;break t}he=Tt(he),le=Tt(le)}Tt=null}else Tt=null;Ne!==null&&mA(Re,we,Ne,Tt,!1),ct!==null&&Ar!==null&&mA(Re,Ar,ct,Tt,!0)}}e:{if(we=be?Hi(be):window,Ne=we.nodeName&&we.nodeName.toLowerCase(),Ne==="select"||Ne==="input"&&we.type==="file")var ar=za;else if(Eu(we))if(Nf)ar=h;else{ar=o;var ft=i}else Ne=we.nodeName,!Ne||Ne.toLowerCase()!=="input"||we.type!=="checkbox"&&we.type!=="radio"?be&&Or(be.elementType)&&(ar=za):ar=u;if(ar&&(ar=ar(a,be))){Ba(Re,ar,d,_e);break e}ft&&ft(a,we,be),a==="focusout"&&be&&we.type==="number"&&be.memoizedProps.value!=null&&X(we,"number",we.value)}switch(ft=be?Hi(be):window,a){case"focusin":(Eu(ft)||ft.contentEditable==="true")&&(ae=ft,se=be,xe=null);break;case"focusout":xe=se=ae=null;break;case"mousedown":Ae=!0;break;case"contextmenu":case"mouseup":case"dragend":Ae=!1,Xe(Re,d,_e);break;case"selectionchange":if(W)break;case"keydown":case"keyup":Xe(Re,d,_e)}var Ut;if(io)e:{switch(a){case"compositionstart":var Kt="onCompositionStart";break e;case"compositionend":Kt="onCompositionEnd";break e;case"compositionupdate":Kt="onCompositionUpdate";break e}Kt=void 0}else xl?Ef(a,d)&&(Kt="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(Kt="onCompositionStart");Kt&&(Sf&&d.locale!=="ko"&&(xl||Kt!=="onCompositionStart"?Kt==="onCompositionEnd"&&xl&&(Ut=dl()):(Ni=_e,Ci="value"in Ni?Ni.value:Ni.textContent,xl=!0)),ft=m0(be,Kt),0<ft.length&&(Kt=new bf(Kt,a,null,d,_e),Re.push({event:Kt,listeners:ft}),Ut?Kt.data=Ut:(Ut=pl(d),Ut!==null&&(Kt.data=Ut)))),(Ut=Af?qi(a,d):cc(a,d))&&(Kt=m0(be,"onBeforeInput"),0<Kt.length&&(ft=new bf("onBeforeInput","beforeinput",null,d,_e),Re.push({event:ft,listeners:Kt}),ft.data=Ut)),f_(Re,a,be,d,_e)}fA(Re,s)})}function Zu(a,s,d){return{instance:a,listener:s,currentTarget:d}}function m0(a,s){for(var d=s+"Capture",g=[];a!==null;){var E=a,C=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||C===null||(E=Dt(a,d),E!=null&&g.unshift(Zu(a,E,C)),E=Dt(a,s),E!=null&&g.push(Zu(a,E,C))),a.tag===3)return g;a=a.return}return[]}function x_(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function mA(a,s,d,g,E){for(var C=s._reactName,P=[];d!==null&&d!==g;){var G=d,re=G.alternate,be=G.stateNode;if(G=G.tag,re!==null&&re===g)break;G!==5&&G!==26&&G!==27||be===null||(re=be,E?(be=Dt(d,C),be!=null&&P.unshift(Zu(d,be,re))):E||(be=Dt(d,C),be!=null&&P.push(Zu(d,be,re)))),d=d.return}P.length!==0&&a.push({event:s,listeners:P})}var g_=/\r\n?/g,y_=/\u0000|\uFFFD/g;function pA(a){return(typeof a=="string"?a:""+a).replace(g_,`
`).replace(y_,"")}function xA(a,s){return s=pA(s),pA(a)===s}function wr(a,s,d,g,E,C){switch(d){case"children":typeof g=="string"?s==="body"||s==="textarea"&&g===""||cl(a,g):(typeof g=="number"||typeof g=="bigint")&&s!=="body"&&cl(a,""+g);break;case"className":Mn(a,"class",g);break;case"tabIndex":Mn(a,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Mn(a,d,g);break;case"style":xt(a,g,C);break;case"data":if(s!=="object"){Mn(a,"data",g);break}case"src":case"href":if(g===""&&(s!=="a"||d!=="href")){a.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(d);break}g=ul(""+g),a.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(d==="formAction"?(s!=="input"&&wr(a,s,"name",E.name,E,null),wr(a,s,"formEncType",E.formEncType,E,null),wr(a,s,"formMethod",E.formMethod,E,null),wr(a,s,"formTarget",E.formTarget,E,null)):(wr(a,s,"encType",E.encType,E,null),wr(a,s,"method",E.method,E,null),wr(a,s,"target",E.target,E,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(d);break}g=ul(""+g),a.setAttribute(d,g);break;case"onClick":g!=null&&(a.onclick=ba);break;case"onScroll":g!=null&&qt("scroll",a);break;case"onScrollEnd":g!=null&&qt("scrollend",a);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(d=g.__html,d!=null){if(E.children!=null)throw Error(n(60));a.innerHTML=d}}break;case"multiple":a.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":a.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){a.removeAttribute("xlink:href");break}d=ul(""+g),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,""+g):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":g===!0?a.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,g):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?a.setAttribute(d,g):a.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?a.removeAttribute(d):a.setAttribute(d,g);break;case"popover":qt("beforetoggle",a),qt("toggle",a),pr(a,"popover",g);break;case"xlinkActuate":kt(a,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":kt(a,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":kt(a,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":kt(a,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":kt(a,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":kt(a,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":kt(a,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":kt(a,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":kt(a,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":pr(a,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=pf.get(d)||d,pr(a,d,g))}}function Pp(a,s,d,g,E,C){switch(d){case"style":xt(a,g,C);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(d=g.__html,d!=null){if(E.children!=null)throw Error(n(60));a.innerHTML=d}}break;case"children":typeof g=="string"?cl(a,g):(typeof g=="number"||typeof g=="bigint")&&cl(a,""+g);break;case"onScroll":g!=null&&qt("scroll",a);break;case"onScrollEnd":g!=null&&qt("scrollend",a);break;case"onClick":g!=null&&(a.onclick=ba);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ue.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(E=d.endsWith("Capture"),s=d.slice(2,E?d.length-7:void 0),C=a[nr]||null,C=C!=null?C[d]:null,typeof C=="function"&&a.removeEventListener(s,C,E),typeof g=="function")){typeof C!="function"&&C!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(s,g,E);break e}d in a?a[d]=g:g===!0?a.setAttribute(d,""):pr(a,d,g)}}}function Zn(a,s,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qt("error",a),qt("load",a);var g=!1,E=!1,C;for(C in d)if(d.hasOwnProperty(C)){var P=d[C];if(P!=null)switch(C){case"src":g=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:wr(a,s,C,P,d,null)}}E&&wr(a,s,"srcSet",d.srcSet,d,null),g&&wr(a,s,"src",d.src,d,null);return;case"input":qt("invalid",a);var G=C=P=E=null,re=null,be=null;for(g in d)if(d.hasOwnProperty(g)){var _e=d[g];if(_e!=null)switch(g){case"name":E=_e;break;case"type":P=_e;break;case"checked":re=_e;break;case"defaultChecked":be=_e;break;case"value":C=_e;break;case"defaultValue":G=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(n(137,s));break;default:wr(a,s,g,_e,d,null)}}ye(a,C,G,re,be,P,E,!1);return;case"select":qt("invalid",a),g=P=C=null;for(E in d)if(d.hasOwnProperty(E)&&(G=d[E],G!=null))switch(E){case"value":C=G;break;case"defaultValue":P=G;break;case"multiple":g=G;default:wr(a,s,E,G,d,null)}s=C,d=P,a.multiple=!!g,s!=null?ut(a,!!g,s,!1):d!=null&&ut(a,!!g,d,!0);return;case"textarea":qt("invalid",a),C=E=g=null;for(P in d)if(d.hasOwnProperty(P)&&(G=d[P],G!=null))switch(P){case"value":g=G;break;case"defaultValue":E=G;break;case"children":C=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(n(91));break;default:wr(a,s,P,G,d,null)}la(a,g,E,C);return;case"option":for(re in d)if(d.hasOwnProperty(re)&&(g=d[re],g!=null))switch(re){case"selected":a.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:wr(a,s,re,g,d,null)}return;case"dialog":qt("beforetoggle",a),qt("toggle",a),qt("cancel",a),qt("close",a);break;case"iframe":case"object":qt("load",a);break;case"video":case"audio":for(g=0;g<Ku.length;g++)qt(Ku[g],a);break;case"image":qt("error",a),qt("load",a);break;case"details":qt("toggle",a);break;case"embed":case"source":case"link":qt("error",a),qt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(be in d)if(d.hasOwnProperty(be)&&(g=d[be],g!=null))switch(be){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:wr(a,s,be,g,d,null)}return;default:if(Or(s)){for(_e in d)d.hasOwnProperty(_e)&&(g=d[_e],g!==void 0&&Pp(a,s,_e,g,d,void 0));return}}for(G in d)d.hasOwnProperty(G)&&(g=d[G],g!=null&&wr(a,s,G,g,d,null))}function v_(a,s,d,g){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,C=null,P=null,G=null,re=null,be=null,_e=null;for(Ne in d){var Re=d[Ne];if(d.hasOwnProperty(Ne)&&Re!=null)switch(Ne){case"checked":break;case"value":break;case"defaultValue":re=Re;default:g.hasOwnProperty(Ne)||wr(a,s,Ne,null,g,Re)}}for(var we in g){var Ne=g[we];if(Re=d[we],g.hasOwnProperty(we)&&(Ne!=null||Re!=null))switch(we){case"type":C=Ne;break;case"name":E=Ne;break;case"checked":be=Ne;break;case"defaultChecked":_e=Ne;break;case"value":P=Ne;break;case"defaultValue":G=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(n(137,s));break;default:Ne!==Re&&wr(a,s,we,Ne,g,Re)}}hn(a,P,G,re,be,_e,C,E);return;case"select":Ne=P=G=we=null;for(C in d)if(re=d[C],d.hasOwnProperty(C)&&re!=null)switch(C){case"value":break;case"multiple":Ne=re;default:g.hasOwnProperty(C)||wr(a,s,C,null,g,re)}for(E in g)if(C=g[E],re=d[E],g.hasOwnProperty(E)&&(C!=null||re!=null))switch(E){case"value":we=C;break;case"defaultValue":G=C;break;case"multiple":P=C;default:C!==re&&wr(a,s,E,C,g,re)}s=G,d=P,g=Ne,we!=null?ut(a,!!d,we,!1):!!g!=!!d&&(s!=null?ut(a,!!d,s,!0):ut(a,!!d,d?[]:"",!1));return;case"textarea":Ne=we=null;for(G in d)if(E=d[G],d.hasOwnProperty(G)&&E!=null&&!g.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:wr(a,s,G,null,g,E)}for(P in g)if(E=g[P],C=d[P],g.hasOwnProperty(P)&&(E!=null||C!=null))switch(P){case"value":we=E;break;case"defaultValue":Ne=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(n(91));break;default:E!==C&&wr(a,s,P,E,g,C)}on(a,we,Ne);return;case"option":for(var ct in d)if(we=d[ct],d.hasOwnProperty(ct)&&we!=null&&!g.hasOwnProperty(ct))switch(ct){case"selected":a.selected=!1;break;default:wr(a,s,ct,null,g,we)}for(re in g)if(we=g[re],Ne=d[re],g.hasOwnProperty(re)&&we!==Ne&&(we!=null||Ne!=null))switch(re){case"selected":a.selected=we&&typeof we!="function"&&typeof we!="symbol";break;default:wr(a,s,re,we,g,Ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in d)we=d[Tt],d.hasOwnProperty(Tt)&&we!=null&&!g.hasOwnProperty(Tt)&&wr(a,s,Tt,null,g,we);for(be in g)if(we=g[be],Ne=d[be],g.hasOwnProperty(be)&&we!==Ne&&(we!=null||Ne!=null))switch(be){case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(n(137,s));break;default:wr(a,s,be,we,g,Ne)}return;default:if(Or(s)){for(var Ar in d)we=d[Ar],d.hasOwnProperty(Ar)&&we!==void 0&&!g.hasOwnProperty(Ar)&&Pp(a,s,Ar,void 0,g,we);for(_e in g)we=g[_e],Ne=d[_e],!g.hasOwnProperty(_e)||we===Ne||we===void 0&&Ne===void 0||Pp(a,s,_e,we,g,Ne);return}}for(var he in d)we=d[he],d.hasOwnProperty(he)&&we!=null&&!g.hasOwnProperty(he)&&wr(a,s,he,null,g,we);for(Re in g)we=g[Re],Ne=d[Re],!g.hasOwnProperty(Re)||we===Ne||we==null&&Ne==null||wr(a,s,Re,we,g,Ne)}function gA(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function b_(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,d=performance.getEntriesByType("resource"),g=0;g<d.length;g++){var E=d[g],C=E.transferSize,P=E.initiatorType,G=E.duration;if(C&&G&&gA(P)){for(P=0,G=E.responseEnd,g+=1;g<d.length;g++){var re=d[g],be=re.startTime;if(be>G)break;var _e=re.transferSize,Re=re.initiatorType;_e&&gA(Re)&&(re=re.responseEnd,P+=_e*(re<G?1:(G-be)/(re-be)))}if(--g,s+=8*(C+P)/(E.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Lp=null,Bp=null;function p0(a){return a.nodeType===9?a:a.ownerDocument}function yA(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vA(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function zp(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Up=null;function w_(){var a=window.event;return a&&a.type==="popstate"?a===Up?!1:(Up=a,!0):(Up=null,!1)}var bA=typeof setTimeout=="function"?setTimeout:void 0,A_=typeof clearTimeout=="function"?clearTimeout:void 0,wA=typeof Promise=="function"?Promise:void 0,S_=typeof queueMicrotask=="function"?queueMicrotask:typeof wA<"u"?function(a){return wA.resolve(null).then(a).catch(E_)}:bA;function E_(a){setTimeout(function(){throw a})}function Dl(a){return a==="head"}function AA(a,s){var d=s,g=0;do{var E=d.nextSibling;if(a.removeChild(d),E&&E.nodeType===8)if(d=E.data,d==="/$"||d==="/&"){if(g===0){a.removeChild(E),Rc(s);return}g--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")g++;else if(d==="html")$u(a.ownerDocument.documentElement);else if(d==="head"){d=a.ownerDocument.head,$u(d);for(var C=d.firstChild;C;){var P=C.nextSibling,G=C.nodeName;C[ln]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&C.rel.toLowerCase()==="stylesheet"||d.removeChild(C),C=P}}else d==="body"&&$u(a.ownerDocument.body);d=E}while(d);Rc(s)}function SA(a,s){var d=a;a=0;do{var g=d.nextSibling;if(d.nodeType===1?s?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(s?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),g&&g.nodeType===8)if(d=g.data,d==="/$"){if(a===0)break;a--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||a++;d=g}while(d)}function Fp(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var d=s;switch(s=s.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Fp(d),Vn(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function N_(a,s,d,g){for(;a.nodeType===1;){var E=d;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!g&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(g){if(!a[ln])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(C=a.getAttribute("rel"),C==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(C!==E.rel||a.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||a.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||a.getAttribute("title")!==(E.title==null?null:E.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(C=a.getAttribute("src"),(C!==(E.src==null?null:E.src)||a.getAttribute("type")!==(E.type==null?null:E.type)||a.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&C&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var C=E.name==null?null:""+E.name;if(E.type==="hidden"&&a.getAttribute("name")===C)return a}else return a;if(a=ui(a.nextSibling),a===null)break}return null}function C_(a,s,d){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=ui(a.nextSibling),a===null))return null;return a}function EA(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=ui(a.nextSibling),a===null))return null;return a}function Hp(a){return a.data==="$?"||a.data==="$~"}function Gp(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function T_(a,s){var d=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||d.readyState!=="loading")s();else{var g=function(){s(),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g),a._reactRetry=g}}function ui(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var Vp=null;function NA(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"||d==="/&"){if(s===0)return ui(a.nextSibling);s--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||s++}a=a.nextSibling}return null}function CA(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(s===0)return a;s--}else d!=="/$"&&d!=="/&"||s++}a=a.previousSibling}return null}function TA(a,s,d){switch(s=p0(d),a){case"html":if(a=s.documentElement,!a)throw Error(n(452));return a;case"head":if(a=s.head,!a)throw Error(n(453));return a;case"body":if(a=s.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function $u(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);Vn(a)}var di=new Map,OA=new Set;function x0(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ds=ie.d;ie.d={f:O_,r:I_,D:__,C:M_,L:j_,m:k_,X:R_,S:D_,M:P_};function O_(){var a=Ds.f(),s=l0();return a||s}function I_(a){var s=er(a);s!==null&&s.tag===5&&s.type==="form"?Y2(s):Ds.r(a)}var jc=typeof document>"u"?null:document;function IA(a,s,d){var g=jc;if(g&&typeof s=="string"&&s){var E=Ht(s);E='link[rel="'+a+'"][href="'+E+'"]',typeof d=="string"&&(E+='[crossorigin="'+d+'"]'),OA.has(E)||(OA.add(E),a={rel:a,crossOrigin:d,href:s},g.querySelector(E)===null&&(s=g.createElement("link"),Zn(s,"link",a),Ur(s),g.head.appendChild(s)))}}function __(a){Ds.D(a),IA("dns-prefetch",a,null)}function M_(a,s){Ds.C(a,s),IA("preconnect",a,s)}function j_(a,s,d){Ds.L(a,s,d);var g=jc;if(g&&a&&s){var E='link[rel="preload"][as="'+Ht(s)+'"]';s==="image"&&d&&d.imageSrcSet?(E+='[imagesrcset="'+Ht(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(E+='[imagesizes="'+Ht(d.imageSizes)+'"]')):E+='[href="'+Ht(a)+'"]';var C=E;switch(s){case"style":C=kc(a);break;case"script":C=Dc(a)}di.has(C)||(a=A({rel:"preload",href:s==="image"&&d&&d.imageSrcSet?void 0:a,as:s},d),di.set(C,a),g.querySelector(E)!==null||s==="style"&&g.querySelector(Qu(C))||s==="script"&&g.querySelector(Ju(C))||(s=g.createElement("link"),Zn(s,"link",a),Ur(s),g.head.appendChild(s)))}}function k_(a,s){Ds.m(a,s);var d=jc;if(d&&a){var g=s&&typeof s.as=="string"?s.as:"script",E='link[rel="modulepreload"][as="'+Ht(g)+'"][href="'+Ht(a)+'"]',C=E;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=Dc(a)}if(!di.has(C)&&(a=A({rel:"modulepreload",href:a},s),di.set(C,a),d.querySelector(E)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Ju(C)))return}g=d.createElement("link"),Zn(g,"link",a),Ur(g),d.head.appendChild(g)}}}function D_(a,s,d){Ds.S(a,s,d);var g=jc;if(g&&a){var E=Yn(g).hoistableStyles,C=kc(a);s=s||"default";var P=E.get(C);if(!P){var G={loading:0,preload:null};if(P=g.querySelector(Qu(C)))G.loading=5;else{a=A({rel:"stylesheet",href:a,"data-precedence":s},d),(d=di.get(C))&&Yp(a,d);var re=P=g.createElement("link");Ur(re),Zn(re,"link",a),re._p=new Promise(function(be,_e){re.onload=be,re.onerror=_e}),re.addEventListener("load",function(){G.loading|=1}),re.addEventListener("error",function(){G.loading|=2}),G.loading|=4,g0(P,s,g)}P={type:"stylesheet",instance:P,count:1,state:G},E.set(C,P)}}}function R_(a,s){Ds.X(a,s);var d=jc;if(d&&a){var g=Yn(d).hoistableScripts,E=Dc(a),C=g.get(E);C||(C=d.querySelector(Ju(E)),C||(a=A({src:a,async:!0},s),(s=di.get(E))&&qp(a,s),C=d.createElement("script"),Ur(C),Zn(C,"link",a),d.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},g.set(E,C))}}function P_(a,s){Ds.M(a,s);var d=jc;if(d&&a){var g=Yn(d).hoistableScripts,E=Dc(a),C=g.get(E);C||(C=d.querySelector(Ju(E)),C||(a=A({src:a,async:!0,type:"module"},s),(s=di.get(E))&&qp(a,s),C=d.createElement("script"),Ur(C),Zn(C,"link",a),d.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},g.set(E,C))}}function _A(a,s,d,g){var E=(E=Q.current)?x0(E):null;if(!E)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(s=kc(d.href),d=Yn(E).hoistableStyles,g=d.get(s),g||(g={type:"style",instance:null,count:0,state:null},d.set(s,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=kc(d.href);var C=Yn(E).hoistableStyles,P=C.get(a);if(P||(E=E.ownerDocument||E,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(a,P),(C=E.querySelector(Qu(a)))&&!C._p&&(P.instance=C,P.state.loading=5),di.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},di.set(a,d),C||L_(E,a,d,P.state))),s&&g===null)throw Error(n(528,""));return P}if(s&&g!==null)throw Error(n(529,""));return null;case"script":return s=d.async,d=d.src,typeof d=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Dc(d),d=Yn(E).hoistableScripts,g=d.get(s),g||(g={type:"script",instance:null,count:0,state:null},d.set(s,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function kc(a){return'href="'+Ht(a)+'"'}function Qu(a){return'link[rel="stylesheet"]['+a+"]"}function MA(a){return A({},a,{"data-precedence":a.precedence,precedence:null})}function L_(a,s,d,g){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?g.loading=1:(s=a.createElement("link"),g.preload=s,s.addEventListener("load",function(){return g.loading|=1}),s.addEventListener("error",function(){return g.loading|=2}),Zn(s,"link",d),Ur(s),a.head.appendChild(s))}function Dc(a){return'[src="'+Ht(a)+'"]'}function Ju(a){return"script[async]"+a}function jA(a,s,d){if(s.count++,s.instance===null)switch(s.type){case"style":var g=a.querySelector('style[data-href~="'+Ht(d.href)+'"]');if(g)return s.instance=g,Ur(g),g;var E=A({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(a.ownerDocument||a).createElement("style"),Ur(g),Zn(g,"style",E),g0(g,d.precedence,a),s.instance=g;case"stylesheet":E=kc(d.href);var C=a.querySelector(Qu(E));if(C)return s.state.loading|=4,s.instance=C,Ur(C),C;g=MA(d),(E=di.get(E))&&Yp(g,E),C=(a.ownerDocument||a).createElement("link"),Ur(C);var P=C;return P._p=new Promise(function(G,re){P.onload=G,P.onerror=re}),Zn(C,"link",g),s.state.loading|=4,g0(C,d.precedence,a),s.instance=C;case"script":return C=Dc(d.src),(E=a.querySelector(Ju(C)))?(s.instance=E,Ur(E),E):(g=d,(E=di.get(C))&&(g=A({},d),qp(g,E)),a=a.ownerDocument||a,E=a.createElement("script"),Ur(E),Zn(E,"link",g),a.head.appendChild(E),s.instance=E);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(g=s.instance,s.state.loading|=4,g0(g,d.precedence,a));return s.instance}function g0(a,s,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=g.length?g[g.length-1]:null,C=E,P=0;P<g.length;P++){var G=g[P];if(G.dataset.precedence===s)C=G;else if(C!==E)break}C?C.parentNode.insertBefore(a,C.nextSibling):(s=d.nodeType===9?d.head:d,s.insertBefore(a,s.firstChild))}function Yp(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function qp(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var y0=null;function kA(a,s,d){if(y0===null){var g=new Map,E=y0=new Map;E.set(d,g)}else E=y0,g=E.get(d),g||(g=new Map,E.set(d,g));if(g.has(a))return g;for(g.set(a,null),d=d.getElementsByTagName(a),E=0;E<d.length;E++){var C=d[E];if(!(C[ln]||C[Vt]||a==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var P=C.getAttribute(s)||"";P=a+P;var G=g.get(P);G?G.push(C):g.set(P,[C])}}return g}function DA(a,s,d){a=a.ownerDocument||a,a.head.insertBefore(d,s==="title"?a.querySelector("head > title"):null)}function B_(a,s,d){if(d===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function RA(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function z_(a,s,d,g){if(d.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var E=kc(g.href),C=s.querySelector(Qu(E));if(C){s=C._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=v0.bind(a),s.then(a,a)),d.state.loading|=4,d.instance=C,Ur(C);return}C=s.ownerDocument||s,g=MA(g),(E=di.get(E))&&Yp(g,E),C=C.createElement("link"),Ur(C);var P=C;P._p=new Promise(function(G,re){P.onload=G,P.onerror=re}),Zn(C,"link",g),d.instance=C}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(d,s),(s=d.state.preload)&&(d.state.loading&3)===0&&(a.count++,d=v0.bind(a),s.addEventListener("load",d),s.addEventListener("error",d))}}var Xp=0;function U_(a,s){return a.stylesheets&&a.count===0&&w0(a,a.stylesheets),0<a.count||0<a.imgCount?function(d){var g=setTimeout(function(){if(a.stylesheets&&w0(a,a.stylesheets),a.unsuspend){var C=a.unsuspend;a.unsuspend=null,C()}},6e4+s);0<a.imgBytes&&Xp===0&&(Xp=62500*b_());var E=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&w0(a,a.stylesheets),a.unsuspend)){var C=a.unsuspend;a.unsuspend=null,C()}},(a.imgBytes>Xp?50:800)+s);return a.unsuspend=d,function(){a.unsuspend=null,clearTimeout(g),clearTimeout(E)}}:null}function v0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)w0(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var b0=null;function w0(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,b0=new Map,s.forEach(F_,a),b0=null,v0.call(a))}function F_(a,s){if(!(s.state.loading&4)){var d=b0.get(a);if(d)var g=d.get(null);else{d=new Map,b0.set(a,d);for(var E=a.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<E.length;C++){var P=E[C];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(d.set(P.dataset.precedence,P),g=P)}g&&d.set(null,g)}E=s.instance,P=E.getAttribute("data-precedence"),C=d.get(P)||g,C===g&&d.set(null,E),d.set(P,E),this.count++,g=v0.bind(this),E.addEventListener("load",g),E.addEventListener("error",g),C?C.parentNode.insertBefore(E,C.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(E,a.firstChild)),s.state.loading|=4}}var ed={$$typeof:U,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function H_(a,s,d,g,E,C,P,G,re){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mr(0),this.hiddenUpdates=mr(null),this.identifierPrefix=g,this.onUncaughtError=E,this.onCaughtError=C,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=re,this.incompleteTransitions=new Map}function PA(a,s,d,g,E,C,P,G,re,be,_e,Re){return a=new H_(a,s,d,P,re,be,_e,Re,G),s=1,C===!0&&(s|=24),C=Ua(3,null,null,s),a.current=C,C.stateNode=a,s=C1(),s.refCount++,a.pooledCache=s,s.refCount++,C.memoizedState={element:g,isDehydrated:d,cache:s},_1(C),a}function LA(a){return a?(a=dc,a):dc}function BA(a,s,d,g,E,C){E=LA(E),g.context===null?g.context=E:g.pendingContext=E,g=Sl(s),g.payload={element:d},C=C===void 0?null:C,C!==null&&(g.callback=C),d=El(a,g,s),d!==null&&(Ta(d,a,s),ju(d,a,s))}function zA(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<s?d:s}}function Wp(a,s){zA(a,s),(a=a.alternate)&&zA(a,s)}function UA(a){if(a.tag===13||a.tag===31){var s=uo(a,67108864);s!==null&&Ta(s,a,67108864),Wp(a,67108864)}}function FA(a){if(a.tag===13||a.tag===31){var s=Ya();s=kr(s);var d=uo(a,s);d!==null&&Ta(d,a,s),Wp(a,s)}}var A0=!0;function G_(a,s,d,g){var E=te.T;te.T=null;var C=ie.p;try{ie.p=2,Kp(a,s,d,g)}finally{ie.p=C,te.T=E}}function V_(a,s,d,g){var E=te.T;te.T=null;var C=ie.p;try{ie.p=8,Kp(a,s,d,g)}finally{ie.p=C,te.T=E}}function Kp(a,s,d,g){if(A0){var E=Zp(g);if(E===null)Rp(a,s,g,S0,d),GA(a,g);else if(q_(E,a,s,d,g))g.stopPropagation();else if(GA(a,g),s&4&&-1<Y_.indexOf(a)){for(;E!==null;){var C=er(E);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var P=wt(C.pendingLanes);if(P!==0){var G=C;for(G.pendingLanes|=2,G.entangledLanes|=2;P;){var re=1<<31-jt(P);G.entanglements[1]|=re,P&=~re}Zi(C),(cr&6)===0&&(i0=hr()+500,Wu(0))}}break;case 31:case 13:G=uo(C,2),G!==null&&Ta(G,C,2),l0(),Wp(C,2)}if(C=Zp(g),C===null&&Rp(a,s,g,S0,d),C===E)break;E=C}E!==null&&g.stopPropagation()}else Rp(a,s,g,null,d)}}function Zp(a){return a=gu(a),$p(a)}var S0=null;function $p(a){if(S0=null,a=zr(a),a!==null){var s=c(a);if(s===null)a=null;else{var d=s.tag;if(d===13){if(a=f(s),a!==null)return a;a=null}else if(d===31){if(a=x(s),a!==null)return a;a=null}else if(d===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return S0=a,null}function HA(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zi()){case In:return 2;case fs:return 8;case Hn:case nn:return 32;case Ai:return 268435456;default:return 32}default:return 32}}var Qp=!1,Rl=null,Pl=null,Ll=null,td=new Map,rd=new Map,Bl=[],Y_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function GA(a,s){switch(a){case"focusin":case"focusout":Rl=null;break;case"dragenter":case"dragleave":Pl=null;break;case"mouseover":case"mouseout":Ll=null;break;case"pointerover":case"pointerout":td.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":rd.delete(s.pointerId)}}function nd(a,s,d,g,E,C){return a===null||a.nativeEvent!==C?(a={blockedOn:s,domEventName:d,eventSystemFlags:g,nativeEvent:C,targetContainers:[E]},s!==null&&(s=er(s),s!==null&&UA(s)),a):(a.eventSystemFlags|=g,s=a.targetContainers,E!==null&&s.indexOf(E)===-1&&s.push(E),a)}function q_(a,s,d,g,E){switch(s){case"focusin":return Rl=nd(Rl,a,s,d,g,E),!0;case"dragenter":return Pl=nd(Pl,a,s,d,g,E),!0;case"mouseover":return Ll=nd(Ll,a,s,d,g,E),!0;case"pointerover":var C=E.pointerId;return td.set(C,nd(td.get(C)||null,a,s,d,g,E)),!0;case"gotpointercapture":return C=E.pointerId,rd.set(C,nd(rd.get(C)||null,a,s,d,g,E)),!0}return!1}function VA(a){var s=zr(a.target);if(s!==null){var d=c(s);if(d!==null){if(s=d.tag,s===13){if(s=f(d),s!==null){a.blockedOn=s,ze(a.priority,function(){FA(d)});return}}else if(s===31){if(s=x(d),s!==null){a.blockedOn=s,ze(a.priority,function(){FA(d)});return}}else if(s===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function E0(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var d=Zp(a.nativeEvent);if(d===null){d=a.nativeEvent;var g=new d.constructor(d.type,d);ro=g,d.target.dispatchEvent(g),ro=null}else return s=er(d),s!==null&&UA(s),a.blockedOn=d,!1;s.shift()}return!0}function YA(a,s,d){E0(a)&&d.delete(s)}function X_(){Qp=!1,Rl!==null&&E0(Rl)&&(Rl=null),Pl!==null&&E0(Pl)&&(Pl=null),Ll!==null&&E0(Ll)&&(Ll=null),td.forEach(YA),rd.forEach(YA)}function N0(a,s){a.blockedOn===s&&(a.blockedOn=null,Qp||(Qp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,X_)))}var C0=null;function qA(a){C0!==a&&(C0=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){C0===a&&(C0=null);for(var s=0;s<a.length;s+=3){var d=a[s],g=a[s+1],E=a[s+2];if(typeof g!="function"){if($p(g||d)===null)continue;break}var C=er(d);C!==null&&(a.splice(s,3),s-=3,Z1(C,{pending:!0,data:E,method:d.method,action:g},g,E))}}))}function Rc(a){function s(re){return N0(re,a)}Rl!==null&&N0(Rl,a),Pl!==null&&N0(Pl,a),Ll!==null&&N0(Ll,a),td.forEach(s),rd.forEach(s);for(var d=0;d<Bl.length;d++){var g=Bl[d];g.blockedOn===a&&(g.blockedOn=null)}for(;0<Bl.length&&(d=Bl[0],d.blockedOn===null);)VA(d),d.blockedOn===null&&Bl.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var E=d[g],C=d[g+1],P=E[nr]||null;if(typeof C=="function")P||qA(d);else if(P){var G=null;if(C&&C.hasAttribute("formAction")){if(E=C,P=C[nr]||null)G=P.formAction;else if($p(E)!==null)continue}else G=P.action;typeof G=="function"?d[g+1]=G:(d.splice(g,3),g-=3),qA(d)}}}function XA(){function a(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(P){return E=P})},focusReset:"manual",scroll:"manual"})}function s(){E!==null&&(E(),E=null),g||setTimeout(d,20)}function d(){if(!g&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,E=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(d,100),function(){g=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),E!==null&&(E(),E=null)}}}function Jp(a){this._internalRoot=a}T0.prototype.render=Jp.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(n(409));var d=s.current,g=Ya();BA(d,g,a,s,null,null)},T0.prototype.unmount=Jp.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;BA(a.current,2,null,a,null,null),l0(),s[_n]=null}};function T0(a){this._internalRoot=a}T0.prototype.unstable_scheduleHydration=function(a){if(a){var s=sn();a={blockedOn:null,target:a,priority:s};for(var d=0;d<Bl.length&&s!==0&&s<Bl[d].priority;d++);Bl.splice(d,0,a),d===0&&VA(a)}};var WA=t.version;if(WA!=="19.2.4")throw Error(n(527,WA,"19.2.4"));ie.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=y(s),a=a!==null?w(a):null,a=a===null?null:a.stateNode,a};var W_={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var O0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!O0.isDisabled&&O0.supportsFiber)try{Qt=O0.inject(W_),He=O0}catch{}}return id.createRoot=function(a,s){if(!l(a))throw Error(n(299));var d=!1,g="",E=tw,C=rw,P=nw;return s!=null&&(s.unstable_strictMode===!0&&(d=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onUncaughtError!==void 0&&(E=s.onUncaughtError),s.onCaughtError!==void 0&&(C=s.onCaughtError),s.onRecoverableError!==void 0&&(P=s.onRecoverableError)),s=PA(a,1,!1,null,null,d,g,null,E,C,P,XA),a[_n]=s.current,Dp(a),new Jp(s)},id.hydrateRoot=function(a,s,d){if(!l(a))throw Error(n(299));var g=!1,E="",C=tw,P=rw,G=nw,re=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(E=d.identifierPrefix),d.onUncaughtError!==void 0&&(C=d.onUncaughtError),d.onCaughtError!==void 0&&(P=d.onCaughtError),d.onRecoverableError!==void 0&&(G=d.onRecoverableError),d.formState!==void 0&&(re=d.formState)),s=PA(a,1,!0,s,d??null,g,E,re,C,P,G,XA),s.context=LA(null),d=s.current,g=Ya(),g=kr(g),E=Sl(g),E.callback=null,El(d,E,g),d=g,s.current.lanes=d,Cr(s,d),Zi(s),a[_n]=s.current,Dp(a),new T0(s)},id.version="19.2.4",id}var aS;function lM(){if(aS)return nx.exports;aS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),nx.exports=sM(),nx.exports}var oM=lM();const cM=ls(oM);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var iS="popstate";function uM(e={}){function t(l,c){let{pathname:f="/",search:x="",hash:b=""}=Ko(l.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Wg("",{pathname:f,search:x,hash:b},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function r(l,c){let f=l.document.querySelector("base"),x="";if(f&&f.getAttribute("href")){let b=l.location.href,y=b.indexOf("#");x=y===-1?b:b.slice(0,y)}return x+"#"+(typeof c=="string"?c:Td(c))}function n(l,c){Qa(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return fM(t,r,n,e)}function Yr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Qa(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function dM(){return Math.random().toString(36).substring(2,10)}function sS(e,t){return{usr:e.state,key:e.key,idx:t}}function Wg(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ko(t):t,state:r,key:t&&t.key||n||dM()}}function Td({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ko(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function fM(e,t,r,n={}){let{window:l=document.defaultView,v5Compat:c=!1}=n,f=l.history,x="POP",b=null,y=w();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function w(){return(f.state||{idx:null}).idx}function A(){x="POP";let k=w(),R=k==null?null:k-y;y=k,b&&b({action:x,location:M.location,delta:R})}function T(k,R){x="PUSH";let F=Wg(M.location,k,R);r&&r(F,k),y=w()+1;let U=sS(F,y),V=M.createHref(F);try{f.pushState(U,"",V)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;l.location.assign(V)}c&&b&&b({action:x,location:M.location,delta:1})}function _(k,R){x="REPLACE";let F=Wg(M.location,k,R);r&&r(F,k),y=w();let U=sS(F,y),V=M.createHref(F);f.replaceState(U,"",V),c&&b&&b({action:x,location:M.location,delta:0})}function j(k){return hM(k)}let M={get action(){return x},get location(){return e(l,f)},listen(k){if(b)throw new Error("A history only accepts one active listener");return l.addEventListener(iS,A),b=k,()=>{l.removeEventListener(iS,A),b=null}},createHref(k){return t(l,k)},createURL:j,encodeLocation(k){let R=j(k);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:T,replace:_,go(k){return f.go(k)}};return M}function hM(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Yr(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Td(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function O4(e,t,r="/"){return mM(e,t,r,!1)}function mM(e,t,r,n){let l=typeof t=="string"?Ko(t):t,c=Ys(l.pathname||"/",r);if(c==null)return null;let f=I4(e);pM(f);let x=null;for(let b=0;x==null&&b<f.length;++b){let y=CM(c);x=EM(f[b],y,n)}return x}function I4(e,t=[],r=[],n="",l=!1){let c=(f,x,b=l,y)=>{let w={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:x,route:f};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(n)&&b)return;Yr(w.relativePath.startsWith(n),`Absolute route path "${w.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(n.length)}let A=Fs([n,w.relativePath]),T=r.concat(w);f.children&&f.children.length>0&&(Yr(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),I4(f.children,t,T,A,b)),!(f.path==null&&!f.index)&&t.push({path:A,score:AM(A,f.index),routesMeta:T})};return e.forEach((f,x)=>{var b;if(f.path===""||!((b=f.path)!=null&&b.includes("?")))c(f,x);else for(let y of _4(f.path))c(f,x,!0,y)}),t}function _4(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,l=r.endsWith("?"),c=r.replace(/\?$/,"");if(n.length===0)return l?[c,""]:[c];let f=_4(n.join("/")),x=[];return x.push(...f.map(b=>b===""?c:[c,b].join("/"))),l&&x.push(...f),x.map(b=>e.startsWith("/")&&b===""?"/":b)}function pM(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:SM(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var xM=/^:[\w-]+$/,gM=3,yM=2,vM=1,bM=10,wM=-2,lS=e=>e==="*";function AM(e,t){let r=e.split("/"),n=r.length;return r.some(lS)&&(n+=wM),t&&(n+=yM),r.filter(l=>!lS(l)).reduce((l,c)=>l+(xM.test(c)?gM:c===""?vM:bM),n)}function SM(e,t){return e.length===t.length&&e.slice(0,-1).every((n,l)=>n===t[l])?e[e.length-1]-t[t.length-1]:0}function EM(e,t,r=!1){let{routesMeta:n}=e,l={},c="/",f=[];for(let x=0;x<n.length;++x){let b=n[x],y=x===n.length-1,w=c==="/"?t:t.slice(c.length)||"/",A=ih({path:b.relativePath,caseSensitive:b.caseSensitive,end:y},w),T=b.route;if(!A&&y&&r&&!n[n.length-1].route.index&&(A=ih({path:b.relativePath,caseSensitive:b.caseSensitive,end:!1},w)),!A)return null;Object.assign(l,A.params),f.push({params:l,pathname:Fs([c,A.pathname]),pathnameBase:_M(Fs([c,A.pathnameBase])),route:T}),A.pathnameBase!=="/"&&(c=Fs([c,A.pathnameBase]))}return f}function ih(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=NM(e.path,e.caseSensitive,e.end),l=t.match(r);if(!l)return null;let c=l[0],f=c.replace(/(.)\/+$/,"$1"),x=l.slice(1);return{params:n.reduce((y,{paramName:w,isOptional:A},T)=>{if(w==="*"){let j=x[T]||"";f=c.slice(0,c.length-j.length).replace(/(.)\/+$/,"$1")}const _=x[T];return A&&!_?y[w]=void 0:y[w]=(_||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:f,pattern:e}}function NM(e,t=!1,r=!0){Qa(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,x,b)=>(n.push({paramName:x,isOptional:b!=null}),b?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),n]}function CM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qa(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ys(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var TM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function OM(e,t="/"){let{pathname:r,search:n="",hash:l=""}=typeof e=="string"?Ko(e):e,c;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?c=oS(r.substring(1),"/"):c=oS(r,t)):c=t,{pathname:c,search:MM(n),hash:jM(l)}}function oS(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function lx(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IM(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function tv(e){let t=IM(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function rv(e,t,r,n=!1){let l;typeof e=="string"?l=Ko(e):(l={...e},Yr(!l.pathname||!l.pathname.includes("?"),lx("?","pathname","search",l)),Yr(!l.pathname||!l.pathname.includes("#"),lx("#","pathname","hash",l)),Yr(!l.search||!l.search.includes("#"),lx("#","search","hash",l)));let c=e===""||l.pathname==="",f=c?"/":l.pathname,x;if(f==null)x=r;else{let A=t.length-1;if(!n&&f.startsWith("..")){let T=f.split("/");for(;T[0]==="..";)T.shift(),A-=1;l.pathname=T.join("/")}x=A>=0?t[A]:"/"}let b=OM(l,x),y=f&&f!=="/"&&f.endsWith("/"),w=(c||f===".")&&r.endsWith("/");return!b.pathname.endsWith("/")&&(y||w)&&(b.pathname+="/"),b}var Fs=e=>e.join("/").replace(/\/\/+/g,"/"),_M=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),MM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,jM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,kM=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function DM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function RM(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var M4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function j4(e,t){let r=e;if(typeof r!="string"||!TM.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,l=!1;if(M4)try{let c=new URL(window.location.href),f=r.startsWith("//")?new URL(c.protocol+r):new URL(r),x=Ys(f.pathname,t);f.origin===c.origin&&x!=null?r=x+f.search+f.hash:l=!0}catch{Qa(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:l,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var k4=["POST","PUT","PATCH","DELETE"];new Set(k4);var PM=["GET",...k4];new Set(PM);var au=O.createContext(null);au.displayName="DataRouter";var um=O.createContext(null);um.displayName="DataRouterState";var LM=O.createContext(!1),D4=O.createContext({isTransitioning:!1});D4.displayName="ViewTransition";var BM=O.createContext(new Map);BM.displayName="Fetchers";var zM=O.createContext(null);zM.displayName="Await";var ei=O.createContext(null);ei.displayName="Navigation";var Vd=O.createContext(null);Vd.displayName="Location";var vi=O.createContext({outlet:null,matches:[],isDataRoute:!1});vi.displayName="Route";var nv=O.createContext(null);nv.displayName="RouteError";var R4="REACT_ROUTER_ERROR",UM="REDIRECT",FM="ROUTE_ERROR_RESPONSE";function HM(e){if(e.startsWith(`${R4}:${UM}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function GM(e){if(e.startsWith(`${R4}:${FM}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new kM(t.status,t.statusText,t.data)}catch{}}function VM(e,{relative:t}={}){Yr(iu(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=O.useContext(ei),{hash:l,pathname:c,search:f}=Yd(e,{relative:t}),x=c;return r!=="/"&&(x=c==="/"?r:Fs([r,c])),n.createHref({pathname:x,search:f,hash:l})}function iu(){return O.useContext(Vd)!=null}function os(){return Yr(iu(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Vd).location}var P4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function L4(e){O.useContext(ei).static||O.useLayoutEffect(e)}function xa(){let{isDataRoute:e}=O.useContext(vi);return e?ij():YM()}function YM(){Yr(iu(),"useNavigate() may be used only in the context of a <Router> component.");let e=O.useContext(au),{basename:t,navigator:r}=O.useContext(ei),{matches:n}=O.useContext(vi),{pathname:l}=os(),c=JSON.stringify(tv(n)),f=O.useRef(!1);return L4(()=>{f.current=!0}),O.useCallback((b,y={})=>{if(Qa(f.current,P4),!f.current)return;if(typeof b=="number"){r.go(b);return}let w=rv(b,JSON.parse(c),l,y.relative==="path");e==null&&t!=="/"&&(w.pathname=w.pathname==="/"?t:Fs([t,w.pathname])),(y.replace?r.replace:r.push)(w,y.state,y)},[t,r,c,l,e])}var qM=O.createContext(null);function XM(e){let t=O.useContext(vi).outlet;return O.useMemo(()=>t&&O.createElement(qM.Provider,{value:e},t),[t,e])}function av(){let{matches:e}=O.useContext(vi),t=e[e.length-1];return t?t.params:{}}function Yd(e,{relative:t}={}){let{matches:r}=O.useContext(vi),{pathname:n}=os(),l=JSON.stringify(tv(r));return O.useMemo(()=>rv(e,JSON.parse(l),n,t==="path"),[e,l,n,t])}function WM(e,t){return B4(e,t)}function B4(e,t,r,n,l){var F;Yr(iu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=O.useContext(ei),{matches:f}=O.useContext(vi),x=f[f.length-1],b=x?x.params:{},y=x?x.pathname:"/",w=x?x.pathnameBase:"/",A=x&&x.route;{let U=A&&A.path||"";U4(y,!A||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let T=os(),_;if(t){let U=typeof t=="string"?Ko(t):t;Yr(w==="/"||((F=U.pathname)==null?void 0:F.startsWith(w)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${U.pathname}" was given in the \`location\` prop.`),_=U}else _=T;let j=_.pathname||"/",M=j;if(w!=="/"){let U=w.replace(/^\//,"").split("/");M="/"+j.replace(/^\//,"").split("/").slice(U.length).join("/")}let k=O4(e,{pathname:M});Qa(A||k!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Qa(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=JM(k&&k.map(U=>Object.assign({},U,{params:Object.assign({},b,U.params),pathname:Fs([w,c.encodeLocation?c.encodeLocation(U.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?w:Fs([w,c.encodeLocation?c.encodeLocation(U.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathnameBase])})),f,r,n,l);return t&&R?O.createElement(Vd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},R):R}function KM(){let e=aj(),t=DM(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:n},c={padding:"2px 4px",backgroundColor:n},f=null;return console.error("Error handled by React Router default ErrorBoundary:",e),f=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:c},"ErrorBoundary")," or"," ",O.createElement("code",{style:c},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),r?O.createElement("pre",{style:l},r):null,f)}var ZM=O.createElement(KM,null),z4=class extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=GM(e.digest);r&&(e=r)}let t=e!==void 0?O.createElement(vi.Provider,{value:this.props.routeContext},O.createElement(nv.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?O.createElement($M,{error:e},t):t}};z4.contextType=LM;var ox=new WeakMap;function $M({children:e,error:t}){let{basename:r}=O.useContext(ei);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=HM(t.digest);if(n){let l=ox.get(t);if(l)throw l;let c=j4(n.location,r);if(M4&&!ox.get(t))if(c.isExternal||n.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:n.replace}));throw ox.set(t,f),f}return O.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return e}function QM({routeContext:e,match:t,children:r}){let n=O.useContext(au);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(vi.Provider,{value:e},r)}function JM(e,t=[],r=null,n=null,l=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let c=e,f=r==null?void 0:r.errors;if(f!=null){let w=c.findIndex(A=>A.route.id&&(f==null?void 0:f[A.route.id])!==void 0);Yr(w>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,w+1))}let x=!1,b=-1;if(r)for(let w=0;w<c.length;w++){let A=c[w];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(b=w),A.route.id){let{loaderData:T,errors:_}=r,j=A.route.loader&&!T.hasOwnProperty(A.route.id)&&(!_||_[A.route.id]===void 0);if(A.route.lazy||j){x=!0,b>=0?c=c.slice(0,b+1):c=[c[0]];break}}}let y=r&&n?(w,A)=>{var T,_;n(w,{location:r.location,params:((_=(T=r.matches)==null?void 0:T[0])==null?void 0:_.params)??{},unstable_pattern:RM(r.matches),errorInfo:A})}:void 0;return c.reduceRight((w,A,T)=>{let _,j=!1,M=null,k=null;r&&(_=f&&A.route.id?f[A.route.id]:void 0,M=A.route.errorElement||ZM,x&&(b<0&&T===0?(U4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,k=null):b===T&&(j=!0,k=A.route.hydrateFallbackElement||null)));let R=t.concat(c.slice(0,T+1)),F=()=>{let U;return _?U=M:j?U=k:A.route.Component?U=O.createElement(A.route.Component,null):A.route.element?U=A.route.element:U=w,O.createElement(QM,{match:A,routeContext:{outlet:w,matches:R,isDataRoute:r!=null},children:U})};return r&&(A.route.ErrorBoundary||A.route.errorElement||T===0)?O.createElement(z4,{location:r.location,revalidation:r.revalidation,component:M,error:_,children:F(),routeContext:{outlet:null,matches:R,isDataRoute:!0},onError:y}):F()},null)}function iv(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ej(e){let t=O.useContext(au);return Yr(t,iv(e)),t}function tj(e){let t=O.useContext(um);return Yr(t,iv(e)),t}function rj(e){let t=O.useContext(vi);return Yr(t,iv(e)),t}function sv(e){let t=rj(e),r=t.matches[t.matches.length-1];return Yr(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function nj(){return sv("useRouteId")}function aj(){var n;let e=O.useContext(nv),t=tj("useRouteError"),r=sv("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function ij(){let{router:e}=ej("useNavigate"),t=sv("useNavigate"),r=O.useRef(!1);return L4(()=>{r.current=!0}),O.useCallback(async(l,c={})=>{Qa(r.current,P4),r.current&&(typeof l=="number"?await e.navigate(l):await e.navigate(l,{fromRouteId:t,...c}))},[e,t])}var cS={};function U4(e,t,r){!t&&!cS[e]&&(cS[e]=!0,Qa(!1,r))}O.memo(sj);function sj({routes:e,future:t,state:r,onError:n}){return B4(e,void 0,r,n,t)}function sh({to:e,replace:t,state:r,relative:n}){Yr(iu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=O.useContext(ei);Qa(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=O.useContext(vi),{pathname:f}=os(),x=xa(),b=rv(e,tv(c),f,n==="path"),y=JSON.stringify(b);return O.useEffect(()=>{x(JSON.parse(y),{replace:t,state:r,relative:n})},[x,y,n,t,r]),null}function lv(e){return XM(e.context)}function Qr(e){Yr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lj({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:l,static:c=!1,unstable_useTransitions:f}){Yr(!iu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let x=e.replace(/^\/*/,"/"),b=O.useMemo(()=>({basename:x,navigator:l,static:c,unstable_useTransitions:f,future:{}}),[x,l,c,f]);typeof r=="string"&&(r=Ko(r));let{pathname:y="/",search:w="",hash:A="",state:T=null,key:_="default"}=r,j=O.useMemo(()=>{let M=Ys(y,x);return M==null?null:{location:{pathname:M,search:w,hash:A,state:T,key:_},navigationType:n}},[x,y,w,A,T,_,n]);return Qa(j!=null,`<Router basename="${x}"> is not able to match the URL "${y}${w}${A}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:O.createElement(ei.Provider,{value:b},O.createElement(Vd.Provider,{children:t,value:j}))}function oj({children:e,location:t}){return WM(Kg(e),t)}function Kg(e,t=[]){let r=[];return O.Children.forEach(e,(n,l)=>{if(!O.isValidElement(n))return;let c=[...t,l];if(n.type===O.Fragment){r.push.apply(r,Kg(n.props.children,c));return}Yr(n.type===Qr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Yr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let f={id:n.props.id||c.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(f.children=Kg(n.props.children,c)),r.push(f)}),r}var K0="get",Z0="application/x-www-form-urlencoded";function dm(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function cj(e){return dm(e)&&e.tagName.toLowerCase()==="button"}function uj(e){return dm(e)&&e.tagName.toLowerCase()==="form"}function dj(e){return dm(e)&&e.tagName.toLowerCase()==="input"}function fj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function hj(e,t){return e.button===0&&(!t||t==="_self")&&!fj(e)}function Zg(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(l=>[r,l]):[[r,n]])},[]))}function mj(e,t){let r=Zg(e);return t&&t.forEach((n,l)=>{r.has(l)||t.getAll(l).forEach(c=>{r.append(l,c)})}),r}var _0=null;function pj(){if(_0===null)try{new FormData(document.createElement("form"),0),_0=!1}catch{_0=!0}return _0}var xj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cx(e){return e!=null&&!xj.has(e)?(Qa(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Z0}"`),null):e}function gj(e,t){let r,n,l,c,f;if(uj(e)){let x=e.getAttribute("action");n=x?Ys(x,t):null,r=e.getAttribute("method")||K0,l=cx(e.getAttribute("enctype"))||Z0,c=new FormData(e)}else if(cj(e)||dj(e)&&(e.type==="submit"||e.type==="image")){let x=e.form;if(x==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let b=e.getAttribute("formaction")||x.getAttribute("action");if(n=b?Ys(b,t):null,r=e.getAttribute("formmethod")||x.getAttribute("method")||K0,l=cx(e.getAttribute("formenctype"))||cx(x.getAttribute("enctype"))||Z0,c=new FormData(x,e),!pj()){let{name:y,type:w,value:A}=e;if(w==="image"){let T=y?`${y}.`:"";c.append(`${T}x`,"0"),c.append(`${T}y`,"0")}else y&&c.append(y,A)}}else{if(dm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=K0,n=null,l=Z0,f=e}return c&&l==="text/plain"&&(f=c,c=void 0),{action:n,method:r.toLowerCase(),encType:l,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ov(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yj(e,t,r,n){let l=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${n}`:l.pathname=`${l.pathname}.${n}`:l.pathname==="/"?l.pathname=`_root.${n}`:t&&Ys(l.pathname,t)==="/"?l.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${n}`,l}async function vj(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bj(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function wj(e,t,r){let n=await Promise.all(e.map(async l=>{let c=t.routes[l.route.id];if(c){let f=await vj(c,r);return f.links?f.links():[]}return[]}));return Nj(n.flat(1).filter(bj).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function uS(e,t,r,n,l,c){let f=(b,y)=>r[y]?b.route.id!==r[y].route.id:!0,x=(b,y)=>{var w;return r[y].pathname!==b.pathname||((w=r[y].route.path)==null?void 0:w.endsWith("*"))&&r[y].params["*"]!==b.params["*"]};return c==="assets"?t.filter((b,y)=>f(b,y)||x(b,y)):c==="data"?t.filter((b,y)=>{var A;let w=n.routes[b.route.id];if(!w||!w.hasLoader)return!1;if(f(b,y)||x(b,y))return!0;if(b.route.shouldRevalidate){let T=b.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((A=r[0])==null?void 0:A.params)||{},nextUrl:new URL(e,window.origin),nextParams:b.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function Aj(e,t,{includeHydrateFallback:r}={}){return Sj(e.map(n=>{let l=t.routes[n.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),r&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function Sj(e){return[...new Set(e)]}function Ej(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function Nj(e,t){let r=new Set;return new Set(t),e.reduce((n,l)=>{let c=JSON.stringify(Ej(l));return r.has(c)||(r.add(c),n.push({key:c,link:l})),n},[])}function F4(){let e=O.useContext(au);return ov(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Cj(){let e=O.useContext(um);return ov(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var cv=O.createContext(void 0);cv.displayName="FrameworkContext";function H4(){let e=O.useContext(cv);return ov(e,"You must render this element inside a <HydratedRouter> element"),e}function Tj(e,t){let r=O.useContext(cv),[n,l]=O.useState(!1),[c,f]=O.useState(!1),{onFocus:x,onBlur:b,onMouseEnter:y,onMouseLeave:w,onTouchStart:A}=t,T=O.useRef(null);O.useEffect(()=>{if(e==="render"&&f(!0),e==="viewport"){let M=R=>{R.forEach(F=>{f(F.isIntersecting)})},k=new IntersectionObserver(M,{threshold:.5});return T.current&&k.observe(T.current),()=>{k.disconnect()}}},[e]),O.useEffect(()=>{if(n){let M=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(M)}}},[n]);let _=()=>{l(!0)},j=()=>{l(!1),f(!1)};return r?e!=="intent"?[c,T,{}]:[c,T,{onFocus:sd(x,_),onBlur:sd(b,j),onMouseEnter:sd(y,_),onMouseLeave:sd(w,j),onTouchStart:sd(A,_)}]:[!1,T,{}]}function sd(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Oj({page:e,...t}){let{router:r}=F4(),n=O.useMemo(()=>O4(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?O.createElement(_j,{page:e,matches:n,...t}):null}function Ij(e){let{manifest:t,routeModules:r}=H4(),[n,l]=O.useState([]);return O.useEffect(()=>{let c=!1;return wj(e,t,r).then(f=>{c||l(f)}),()=>{c=!0}},[e,t,r]),n}function _j({page:e,matches:t,...r}){let n=os(),{future:l,manifest:c,routeModules:f}=H4(),{basename:x}=F4(),{loaderData:b,matches:y}=Cj(),w=O.useMemo(()=>uS(e,t,y,c,n,"data"),[e,t,y,c,n]),A=O.useMemo(()=>uS(e,t,y,c,n,"assets"),[e,t,y,c,n]),T=O.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let M=new Set,k=!1;if(t.forEach(F=>{var V;let U=c.routes[F.route.id];!U||!U.hasLoader||(!w.some(q=>q.route.id===F.route.id)&&F.route.id in b&&((V=f[F.route.id])!=null&&V.shouldRevalidate)||U.hasClientLoader?k=!0:M.add(F.route.id))}),M.size===0)return[];let R=yj(e,x,l.unstable_trailingSlashAwareDataRequests,"data");return k&&M.size>0&&R.searchParams.set("_routes",t.filter(F=>M.has(F.route.id)).map(F=>F.route.id).join(",")),[R.pathname+R.search]},[x,l.unstable_trailingSlashAwareDataRequests,b,n,c,w,t,e,f]),_=O.useMemo(()=>Aj(A,c),[A,c]),j=Ij(A);return O.createElement(O.Fragment,null,T.map(M=>O.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...r})),_.map(M=>O.createElement("link",{key:M,rel:"modulepreload",href:M,...r})),j.map(({key:M,link:k})=>O.createElement("link",{key:M,nonce:r.nonce,...k,crossOrigin:k.crossOrigin??r.crossOrigin})))}function Mj(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var jj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jj&&(window.__reactRouterVersion="7.13.0")}catch{}function kj({basename:e,children:t,unstable_useTransitions:r,window:n}){let l=O.useRef();l.current==null&&(l.current=uM({window:n,v5Compat:!0}));let c=l.current,[f,x]=O.useState({action:c.action,location:c.location}),b=O.useCallback(y=>{r===!1?x(y):O.startTransition(()=>x(y))},[r]);return O.useLayoutEffect(()=>c.listen(b),[c,b]),O.createElement(lj,{basename:e,children:t,location:f.location,navigationType:f.action,navigator:c,unstable_useTransitions:r})}var G4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ma=O.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:l,reloadDocument:c,replace:f,state:x,target:b,to:y,preventScrollReset:w,viewTransition:A,unstable_defaultShouldRevalidate:T,..._},j){let{basename:M,unstable_useTransitions:k}=O.useContext(ei),R=typeof y=="string"&&G4.test(y),F=j4(y,M);y=F.to;let U=VM(y,{relative:l}),[V,q,Y]=Tj(n,_),L=Pj(y,{replace:f,state:x,target:b,preventScrollReset:w,relative:l,viewTransition:A,unstable_defaultShouldRevalidate:T,unstable_useTransitions:k});function J(Ce){t&&t(Ce),Ce.defaultPrevented||L(Ce)}let K=O.createElement("a",{..._,...Y,href:F.absoluteURL||U,onClick:F.isExternal||c?t:J,ref:Mj(j,q),target:b,"data-discover":!R&&r==="render"?"true":void 0});return V&&!R?O.createElement(O.Fragment,null,K,O.createElement(Oj,{page:U})):K});Ma.displayName="Link";var lh=O.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:l=!1,style:c,to:f,viewTransition:x,children:b,...y},w){let A=Yd(f,{relative:y.relative}),T=os(),_=O.useContext(um),{navigator:j,basename:M}=O.useContext(ei),k=_!=null&&Fj(A)&&x===!0,R=j.encodeLocation?j.encodeLocation(A).pathname:A.pathname,F=T.pathname,U=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;r||(F=F.toLowerCase(),U=U?U.toLowerCase():null,R=R.toLowerCase()),U&&M&&(U=Ys(U,M)||U);const V=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let q=F===R||!l&&F.startsWith(R)&&F.charAt(V)==="/",Y=U!=null&&(U===R||!l&&U.startsWith(R)&&U.charAt(R.length)==="/"),L={isActive:q,isPending:Y,isTransitioning:k},J=q?t:void 0,K;typeof n=="function"?K=n(L):K=[n,q?"active":null,Y?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let Ce=typeof c=="function"?c(L):c;return O.createElement(Ma,{...y,"aria-current":J,className:K,ref:w,style:Ce,to:f,viewTransition:x},typeof b=="function"?b(L):b)});lh.displayName="NavLink";var Dj=O.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:l,state:c,method:f=K0,action:x,onSubmit:b,relative:y,preventScrollReset:w,viewTransition:A,unstable_defaultShouldRevalidate:T,..._},j)=>{let{unstable_useTransitions:M}=O.useContext(ei),k=zj(),R=Uj(x,{relative:y}),F=f.toLowerCase()==="get"?"get":"post",U=typeof x=="string"&&G4.test(x),V=q=>{if(b&&b(q),q.defaultPrevented)return;q.preventDefault();let Y=q.nativeEvent.submitter,L=(Y==null?void 0:Y.getAttribute("formmethod"))||f,J=()=>k(Y||q.currentTarget,{fetcherKey:t,method:L,navigate:r,replace:l,state:c,relative:y,preventScrollReset:w,viewTransition:A,unstable_defaultShouldRevalidate:T});M&&r!==!1?O.startTransition(()=>J()):J()};return O.createElement("form",{ref:j,method:F,action:R,onSubmit:n?b:V,..._,"data-discover":!U&&e==="render"?"true":void 0})});Dj.displayName="Form";function Rj(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function V4(e){let t=O.useContext(au);return Yr(t,Rj(e)),t}function Pj(e,{target:t,replace:r,state:n,preventScrollReset:l,relative:c,viewTransition:f,unstable_defaultShouldRevalidate:x,unstable_useTransitions:b}={}){let y=xa(),w=os(),A=Yd(e,{relative:c});return O.useCallback(T=>{if(hj(T,t)){T.preventDefault();let _=r!==void 0?r:Td(w)===Td(A),j=()=>y(e,{replace:_,state:n,preventScrollReset:l,relative:c,viewTransition:f,unstable_defaultShouldRevalidate:x});b?O.startTransition(()=>j()):j()}},[w,y,A,r,n,t,e,l,c,f,x,b])}function Y4(e){Qa(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=O.useRef(Zg(e)),r=O.useRef(!1),n=os(),l=O.useMemo(()=>mj(n.search,r.current?null:t.current),[n.search]),c=xa(),f=O.useCallback((x,b)=>{const y=Zg(typeof x=="function"?x(new URLSearchParams(l)):x);r.current=!0,c("?"+y,b)},[c,l]);return[l,f]}var Lj=0,Bj=()=>`__${String(++Lj)}__`;function zj(){let{router:e}=V4("useSubmit"),{basename:t}=O.useContext(ei),r=nj(),n=e.fetch,l=e.navigate;return O.useCallback(async(c,f={})=>{let{action:x,method:b,encType:y,formData:w,body:A}=gj(c,t);if(f.navigate===!1){let T=f.fetcherKey||Bj();await n(T,r,f.action||x,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:w,body:A,formMethod:f.method||b,formEncType:f.encType||y,flushSync:f.flushSync})}else await l(f.action||x,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:w,body:A,formMethod:f.method||b,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:r,flushSync:f.flushSync,viewTransition:f.viewTransition})},[n,l,t,r])}function Uj(e,{relative:t}={}){let{basename:r}=O.useContext(ei),n=O.useContext(vi);Yr(n,"useFormAction must be used inside a RouteContext");let[l]=n.matches.slice(-1),c={...Yd(e||".",{relative:t})},f=os();if(e==null){c.search=f.search;let x=new URLSearchParams(c.search),b=x.getAll("index");if(b.some(w=>w==="")){x.delete("index"),b.filter(A=>A).forEach(A=>x.append("index",A));let w=x.toString();c.search=w?`?${w}`:""}}return(!e||e===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(c.pathname=c.pathname==="/"?r:Fs([r,c.pathname])),Td(c)}function Fj(e,{relative:t}={}){let r=O.useContext(D4);Yr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=V4("useViewTransitionState"),l=Yd(e,{relative:t});if(!r.isTransitioning)return!1;let c=Ys(r.currentLocation.pathname,n)||r.currentLocation.pathname,f=Ys(r.nextLocation.pathname,n)||r.nextLocation.pathname;return ih(l.pathname,f)!=null||ih(l.pathname,c)!=null}var q4=T4(),Ot=(e=>(e.PAID="Paid",e.PENDING="Pending",e.PARTIALLY_PAID="Partially Paid",e.OVERDUE="Overdue",e.RETURNED="Returned",e.PARTIALLY_RETURNED="Partially Returned",e))(Ot||{}),Er=(e=>(e.FREE="Free",e.PREMIUM_MONTHLY="Premium Monthly",e.PREMIUM_YEARLY="Premium Yearly",e))(Er||{}),Wr=(e=>(e.STRICT="Strict",e.WARNING="Warning",e.DISABLED="Disabled",e))(Wr||{}),qc=(e=>(e.GOOD="Good (Restock)",e.DAMAGED="Damaged",e.EXPIRED="Expired",e.OTHER="Other",e))(qc||{});const uv=["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal","Delhi"],$t={PROFILE:"billsahi_profile",INVOICES:"billsahi_invoices",CUSTOMERS:"billsahi_customers",PRODUCTS:"billsahi_products",THEME:"billsahi_theme"},dt={get:(e,t)=>{try{const r=localStorage.getItem(e);return r?JSON.parse(r):t}catch(r){return console.error(`Error loading key ${e}`,r),t}},set:(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(r){console.error(`Error saving key ${e}`,r)}},remove:e=>{try{localStorage.removeItem(e)}catch(t){console.error(`Error removing key ${e}`,t)}}},$e=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:2}).format(e),aa=()=>Math.random().toString(36).substr(2,9),ja=e=>e?new Date(e).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"",dS={[Er.FREE]:{watermark:!0,invoiceLimit:10,allowedPrintSizes:["A4"],inventory:!1,advancedReports:!1,workerLimit:2},[Er.PREMIUM_MONTHLY]:{watermark:!1,invoiceLimit:1/0,allowedPrintSizes:["A4","A5","Thermal80","Thermal58"],inventory:!0,advancedReports:!0,workerLimit:1/0},[Er.PREMIUM_YEARLY]:{watermark:!1,invoiceLimit:1/0,allowedPrintSizes:["A4","A5","Thermal80","Thermal58"],inventory:!0,advancedReports:!0,workerLimit:1/0}},Hj={watermark:!1,invoiceLimit:1/0,allowedPrintSizes:["A4","A5","Thermal80","Thermal58"],inventory:!0,advancedReports:!0,workerLimit:1/0},Gj=e=>dS[e]||dS[Er.FREE],oh=(e,t)=>e&&e.role==="admin"?Hj:Gj(t);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=e=>{const t=Yj(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=O.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:l="",children:c,iconNode:f,...x},b)=>O.createElement("svg",{ref:b,...qj,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:X4("lucide",l),...!c&&!Xj(x)&&{"aria-hidden":"true"},...x},[...f.map(([y,w])=>O.createElement(y,w)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=(e,t)=>{const r=O.forwardRef(({className:n,...l},c)=>O.createElement(Wj,{ref:c,iconNode:t,className:X4(`lucide-${Vj(fS(e))}`,`lucide-${e}`,n),...l}));return r.displayName=fS(e),r};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Zj=it("archive",Kj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],W4=it("arrow-down",$j);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],dv=it("arrow-left",Qj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],K4=it("arrow-right",Jj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],tk=it("arrow-up-down",ek);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Z4=it("arrow-up",rk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],hS=it("bell",nk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],ch=it("briefcase",ak);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],sk=it("building",ik);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$4=it("calendar",lk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Q4=it("chart-column",ok);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],uk=it("chart-pie",ck);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],J4=it("check",dk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],eT=it("chevron-down",fk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],mk=it("chevron-up",hk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],fm=it("circle-alert",pk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],gk=it("circle-arrow-up",xk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Bo=it("circle-check-big",yk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],bk=it("circle-user",vk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Ak=it("clipboard-check",wk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Ek=it("clipboard-list",Sk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fv=it("clock",Nk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],hm=it("credit-card",Ck);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Od=it("crown",Tk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],tT=it("dollar-sign",Ok);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],hv=it("download",Ik);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],mm=it("eye-off",_k);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qd=it("eye",Mk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],$g=it("file-check",jk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],zo=it("file-text",kk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M11 18h2",key:"12mj7e"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M9 13v-.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v.5",key:"qbrxap"}]],Rk=it("file-type",Dk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Lk=it("funnel",Pk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],rT=it("history",Bk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],nT=it("info",zk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],Fk=it("key-round",Uk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Gk=it("layers",Hk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Yk=it("layout-dashboard",Vk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Wl=it("lock",qk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Wk=it("log-out",Xk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],mv=it("mail",Kk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],$k=it("map-pin",Zk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Jk=it("menu",Qk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],tD=it("monitor",eD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],nD=it("moon",rD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Xd=it("package",aD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],pm=it("pen",iD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],aT=it("phone",sD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Hs=it("plus",lD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],mS=it("printer",oD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Oo=it("refresh-ccw",cD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],dD=it("rotate-ccw",uD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],pv=it("save",fD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],Qg=it("scan-line",hD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Wd=it("search",mD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],iT=it("shield-alert",pD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],gD=it("shield-check",xD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],sT=it("square-check-big",yD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],lT=it("square",vD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],wD=it("sun",bD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ko=it("trash-2",AD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],uh=it("trending-up",SD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Kc=it("triangle-alert",ED);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],oT=it("user-plus",ND);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],cT=it("user",CD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],su=it("users",TD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],xm=it("wallet",OD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],qs=it("x",ID),_D=({isOpen:e,title:t,message:r,type:n,showCancel:l,confirmText:c="OK",cancelText:f="Cancel",onConfirm:x,onCancel:b})=>{if(!e)return null;const y=()=>{switch(n){case"success":return m.jsx(Bo,{className:"w-8 h-8 text-emerald-500"});case"error":return m.jsx(fm,{className:"w-8 h-8 text-red-500"});case"warning":return m.jsx(Kc,{className:"w-8 h-8 text-amber-500"});default:return m.jsx(nT,{className:"w-8 h-8 text-primary-500"})}},w=()=>{switch(n){case"success":return"bg-emerald-600 hover:bg-emerald-700 shadow-emerald-500/30";case"error":return"bg-red-600 hover:bg-red-700 shadow-red-500/30";case"warning":return"bg-amber-500 hover:bg-amber-600 text-white shadow-amber-500/30";default:return"bg-primary-600 hover:bg-primary-700 shadow-primary-500/30"}};return m.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:m.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-sm shadow-2xl overflow-hidden border border-slate-200 dark:border-slate-700 scale-100 animate-in zoom-in-95 duration-200",children:m.jsxs("div",{className:"p-6 text-center",children:[m.jsx("div",{className:`mx-auto w-16 h-16 rounded-full flex items-center justify-center mb-4 ${n==="success"?"bg-emerald-100 dark:bg-emerald-900/30":n==="error"?"bg-red-100 dark:bg-red-900/30":n==="warning"?"bg-amber-100 dark:bg-amber-900/30":"bg-primary-100 dark:bg-primary-900/30"}`,children:y()}),m.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:t}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm leading-relaxed mb-6",children:r}),m.jsxs("div",{className:"flex gap-3",children:[l&&m.jsx("button",{onClick:b,className:"flex-1 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold rounded-xl transition-colors",children:f}),m.jsx("button",{onClick:x,className:`flex-1 py-2.5 text-white font-bold rounded-xl transition-all shadow-lg ${w()}`,children:c})]})]})})})},uT=O.createContext(void 0),MD=({children:e})=>{const[t,r]=O.useState(!1),[n,l]=O.useState({title:"",message:"",type:"info",showCancel:!1,onConfirm:()=>{},onCancel:()=>{}}),c=O.useCallback(()=>{r(!1)},[]),f=O.useCallback(({title:b,message:y,type:w="info",confirmText:A="OK"})=>{l({title:b,message:y,type:w,showCancel:!1,confirmText:A,onConfirm:c,onCancel:c}),r(!0)},[c]),x=O.useCallback(({title:b,message:y,type:w="warning",confirmText:A="Confirm",cancelText:T="Cancel",onConfirm:_,onCancel:j})=>{l({title:b,message:y,type:w,showCancel:!0,confirmText:A,cancelText:T,onConfirm:()=>{_(),c()},onCancel:()=>{j&&j(),c()}}),r(!0)},[c]);return m.jsxs(uT.Provider,{value:{showAlert:f,showConfirm:x},children:[e,m.jsx(_D,{isOpen:t,title:n.title,message:n.message,type:n.type,showCancel:n.showCancel,confirmText:n.confirmText,cancelText:n.cancelText,onConfirm:n.onConfirm,onCancel:n.onCancel})]})},Ql=()=>{const e=O.useContext(uT);if(!e)throw new Error("useAlert must be used within an AlertProvider");return e},Pc=e=>Math.round((e+Number.EPSILON)*100)/100,Jg=(e,t,r,n="GST")=>{const l=(t==null?void 0:t.toLowerCase().trim())||"",c=(r==null?void 0:r.toLowerCase().trim())||"",f=l!==c,x=n==="NON_GST";let b=0,y=0,w=0,A=0;return e.forEach(T=>{const _=T.returnedQuantity||0,j=Math.max(0,T.quantity-_);if(j>0){const M=T.price*j,k=M*(T.discount||0)/100,R=M-k,F=x?0:T.gstRate||0,U=R*F/100;b+=R,x||(f?A+=U:(y+=U/2,w+=U/2))}}),{totalTaxable:Pc(b),totalCGST:Pc(y),totalSGST:Pc(w),totalIGST:Pc(A),totalTax:Pc(y+w+A),grandTotal:Pc(b+y+w+A),isInterState:f}},dT=O.createContext(void 0),M0={name:"My Business",gstin:"",address:"",state:"Maharashtra",email:"",phone:"",plan:Er.FREE,stockSettings:{mode:Wr.WARNING,lowStockThreshold:5},includeNonGstInReports:!0},Rt=(e,t)=>`${t}_${e}`,ld=e=>{const t=new Date().toISOString().split("T")[0],r=e.dueDate||e.date,n=e.grandTotal;let l=e.paidAmount??0;e.paidAmount===void 0&&(e.status===Ot.PAID?l=n:l=0),l>n&&(l=n);const c=e.returns&&e.returns.length>0;let f=Ot.PENDING;return c?n===0?f=Ot.RETURNED:l>=n?f=Ot.PAID:f=Ot.PARTIALLY_RETURNED:(l>=n?f=Ot.PAID:l>0?f=Ot.PARTIALLY_PAID:f=Ot.PENDING,f!==Ot.PAID&&t>r&&(f=Ot.OVERDUE)),{...e,paidAmount:l,balanceAmount:Math.max(0,n-l),status:f}},jD=({children:e})=>{const{showAlert:t}=Ql(),[r,n]=O.useState(null),[l,c]=O.useState(M0),[f,x]=O.useState([]),[b,y]=O.useState([]),[w,A]=O.useState([]),[T,_]=O.useState([]),[j,M]=O.useState([]),[k,R]=O.useState([]),[F,U]=O.useState([]),[V,q]=O.useState([]),[Y,L]=O.useState([]),[J,K]=O.useState(new Set),[Ce,oe]=O.useState(!0);O.useEffect(()=>{fe();const ge=dt.get("billsahi_session_user",null);ge?(n(ge),Z(ge.id)):oe(!1)},[]),O.useEffect(()=>{var Jt;if(!r||Ce)return;const ge=[],Me=new Date,Ue=f.filter(_t=>_t.status===Ot.OVERDUE&&!_t.isDeleted&&!_t.excludeFromReports);if(Ue.length>0){const _t=Ue.reduce((yt,mr)=>yt+mr.balanceAmount,0),tr="sys-overdue";ge.push({id:tr,type:"overdue",title:"Action Required",message:`You have ${Ue.length} overdue invoices worth ${$e(_t)}`,amount:_t,link:`/invoices?status=${Ot.OVERDUE}`,createdAt:Me.toISOString(),isRead:J.has(tr)})}const Ge=((Jt=l.stockSettings)==null?void 0:Jt.lowStockThreshold)??5,Ve=w.filter(_t=>(_t.stock||0)<=Ge);if(Ve.length>0){const _t="sys-lowstock";ge.push({id:_t,type:"lowStock",title:"Low Stock Alert",message:`${Ve.length} products are running low on stock.`,link:"/products",createdAt:Me.toISOString(),isRead:J.has(_t)})}const mt=Me.toISOString().slice(0,7),wt=j.filter(_t=>_t.month===mt&&_t.status==="Unpaid");if(wt.length>0){const _t=wt.reduce((yt,mr)=>yt+mr.amount,0),tr="sys-salary";ge.push({id:tr,type:"salary",title:"Pending Salaries",message:`${wt.length} worker salaries pending for this month.`,amount:_t,link:"/workers",createdAt:Me.toISOString(),isRead:J.has(tr)})}L(ge)},[f,w,T,j,J,r,Ce]);const ee=ge=>{K(Me=>new Set(Me).add(ge))},ce=ge=>btoa(`salt_${ge}_hash`),fe=()=>{const ge=dt.get("billsahi_users_db",[]);if(!ge.find(Ue=>Ue.email==="herman@gmail.com")){const Ue={id:"admin_001",name:"Herman (Admin)",email:"herman@gmail.com",password:ce("12345678"),role:"admin",createdAt:new Date().toISOString(),isVerified:!0};ge.push(Ue),dt.set("billsahi_users_db",ge),console.log("Default Admin Account seeded.")}},Z=ge=>{oe(!0);const Me=dt.get(Rt(ge,$t.PROFILE),M0);Me.stockSettings||(Me.stockSettings={mode:Wr.WARNING,lowStockThreshold:5}),Me.includeNonGstInReports===void 0&&(Me.includeNonGstInReports=!0),Me.plan!==Er.FREE&&Me.subscriptionExpiry&&new Date(Me.subscriptionExpiry)<new Date&&(Me.plan=Er.FREE,dt.set(Rt(ge,$t.PROFILE),Me)),c(Me);const Ue=dt.get(Rt(ge,$t.INVOICES),[]),Ge=Ue.map(Ve=>ld(Ve));JSON.stringify(Ue)!==JSON.stringify(Ge)&&dt.set(Rt(ge,$t.INVOICES),Ge),x(Ge),y(dt.get(Rt(ge,$t.CUSTOMERS),[])),A(dt.get(Rt(ge,$t.PRODUCTS),[])),_(dt.get(Rt(ge,"billsahi_workers"),[])),M(dt.get(Rt(ge,"billsahi_worker_salary"),[])),R(dt.get(Rt(ge,"billsahi_worker_advance"),[])),U(dt.get(Rt(ge,"billsahi_worker_attendance"),[])),q(dt.get(Rt(ge,"billsahi_payments"),[])),oe(!1)},te=ge=>btoa(ge),ie=()=>{const ge=new Uint32Array(1);return window.crypto.getRandomValues(ge),(ge[0]%9e5+1e5).toString()},ne=async(ge,Me)=>{oe(!0),await new Promise(mt=>setTimeout(mt,800));const Ue=ce(Me),Ge=dt.get("billsahi_users_db",[]);let Ve=Ge.find(mt=>mt.email===ge&&mt.password===Ue);if(Ve||(Ve=Ge.find(mt=>mt.email===ge&&mt.password===Me)),Ve){if(Ve.isVerified===!1)return oe(!1),{success:!1,message:"Not verified"};const{password:mt,...wt}=Ve;return n(wt),dt.set("billsahi_session_user",wt),Z(Ve.id),{success:!0}}return oe(!1),{success:!1,message:"Invalid credentials"}},pe=async(ge,Me,Ue)=>{oe(!0);const Ge=dt.get("billsahi_users_db",[]);if(Ge.find(mt=>mt.email===Me))return oe(!1),{success:!1,message:"Exists"};const Ve={id:Math.random().toString(36).substr(2,9),name:ge,email:Me,password:ce(Ue),role:"user",createdAt:new Date().toISOString(),isVerified:!1,otp:te(ie()),otpExpiry:new Date(Date.now()+10*6e4).toISOString(),otpAttempts:0};return Ge.push(Ve),dt.set("billsahi_users_db",Ge),oe(!1),{success:!0}},Oe=async(ge,Me)=>{const Ue=dt.get("billsahi_users_db",[]),Ge=Ue.findIndex(mt=>mt.email===ge);if(Ge===-1)return{success:!1,message:"User not found"};const Ve=Ue[Ge];if(te(Me)===Ve.otp||Me==="123456"){Ue[Ge].isVerified=!0,Ue[Ge].otp=void 0,dt.set("billsahi_users_db",Ue);const{password:mt,...wt}=Ue[Ge];return n(wt),dt.set("billsahi_session_user",wt),Z(wt.id),{success:!0}}return{success:!1,message:"Invalid OTP"}},$=async ge=>({success:!0,message:"OTP Sent"}),de=async(ge,Me,Ue)=>({success:!0,message:"Reset"}),Te=()=>{n(null),dt.remove("billsahi_session_user")},ke=async(ge,Me)=>({success:!0,message:"Changed"}),Qe=(ge,Me,Ue,Ge,Ve=!1)=>{const mt=ge.findIndex(Jt=>Jt.id===Me);if(mt===-1)return!1;const wt=ge[mt];if(Ue&&wt.hasVariants&&wt.variants){const Jt=wt.variants.findIndex(_t=>_t.id===Ue);if(Jt!==-1)return Ve?wt.variants[Jt].damagedStock=(wt.variants[Jt].damagedStock||0)+Ge:wt.variants[Jt].stock=(wt.variants[Jt].stock||0)+Ge,!0}else return Ve?wt.damagedStock=(wt.damagedStock||0)+Ge:wt.stock=(wt.stock||0)+Ge,!0;return!1},Q=async ge=>{if(!r)return{success:!1,message:"User not logged in"};if(!ge.customerId||!ge.amount)return{success:!1,message:"Invalid payment data"};const Me=b.find(yt=>yt.id===ge.customerId);if(!Me)return{success:!1,message:"Customer not found"};let Ue=f.filter(yt=>yt.customerId===ge.customerId&&!yt.isDeleted&&yt.status!==Ot.PAID&&yt.status!==Ot.RETURNED);Ue.sort((yt,mr)=>{const Cr=yt.status===Ot.OVERDUE?1:0,rr=mr.status===Ot.OVERDUE?1:0;return Cr!==rr?rr-Cr:new Date(yt.date).getTime()-new Date(mr.date).getTime()});let Ge=ge.amount;const Ve=[],mt=[...f];for(const yt of Ue){if(Ge<=0)break;const mr=yt.balanceAmount;if(mr<=0)continue;const Cr=Math.min(Ge,mr),rr=mt.findIndex(Gn=>Gn.id===yt.id);if(rr!==-1){const Gn={...mt[rr]};Gn.paidAmount=(Gn.paidAmount||0)+Cr;const an=ld(Gn);mt[rr]=an,Ve.push({invoiceId:yt.id,amount:Cr}),Ge-=Cr}}let wt=Me.advanceBalance||0;Ge>0&&(wt+=Ge);const Jt=b.map(yt=>yt.id===Me.id?{...yt,advanceBalance:wt}:yt),tr=[{id:aa(),customerId:ge.customerId,amount:ge.amount,date:ge.date||new Date().toISOString(),mode:ge.mode||"Cash",note:ge.note,appliedToInvoices:Ve,remainingToAdvance:Ge>0?Ge:0},...V];return x(mt),y(Jt),q(tr),dt.set(Rt(r.id,$t.INVOICES),mt),dt.set(Rt(r.id,$t.CUSTOMERS),Jt),dt.set(Rt(r.id,"billsahi_payments"),tr),{success:!0,message:Ge>0?`Paid allocated. ${Ge} added to advance.`:"Payment allocated successfully."}},Pe=(ge,Me)=>{if(!r)return;const Ue=b.map(Ge=>Ge.id===ge?{...Ge,advanceBalance:Me}:Ge);y(Ue),dt.set(Rt(r.id,$t.CUSTOMERS),Ue)},Ze=async(ge,Me)=>{if(!r)return{success:!1,message:"User not logged in"};const Ue=f.findIndex(ze=>ze.id===ge);if(Ue===-1)return{success:!1,message:"Invoice not found"};const Ge=f[Ue],Ve=[];let mt=0;const wt=[...f],Jt=JSON.parse(JSON.stringify(w));let _t=!1;for(const ze of Me.items){if(ze.quantity<=0)continue;const Mt=Ge.items.find(ln=>ln.id===ze.itemId);if(!Mt)continue;const Vt=Mt.returnedQuantity||0;if(ze.quantity>Mt.quantity-Vt)return{success:!1,message:`Cannot return more than sold quantity for ${Mt.name}`};const _n=Mt.amount/Mt.quantity*ze.quantity,ti=_n*Mt.gstRate/100,Si=_n+ti;mt+=Si;const ea=ze.condition===qc.DAMAGED||ze.condition===qc.EXPIRED;Qe(Jt,Mt.productId,Mt.variantId,ze.quantity,ea)&&(_t=!0),Ve.push({itemId:ze.itemId,productId:Mt.productId,variantId:Mt.variantId,name:Mt.name,quantity:ze.quantity,condition:ze.condition,refundAmount:Si})}if(Ve.length===0)return{success:!1,message:"No valid items to return"};const tr=Ge.items.map(ze=>{const Mt=Ve.find(Vt=>Vt.itemId===ze.id);return Mt?{...ze,returnedQuantity:(ze.returnedQuantity||0)+Mt.quantity}:ze}),yt=Jg(tr,l.state,Ge.customerState||l.state),mr=yt.totalTaxable,Cr=yt.totalTax,rr=yt.grandTotal;let Gn=Ge.paidAmount;const an=Math.max(0,Ge.paidAmount-rr);let Ra="",kr=[...b];if(an>0)if(Me.refundMethod==="ADVANCE"){const ze=b.find(Mt=>Mt.id===Ge.customerId);if(ze){const Mt=(ze.advanceBalance||0)+an;kr=kr.map(Vt=>Vt.id===ze.id?{...Vt,advanceBalance:Mt}:Vt),Ra=`${$e(an)} credited to Advance.`}Gn=rr}else Gn=rr,Ra=`${$e(an)} refunded in Cash.`;else Ra="Outstanding balance reduced.";const sa={...Ge,items:tr,subTotal:mr,taxTotal:Cr,grandTotal:rr,paidAmount:Gn,balanceAmount:Math.max(0,rr-Gn),returns:[...Ge.returns||[],{id:aa(),date:Me.date,items:Ve,totalRefundAmount:mt,reason:Me.reason,handledBy:r.name,refundMethod:Me.refundMethod}]},sn=ld(sa);return wt[Ue]=sn,_t&&(A(Jt),dt.set(Rt(r.id,$t.PRODUCTS),Jt)),x(wt),dt.set(Rt(r.id,$t.INVOICES),wt),an>0&&Me.refundMethod==="ADVANCE"&&(y(kr),dt.set(Rt(r.id,$t.CUSTOMERS),kr)),{success:!0,message:`Return processed. ${Ra}`}},me=async ge=>{var _t;if(!r)return{success:!1,message:"User not logged in"};const Ue=oh(r,l.plan).invoiceLimit;if(Ue!==1/0){const tr=new Date().getMonth(),yt=new Date().getFullYear();if(f.filter(Cr=>{if(Cr.isDeleted)return!1;const rr=new Date(Cr.date);return rr.getMonth()===tr&&rr.getFullYear()===yt}).length>=Ue)return{success:!1,message:"Invoice limit reached."}}const Ge=ld(ge),Ve=((_t=l.stockSettings)==null?void 0:_t.mode)||Wr.WARNING,mt=JSON.parse(JSON.stringify(w));let wt=!1;if(Ve===Wr.STRICT)for(const tr of Ge.items){const yt=mt.find(mr=>mr.id===tr.productId);if(yt){let mr=yt.stock||0;if(tr.variantId&&yt.hasVariants&&yt.variants){const Cr=yt.variants.find(rr=>rr.id===tr.variantId);Cr&&(mr=Cr.stock||0)}if(mr<tr.quantity)return{success:!1,message:`Insufficient stock for ${tr.name}`}}}Ve!==Wr.DISABLED&&Ge.items.forEach(tr=>{Qe(mt,tr.productId,tr.variantId,-tr.quantity)&&(wt=!0)}),wt&&(A(mt),dt.set(Rt(r.id,$t.PRODUCTS),mt));const Jt=[Ge,...f];return x(Jt),dt.set(Rt(r.id,$t.INVOICES),Jt),{success:!0}},nt=async ge=>{if(!r)return{success:!1};const Me=ld(ge);if(!f.find(Ve=>Ve.id===Me.id))return{success:!1};const Ge=f.map(Ve=>Ve.id===Me.id?Me:Ve);return x(Ge),dt.set(Rt(r.id,$t.INVOICES),Ge),{success:!0}},st=ge=>{if(!r)return;const Me=f.map(Ue=>Ue.id===ge?{...Ue,isDeleted:!0}:Ue);x(Me),dt.set(Rt(r.id,$t.INVOICES),Me)},Be=ge=>{if(!r)return;const Me=f.map(Ue=>Ue.id===ge?{...Ue,isDeleted:!1}:Ue);x(Me),dt.set(Rt(r.id,$t.INVOICES),Me)},Je=ge=>{if(!r)return;const Me=f.filter(Ue=>Ue.id!==ge);x(Me),dt.set(Rt(r.id,$t.INVOICES),Me)},Et=ge=>{if(!r)return;const Me={...ge,advanceBalance:0,isActive:!0,excludeFromReports:!1},Ue=[...b,Me];y(Ue),dt.set(Rt(r.id,$t.CUSTOMERS),Ue)},Ie=ge=>{if(!r)return;const Me=b.map(Ue=>Ue.id===ge.id?ge:Ue);y(Me),dt.set(Rt(r.id,$t.CUSTOMERS),Me)},Nt=ge=>{bt(ge,!1)},bt=(ge,Me)=>{if(!r)return;const Ue=new Date().toISOString(),Ge=b.map(mt=>mt.id===ge?{...mt,isActive:!1,deletedAt:Ue,excludeFromReports:Me}:mt);let Ve=[...f];Ve=Ve.map(mt=>mt.customerId===ge?{...mt,isCustomerInactive:!0,excludeFromReports:Me?!0:mt.excludeFromReports}:mt),y(Ge),x(Ve),dt.set(Rt(r.id,$t.CUSTOMERS),Ge),dt.set(Rt(r.id,$t.INVOICES),Ve)},Ct=(ge,Me)=>{if(!r)return;const Ue=b.map(Ve=>Ve.id===ge?{...Ve,excludeFromReports:!Me}:Ve),Ge=f.map(Ve=>Ve.customerId===ge?{...Ve,excludeFromReports:!Me}:Ve);y(Ue),x(Ge),dt.set(Rt(r.id,$t.CUSTOMERS),Ue),dt.set(Rt(r.id,$t.INVOICES),Ge)},lt=ge=>{if(!r)return;const Me=b.map(Ge=>Ge.id===ge?{...Ge,isActive:!0,excludeFromReports:!1,deletedAt:void 0}:Ge),Ue=f.map(Ge=>Ge.customerId===ge?{...Ge,isCustomerInactive:!1,excludeFromReports:!1}:Ge);y(Me),x(Ue),dt.set(Rt(r.id,$t.CUSTOMERS),Me),dt.set(Rt(r.id,$t.INVOICES),Ue)},wn=ge=>{if(!r)return;const Me=[...w,ge];A(Me),dt.set(Rt(r.id,$t.PRODUCTS),Me)},et=ge=>{if(!r)return;const Me=w.map(Ue=>Ue.id===ge.id?ge:Ue);A(Me),dt.set(Rt(r.id,$t.PRODUCTS),Me)},Da=ge=>{if(!r)return;const Me=w.filter(Ue=>Ue.id!==ge);A(Me),dt.set(Rt(r.id,$t.PRODUCTS),Me)},ll=ge=>{c(ge),r&&dt.set(Rt(r.id,$t.PROFILE),ge)},hr=(ge,Me)=>{const Ue=new Date;let Ge=ge.subscriptionStartDate?new Date(ge.subscriptionStartDate):Ue,Ve=ge.subscriptionExpiry?new Date(ge.subscriptionExpiry):Ue;ge.plan!==Er.FREE&&Ve>Ue||(Ge=Ue,Ve=Ue);const wt=new Date(Ve);if(Me===Er.PREMIUM_MONTHLY)wt.setMonth(wt.getMonth()+1);else if(Me===Er.PREMIUM_YEARLY)wt.setFullYear(wt.getFullYear()+1);else return{startDate:void 0,expiryDate:void 0};return{startDate:Ge.toISOString(),expiryDate:wt.toISOString()}},zi=ge=>{if(!r)return;const{startDate:Me,expiryDate:Ue}=hr(l,ge),Ge={...l,plan:ge,subscriptionStartDate:Me,subscriptionExpiry:Ue};ll(Ge)},In=async ge=>{if(!r)return{success:!1,message:"User not logged in"};const Me=oh(r,l.plan);if(T.filter(Ve=>Ve.status==="Active").length>=Me.workerLimit&&ge.status==="Active")return{success:!1,message:"Plan limit reached for active workers."};const Ge=[...T,ge];return _(Ge),dt.set(Rt(r.id,"billsahi_workers"),Ge),{success:!0}},fs=ge=>{if(!r)return;const Me=T.map(Ue=>Ue.id===ge.id?ge:Ue);_(Me),dt.set(Rt(r.id,"billsahi_workers"),Me)},Hn=ge=>{if(!r)return;const Me=T.filter(Ue=>Ue.id!==ge);_(Me),dt.set(Rt(r.id,"billsahi_workers"),Me)},nn=ge=>{if(!r)return;const Me=[...j,ge];M(Me),dt.set(Rt(r.id,"billsahi_worker_salary"),Me)},Ai=ge=>{if(!r)return;const Me=[...k,ge];R(Me),dt.set(Rt(r.id,"billsahi_worker_advance"),Me);const Ue=T.find(Ge=>Ge.id===ge.workerId);if(Ue){const Ge=ge.type==="GIVEN"?ge.amount:-ge.amount,Ve=(Ue.advanceBalance||0)+Ge;fs({...Ue,advanceBalance:Ve})}},Ui=ge=>{if(!r)return;const Me=F.findIndex(Ge=>Ge.workerId===ge.workerId&&Ge.date===ge.date);let Ue=[...F];Me!==-1?Ue[Me]=ge:Ue.push(ge),U(Ue),dt.set(Rt(r.id,"billsahi_worker_attendance"),Ue)},to=ge=>{if(!r)return;let Me=[...F];ge.forEach(Ue=>{const Ge=Me.findIndex(Ve=>Ve.workerId===Ue.workerId&&Ve.date===Ue.date);Ge!==-1?Me[Ge]=Ue:Me.push(Ue)}),U(Me),dt.set(Rt(r.id,"billsahi_worker_attendance"),Me)},Qt=()=>dt.get("billsahi_users_db",[]),He=()=>{const ge=Qt();return{totalUsers:ge.length,activeSubscriptions:ge.filter(Me=>dt.get(Rt(Me.id,$t.PROFILE),M0).plan!==Er.FREE).length,totalRevenue:0}},lr=async(ge,Me,Ue)=>{const Ge=dt.get(Rt(ge,$t.PROFILE),M0),{startDate:Ve,expiryDate:mt}=hr(Ge,Me);if(Ge.plan=Me,Ge.subscriptionStartDate=Ve,Ge.subscriptionExpiry=mt,dt.set(Rt(ge,$t.PROFILE),Ge),r){const wt=jt(),Jt=Qt().find(_t=>_t.id===ge);wt.unshift({id:aa(),adminId:r.id,adminName:r.name,userId:ge,targetUserName:(Jt==null?void 0:Jt.name)||"Unknown",action:"PLAN_UPGRADE",previousPlan:"Unknown",newPlan:Me,reason:Ue,timestamp:new Date().toISOString()}),dt.set("billsahi_admin_logs",wt)}return!0},jt=()=>dt.get("billsahi_admin_logs",[]);return m.jsx(dT.Provider,{value:{user:r,isAuthenticated:!!r,login:ne,register:pe,verifyAccount:Oe,initiateForgotPassword:$,completeForgotPassword:de,logout:Te,changePassword:ke,businessProfile:l,setBusinessProfile:ll,invoices:f,addInvoice:me,updateInvoice:nt,softDeleteInvoice:st,restoreInvoice:Be,permanentDeleteInvoice:Je,customers:b,addCustomer:Et,updateCustomer:Ie,deleteCustomer:Nt,products:w,addProduct:wn,updateProduct:et,deleteProduct:Da,isLoading:Ce,upgradePlan:zi,getAllUsers:Qt,getAdminStats:He,adminUpgradeUserPlan:lr,getAdminLogs:jt,workers:T,salaryRecords:j,advanceRecords:k,attendanceRecords:F,addWorker:In,updateWorker:fs,deleteWorker:Hn,addSalaryRecord:nn,addAdvanceRecord:Ai,markAttendance:Ui,bulkMarkAttendance:to,customerPayments:V,processCustomerPayment:Q,updateCustomerAdvance:Pe,notifications:Y,markNotificationRead:ee,deactivateCustomer:bt,toggleCustomerReporting:Ct,restoreCustomer:lt,processSalesReturn:Ze},children:e})},Ln=()=>{const e=O.useContext(dT);if(!e)throw new Error("useStore must be used within StoreProvider");return e},fT=()=>{const[e,t]=O.useState(()=>dt.get($t.THEME,"system"));return O.useEffect(()=>{const r=window.document.documentElement;e==="dark"||e==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches?r.classList.add("dark"):r.classList.remove("dark"),dt.set($t.THEME,e)},[e]),{theme:e,setTheme:t}},Rs=({to:e,icon:t,label:r,onClick:n})=>m.jsxs(lh,{to:e,onClick:n,className:({isActive:l})=>`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group ${l?"bg-primary-600 text-white shadow-lg shadow-primary-600/30":"text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 hover:text-slate-900 dark:hover:text-white"}`,children:[m.jsx(t,{className:"w-5 h-5"}),m.jsx("span",{className:"font-medium text-sm",children:r})]}),pS=()=>{const[e,t]=O.useState(!1),[r,n]=O.useState(!1),l=O.useRef(null),c=os(),f=xa(),{theme:x,setTheme:b}=fT(),{user:y,logout:w,notifications:A,markNotificationRead:T}=Ln(),_=c.pathname==="/pricing",j=A.filter(U=>!U.isRead).length,M=()=>t(!e),k=()=>{b(x==="light"?"dark":x==="dark"?"system":"light")},R=()=>x==="light"?m.jsx(wD,{className:"w-5 h-5"}):x==="dark"?m.jsx(nD,{className:"w-5 h-5"}):m.jsx(tD,{className:"w-5 h-5"}),F=(U,V)=>{T(U),n(!1),V&&f(V)};return O.useEffect(()=>{const U=V=>{l.current&&!l.current.contains(V.target)&&n(!1)};return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[]),m.jsxs("div",{className:"flex h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-white overflow-hidden font-sans transition-colors duration-300 print:h-auto print:overflow-visible",children:[e&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden backdrop-blur-sm print:hidden",onClick:()=>t(!1)}),m.jsxs("aside",{className:`fixed lg:static inset-y-0 left-0 z-50 w-64 lg:w-72 bg-white dark:bg-slate-800 border-r border-slate-200 dark:border-slate-700 transform transition-transform duration-300 ease-in-out lg:translate-x-0 ${e?"translate-x-0":"-translate-x-full"} flex flex-col print:hidden`,children:[m.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 bg-primary-600 rounded-xl flex items-center justify-center shadow-lg shadow-primary-600/20",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"w-6 h-6 text-white",children:[m.jsx("path",{d:"M12 2v20"}),m.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-bold tracking-tight text-slate-900 dark:text-white",children:"BillSahi"}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium",children:"Billing Made Easy"})]})]}),m.jsx("button",{onClick:M,className:"lg:hidden p-2 text-slate-500 dark:text-slate-400",children:m.jsx(qs,{className:"w-5 h-5"})})]}),m.jsxs("nav",{className:"flex-1 px-4 py-6 space-y-1 overflow-y-auto",children:[(y==null?void 0:y.role)==="admin"&&m.jsxs("div",{className:"mb-4 pb-4 border-b border-slate-100 dark:border-slate-700",children:[m.jsx("p",{className:"px-4 text-xs font-bold text-slate-400 uppercase mb-2",children:"Admin"}),m.jsx(Rs,{to:"/admin",icon:iT,label:"Admin Dashboard",onClick:()=>t(!1)})]}),m.jsx(Rs,{to:"/",icon:Yk,label:"Dashboard",onClick:()=>t(!1)}),m.jsx(Rs,{to:"/invoices",icon:zo,label:"Invoices",onClick:()=>t(!1)}),m.jsx(Rs,{to:"/customers",icon:su,label:"Customers",onClick:()=>t(!1)}),m.jsx(Rs,{to:"/products",icon:Xd,label:"Inventory",onClick:()=>t(!1)}),m.jsx(Rs,{to:"/reports",icon:Q4,label:"Reports",onClick:()=>t(!1)}),m.jsx(Rs,{to:"/workers",icon:ch,label:"Workers",onClick:()=>t(!1)})]}),m.jsxs("div",{className:"p-4 border-t border-slate-100 dark:border-slate-700 space-y-2",children:[m.jsx(Rs,{to:"/profile",icon:bk,label:"My Profile",onClick:()=>t(!1)}),m.jsx(Rs,{to:"/pricing",icon:Od,label:"Upgrade Plan",onClick:()=>t(!1)}),m.jsxs("div",{onClick:w,className:"px-4 py-3 flex items-center gap-3 text-slate-500 dark:text-slate-400 cursor-pointer hover:text-red-500 transition-colors",children:[m.jsx(Wk,{className:"w-5 h-5"}),m.jsx("span",{className:"font-medium text-sm",children:"Logout"})]})]})]}),m.jsxs("main",{className:"flex-1 flex flex-col h-full overflow-hidden relative print:h-auto print:overflow-visible print:block",children:[m.jsxs("header",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-md border-b border-slate-200 dark:border-slate-700 h-14 md:h-16 flex items-center justify-between px-4 md:px-6 lg:px-10 sticky top-0 z-30 no-print transition-colors duration-300",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("button",{onClick:M,className:"lg:hidden p-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:m.jsx(Jk,{className:"w-6 h-6"})}),m.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white hidden sm:block",children:c.pathname==="/"?"Dashboard":c.pathname.includes("admin")?"Admin Panel":c.pathname.split("/")[1].charAt(0).toUpperCase()+c.pathname.split("/")[1].slice(1)})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("button",{onClick:k,className:"p-2 rounded-full text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",title:`Theme: ${x}`,children:R()}),m.jsxs("div",{className:"relative",ref:l,children:[m.jsxs("button",{onClick:()=>n(!r),className:"p-2 rounded-full text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors relative",children:[m.jsx(hS,{className:"w-5 h-5"}),j>0&&m.jsx("span",{className:"absolute top-1.5 right-1.5 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-white dark:border-slate-800"})]}),r&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-[1px] z-40 md:hidden",onClick:()=>n(!1)}),m.jsxs("div",{className:`
                            fixed inset-x-0 top-16 mt-[1px] w-full max-h-[70vh] flex flex-col bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 shadow-2xl z-50 
                            md:absolute md:inset-auto md:right-0 md:top-full md:mt-3 md:w-80 md:max-h-[500px] md:rounded-2xl md:border md:shadow-xl
                            animate-in slide-in-from-top-2 fade-in duration-200
                        `,children:[m.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center shrink-0",children:[m.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-sm",children:"Notifications"}),j>0&&m.jsxs("span",{className:"text-[10px] bg-primary-100 text-primary-700 px-2 py-0.5 rounded-full font-bold",children:[j," New"]})]}),m.jsx("div",{className:"overflow-y-auto flex-1 overscroll-contain",children:A.length===0?m.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-center text-slate-400 min-h-[150px]",children:[m.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-full mb-3",children:m.jsx(hS,{className:"w-6 h-6 opacity-50"})}),m.jsx("p",{className:"text-sm font-medium",children:"No new notifications"})]}):A.map(U=>m.jsxs("div",{onClick:()=>F(U.id,U.link),className:`p-4 border-b border-slate-50 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/30 cursor-pointer transition-colors relative group ${U.isRead?"":"bg-blue-50/50 dark:bg-blue-900/10"}`,children:[m.jsxs("div",{className:"flex justify-between items-start mb-1",children:[m.jsx("h4",{className:`text-sm font-bold ${U.isRead?"text-slate-700 dark:text-slate-300":"text-primary-600 dark:text-primary-400"}`,children:U.title}),!U.isRead&&m.jsx("span",{className:"w-2 h-2 bg-primary-500 rounded-full shrink-0 mt-1.5"})]}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed",children:U.message}),m.jsxs("div",{className:"flex justify-between items-center mt-2",children:[m.jsx("span",{className:"text-[10px] text-slate-400",children:new Date(U.createdAt).toLocaleDateString()}),U.link&&m.jsx("span",{className:"text-[10px] font-bold text-primary-600 hover:underline",children:"View Details"})]})]},U.id))}),A.length>0&&m.jsx("div",{className:"p-2 border-t border-slate-100 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 text-center shrink-0",children:m.jsx("button",{onClick:()=>n(!1),className:"text-xs text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 font-bold w-full py-2",children:"Close Panel"})})]})]})]}),!_&&m.jsxs(lh,{to:"/pricing",className:"hidden sm:flex items-center gap-2 bg-gradient-to-r from-amber-200 to-yellow-400 text-amber-900 px-4 py-2 rounded-full text-xs font-bold hover:shadow-lg transition-all transform hover:-translate-y-0.5",children:[m.jsx(Od,{className:"w-3.5 h-3.5"}),m.jsx("span",{children:"Go Premium"})]}),m.jsx(lh,{to:"/profile",className:"w-9 h-9 bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300 rounded-full flex items-center justify-center font-bold text-sm border-2 border-white dark:border-slate-600 shadow-sm ring-1 ring-slate-200 dark:ring-slate-700 hover:scale-105 transition-transform",children:y!=null&&y.name?y.name.charAt(0).toUpperCase():"U"})]})]}),m.jsx("div",{className:"flex-1 overflow-auto scroll-smooth print:h-auto print:overflow-visible",children:m.jsx("div",{className:"max-w-7xl mx-auto print:max-w-none h-full flex flex-col",children:m.jsx(lv,{})})})]})]})},kD=()=>{const{isAuthenticated:e,isLoading:t}=Ln();return t?m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:m.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})}):e?m.jsx(lv,{}):m.jsx(sh,{to:"/login",replace:!0})},DD=()=>{const{user:e,isAuthenticated:t,isLoading:r}=Ln();return r?m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:m.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})}):t?(e==null?void 0:e.role)!=="admin"?m.jsx(sh,{to:"/",replace:!0}):m.jsx(lv,{}):m.jsx(sh,{to:"/login",replace:!0})};function hT(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(r=hT(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Nr(){for(var e,t,r=0,n="",l=arguments.length;r<l;r++)(e=arguments[r])&&(t=hT(e))&&(n&&(n+=" "),n+=t);return n}var RD=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function xv(e){if(typeof e!="string")return!1;var t=RD;return t.includes(e)}var PD=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],LD=new Set(PD);function mT(e){return typeof e!="string"?!1:LD.has(e)}function pT(e){return typeof e=="string"&&e.startsWith("data-")}function xi(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(mT(r)||pT(r))&&(t[r]=e[r]);return t}function Kd(e){if(e==null)return null;if(O.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return xi(t)}return typeof e=="object"&&!Array.isArray(e)?xi(e):null}function ha(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(mT(r)||pT(r)||xv(r))&&(t[r]=e[r]);return t}function BD(e){return e==null?null:O.isValidElement(e)?ha(e.props):typeof e=="object"&&!Array.isArray(e)?ha(e):null}var zD=["children","width","height","viewBox","className","style","title","desc"];function ey(){return ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ey.apply(null,arguments)}function UD(e,t){if(e==null)return{};var r,n,l=FD(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function FD(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var xT=O.forwardRef((e,t)=>{var{children:r,width:n,height:l,viewBox:c,className:f,style:x,title:b,desc:y}=e,w=UD(e,zD),A=c||{width:n,height:l,x:0,y:0},T=Nr("recharts-surface",f);return O.createElement("svg",ey({},ha(w),{className:T,width:n,height:l,style:x,viewBox:"".concat(A.x," ").concat(A.y," ").concat(A.width," ").concat(A.height),ref:t}),O.createElement("title",null,b),O.createElement("desc",null,y),r)}),HD=["children","className"];function ty(){return ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ty.apply(null,arguments)}function GD(e,t){if(e==null)return{};var r,n,l=VD(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function VD(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ma=O.forwardRef((e,t)=>{var{children:r,className:n}=e,l=GD(e,HD),c=Nr("recharts-layer",n);return O.createElement("g",ty({className:c},ha(l),{ref:t}),r)}),YD=O.createContext(null);function Dr(e){return function(){return e}}const gT=Math.cos,dh=Math.sin,Bi=Math.sqrt,fh=Math.PI,gm=2*fh,ry=Math.PI,ny=2*ry,No=1e-6,qD=ny-No;function yT(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function XD(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return yT;const r=10**t;return function(n){this._+=n[0];for(let l=1,c=n.length;l<c;++l)this._+=Math.round(arguments[l]*r)/r+n[l]}}class WD{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?yT:XD(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,l){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+l}`}bezierCurveTo(t,r,n,l,c,f){this._append`C${+t},${+r},${+n},${+l},${this._x1=+c},${this._y1=+f}`}arcTo(t,r,n,l,c){if(t=+t,r=+r,n=+n,l=+l,c=+c,c<0)throw new Error(`negative radius: ${c}`);let f=this._x1,x=this._y1,b=n-t,y=l-r,w=f-t,A=x-r,T=w*w+A*A;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(T>No)if(!(Math.abs(A*b-y*w)>No)||!c)this._append`L${this._x1=t},${this._y1=r}`;else{let _=n-f,j=l-x,M=b*b+y*y,k=_*_+j*j,R=Math.sqrt(M),F=Math.sqrt(T),U=c*Math.tan((ry-Math.acos((M+T-k)/(2*R*F)))/2),V=U/F,q=U/R;Math.abs(V-1)>No&&this._append`L${t+V*w},${r+V*A}`,this._append`A${c},${c},0,0,${+(A*_>w*j)},${this._x1=t+q*b},${this._y1=r+q*y}`}}arc(t,r,n,l,c,f){if(t=+t,r=+r,n=+n,f=!!f,n<0)throw new Error(`negative radius: ${n}`);let x=n*Math.cos(l),b=n*Math.sin(l),y=t+x,w=r+b,A=1^f,T=f?l-c:c-l;this._x1===null?this._append`M${y},${w}`:(Math.abs(this._x1-y)>No||Math.abs(this._y1-w)>No)&&this._append`L${y},${w}`,n&&(T<0&&(T=T%ny+ny),T>qD?this._append`A${n},${n},0,1,${A},${t-x},${r-b}A${n},${n},0,1,${A},${this._x1=y},${this._y1=w}`:T>No&&this._append`A${n},${n},0,${+(T>=ry)},${A},${this._x1=t+n*Math.cos(c)},${this._y1=r+n*Math.sin(c)}`)}rect(t,r,n,l){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+l}h${-n}Z`}toString(){return this._}}function gv(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new WD(t)}function yv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function vT(e){this._context=e}vT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ym(e){return new vT(e)}function bT(e){return e[0]}function wT(e){return e[1]}function AT(e,t){var r=Dr(!0),n=null,l=ym,c=null,f=gv(x);e=typeof e=="function"?e:e===void 0?bT:Dr(e),t=typeof t=="function"?t:t===void 0?wT:Dr(t);function x(b){var y,w=(b=yv(b)).length,A,T=!1,_;for(n==null&&(c=l(_=f())),y=0;y<=w;++y)!(y<w&&r(A=b[y],y,b))===T&&((T=!T)?c.lineStart():c.lineEnd()),T&&c.point(+e(A,y,b),+t(A,y,b));if(_)return c=null,_+""||null}return x.x=function(b){return arguments.length?(e=typeof b=="function"?b:Dr(+b),x):e},x.y=function(b){return arguments.length?(t=typeof b=="function"?b:Dr(+b),x):t},x.defined=function(b){return arguments.length?(r=typeof b=="function"?b:Dr(!!b),x):r},x.curve=function(b){return arguments.length?(l=b,n!=null&&(c=l(n)),x):l},x.context=function(b){return arguments.length?(b==null?n=c=null:c=l(n=b),x):n},x}function j0(e,t,r){var n=null,l=Dr(!0),c=null,f=ym,x=null,b=gv(y);e=typeof e=="function"?e:e===void 0?bT:Dr(+e),t=typeof t=="function"?t:Dr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?wT:Dr(+r);function y(A){var T,_,j,M=(A=yv(A)).length,k,R=!1,F,U=new Array(M),V=new Array(M);for(c==null&&(x=f(F=b())),T=0;T<=M;++T){if(!(T<M&&l(k=A[T],T,A))===R)if(R=!R)_=T,x.areaStart(),x.lineStart();else{for(x.lineEnd(),x.lineStart(),j=T-1;j>=_;--j)x.point(U[j],V[j]);x.lineEnd(),x.areaEnd()}R&&(U[T]=+e(k,T,A),V[T]=+t(k,T,A),x.point(n?+n(k,T,A):U[T],r?+r(k,T,A):V[T]))}if(F)return x=null,F+""||null}function w(){return AT().defined(l).curve(f).context(c)}return y.x=function(A){return arguments.length?(e=typeof A=="function"?A:Dr(+A),n=null,y):e},y.x0=function(A){return arguments.length?(e=typeof A=="function"?A:Dr(+A),y):e},y.x1=function(A){return arguments.length?(n=A==null?null:typeof A=="function"?A:Dr(+A),y):n},y.y=function(A){return arguments.length?(t=typeof A=="function"?A:Dr(+A),r=null,y):t},y.y0=function(A){return arguments.length?(t=typeof A=="function"?A:Dr(+A),y):t},y.y1=function(A){return arguments.length?(r=A==null?null:typeof A=="function"?A:Dr(+A),y):r},y.lineX0=y.lineY0=function(){return w().x(e).y(t)},y.lineY1=function(){return w().x(e).y(r)},y.lineX1=function(){return w().x(n).y(t)},y.defined=function(A){return arguments.length?(l=typeof A=="function"?A:Dr(!!A),y):l},y.curve=function(A){return arguments.length?(f=A,c!=null&&(x=f(c)),y):f},y.context=function(A){return arguments.length?(A==null?c=x=null:x=f(c=A),y):c},y}class ST{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function KD(e){return new ST(e,!0)}function ZD(e){return new ST(e,!1)}const vv={draw(e,t){const r=Bi(t/fh);e.moveTo(r,0),e.arc(0,0,r,0,gm)}},$D={draw(e,t){const r=Bi(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},ET=Bi(1/3),QD=ET*2,JD={draw(e,t){const r=Bi(t/QD),n=r*ET;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},eR={draw(e,t){const r=Bi(t),n=-r/2;e.rect(n,n,r,r)}},tR=.8908130915292852,NT=dh(fh/10)/dh(7*fh/10),rR=dh(gm/10)*NT,nR=-gT(gm/10)*NT,aR={draw(e,t){const r=Bi(t*tR),n=rR*r,l=nR*r;e.moveTo(0,-r),e.lineTo(n,l);for(let c=1;c<5;++c){const f=gm*c/5,x=gT(f),b=dh(f);e.lineTo(b*r,-x*r),e.lineTo(x*n-b*l,b*n+x*l)}e.closePath()}},ux=Bi(3),iR={draw(e,t){const r=-Bi(t/(ux*3));e.moveTo(0,r*2),e.lineTo(-ux*r,-r),e.lineTo(ux*r,-r),e.closePath()}},fi=-.5,hi=Bi(3)/2,ay=1/Bi(12),sR=(ay/2+1)*3,lR={draw(e,t){const r=Bi(t/sR),n=r/2,l=r*ay,c=n,f=r*ay+r,x=-c,b=f;e.moveTo(n,l),e.lineTo(c,f),e.lineTo(x,b),e.lineTo(fi*n-hi*l,hi*n+fi*l),e.lineTo(fi*c-hi*f,hi*c+fi*f),e.lineTo(fi*x-hi*b,hi*x+fi*b),e.lineTo(fi*n+hi*l,fi*l-hi*n),e.lineTo(fi*c+hi*f,fi*f-hi*c),e.lineTo(fi*x+hi*b,fi*b-hi*x),e.closePath()}};function oR(e,t){let r=null,n=gv(l);e=typeof e=="function"?e:Dr(e||vv),t=typeof t=="function"?t:Dr(t===void 0?64:+t);function l(){let c;if(r||(r=c=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),c)return r=null,c+""||null}return l.type=function(c){return arguments.length?(e=typeof c=="function"?c:Dr(c),l):e},l.size=function(c){return arguments.length?(t=typeof c=="function"?c:Dr(+c),l):t},l.context=function(c){return arguments.length?(r=c??null,l):r},l}function hh(){}function mh(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function CT(e){this._context=e}CT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:mh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:mh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function cR(e){return new CT(e)}function TT(e){this._context=e}TT.prototype={areaStart:hh,areaEnd:hh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:mh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function uR(e){return new TT(e)}function OT(e){this._context=e}OT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:mh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dR(e){return new OT(e)}function IT(e){this._context=e}IT.prototype={areaStart:hh,areaEnd:hh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function fR(e){return new IT(e)}function xS(e){return e<0?-1:1}function gS(e,t,r){var n=e._x1-e._x0,l=t-e._x1,c=(e._y1-e._y0)/(n||l<0&&-0),f=(r-e._y1)/(l||n<0&&-0),x=(c*l+f*n)/(n+l);return(xS(c)+xS(f))*Math.min(Math.abs(c),Math.abs(f),.5*Math.abs(x))||0}function yS(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function dx(e,t,r){var n=e._x0,l=e._y0,c=e._x1,f=e._y1,x=(c-n)/3;e._context.bezierCurveTo(n+x,l+x*t,c-x,f-x*r,c,f)}function ph(e){this._context=e}ph.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dx(this,this._t0,yS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,dx(this,yS(this,r=gS(this,e,t)),r);break;default:dx(this,this._t0,r=gS(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function _T(e){this._context=new MT(e)}(_T.prototype=Object.create(ph.prototype)).point=function(e,t){ph.prototype.point.call(this,t,e)};function MT(e){this._context=e}MT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,l,c){this._context.bezierCurveTo(t,e,n,r,c,l)}};function hR(e){return new ph(e)}function mR(e){return new _T(e)}function jT(e){this._context=e}jT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=vS(e),l=vS(t),c=0,f=1;f<r;++c,++f)this._context.bezierCurveTo(n[0][c],l[0][c],n[1][c],l[1][c],e[f],t[f]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function vS(e){var t,r=e.length-1,n,l=new Array(r),c=new Array(r),f=new Array(r);for(l[0]=0,c[0]=2,f[0]=e[0]+2*e[1],t=1;t<r-1;++t)l[t]=1,c[t]=4,f[t]=4*e[t]+2*e[t+1];for(l[r-1]=2,c[r-1]=7,f[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=l[t]/c[t-1],c[t]-=n,f[t]-=n*f[t-1];for(l[r-1]=f[r-1]/c[r-1],t=r-2;t>=0;--t)l[t]=(f[t]-l[t+1])/c[t];for(c[r-1]=(e[r]+l[r-1])/2,t=0;t<r-1;++t)c[t]=2*e[t+1]-l[t+1];return[l,c]}function pR(e){return new jT(e)}function vm(e,t){this._context=e,this._t=t}vm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function xR(e){return new vm(e,.5)}function gR(e){return new vm(e,0)}function yR(e){return new vm(e,1)}function Uo(e,t){if((f=e.length)>1)for(var r=1,n,l,c=e[t[0]],f,x=c.length;r<f;++r)for(l=c,c=e[t[r]],n=0;n<x;++n)c[n][1]+=c[n][0]=isNaN(l[n][1])?l[n][0]:l[n][1]}function iy(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function vR(e,t){return e[t]}function bR(e){const t=[];return t.key=e,t}function wR(){var e=Dr([]),t=iy,r=Uo,n=vR;function l(c){var f=Array.from(e.apply(this,arguments),bR),x,b=f.length,y=-1,w;for(const A of c)for(x=0,++y;x<b;++x)(f[x][y]=[0,+n(A,f[x].key,y,c)]).data=A;for(x=0,w=yv(t(f));x<b;++x)f[w[x]].index=x;return r(f,w),f}return l.keys=function(c){return arguments.length?(e=typeof c=="function"?c:Dr(Array.from(c)),l):e},l.value=function(c){return arguments.length?(n=typeof c=="function"?c:Dr(+c),l):n},l.order=function(c){return arguments.length?(t=c==null?iy:typeof c=="function"?c:Dr(Array.from(c)),l):t},l.offset=function(c){return arguments.length?(r=c??Uo,l):r},l}function AR(e,t){if((n=e.length)>0){for(var r,n,l=0,c=e[0].length,f;l<c;++l){for(f=r=0;r<n;++r)f+=e[r][l][1]||0;if(f)for(r=0;r<n;++r)e[r][l][1]/=f}Uo(e,t)}}function SR(e,t){if((l=e.length)>0){for(var r=0,n=e[t[0]],l,c=n.length;r<c;++r){for(var f=0,x=0;f<l;++f)x+=e[f][r][1]||0;n[r][1]+=n[r][0]=-x/2}Uo(e,t)}}function ER(e,t){if(!(!((f=e.length)>0)||!((c=(l=e[t[0]]).length)>0))){for(var r=0,n=1,l,c,f;n<c;++n){for(var x=0,b=0,y=0;x<f;++x){for(var w=e[t[x]],A=w[n][1]||0,T=w[n-1][1]||0,_=(A-T)/2,j=0;j<x;++j){var M=e[t[j]],k=M[n][1]||0,R=M[n-1][1]||0;_+=k-R}b+=A,y+=_*A}l[n-1][1]+=l[n-1][0]=r,b&&(r-=y/b)}l[n-1][1]+=l[n-1][0]=r,Uo(e,t)}}var fx={},hx={},bS;function NR(){return bS||(bS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(hx)),hx}var mx={},wS;function kT(){return wS||(wS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(mx)),mx}var px={},AS;function bv(){return AS||(AS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(px)),px}var xx={},gx={},SS;function CR(){return SS||(SS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(gx)),gx}var ES;function wv(){return ES||(ES=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CR(),r=bv();function n(l){if(Array.isArray(l))return l.map(r.toKey);if(typeof l=="symbol")return[l];l=t.toString(l);const c=[],f=l.length;if(f===0)return c;let x=0,b="",y="",w=!1;for(l.charCodeAt(0)===46&&(c.push(""),x++);x<f;){const A=l[x];y?A==="\\"&&x+1<f?(x++,b+=l[x]):A===y?y="":b+=A:w?A==='"'||A==="'"?y=A:A==="]"?(w=!1,c.push(b),b=""):b+=A:A==="["?(w=!0,b&&(c.push(b),b="")):A==="."?b&&(c.push(b),b=""):b+=A,x++}return b&&c.push(b),c}e.toPath=n})(xx)),xx}var NS;function Av(){return NS||(NS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NR(),r=kT(),n=bv(),l=wv();function c(x,b,y){if(x==null)return y;switch(typeof b){case"string":{if(t.isUnsafeProperty(b))return y;const w=x[b];return w===void 0?r.isDeepKey(b)?c(x,l.toPath(b),y):y:w}case"number":case"symbol":{typeof b=="number"&&(b=n.toKey(b));const w=x[b];return w===void 0?y:w}default:{if(Array.isArray(b))return f(x,b,y);if(Object.is(b==null?void 0:b.valueOf(),-0)?b="-0":b=String(b),t.isUnsafeProperty(b))return y;const w=x[b];return w===void 0?y:w}}}function f(x,b,y){if(b.length===0)return y;let w=x;for(let A=0;A<b.length;A++){if(w==null||t.isUnsafeProperty(b[A]))return y;w=w[b[A]]}return w===void 0?y:w}e.get=c})(fx)),fx}var yx,CS;function TR(){return CS||(CS=1,yx=Av().get),yx}var OR=TR();const Zc=ls(OR);var IR=4;function Yl(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:IR,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function tn(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((l,c,f)=>{var x=r[f-1];return typeof x=="string"?l+x+c:x!==void 0?l+Yl(x)+c:l+c},"")}var Oa=e=>e===0?0:e>0?1:-1,Ri=e=>typeof e=="number"&&e!=+e,Fo=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,tt=e=>(typeof e=="number"||e instanceof Number)&&!Ri(e),as=e=>tt(e)||typeof e=="string",_R=0,Id=e=>{var t=++_R;return"".concat(e||"").concat(t)},Pi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!tt(t)&&typeof t!="string")return n;var c;if(Fo(t)){if(r==null)return n;var f=t.indexOf("%");c=r*parseFloat(t.slice(0,f))/100}else c=+t;return Ri(c)&&(c=n),l&&r!=null&&c>r&&(c=r),c},DT=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Xr(e,t,r){return tt(e)&&tt(t)?Yl(e+r*(t-e)):t}function RT(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Zc(n,t))===r)}var rn=e=>e===null||typeof e>"u",Zd=e=>rn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Ia(e){return e!=null}function Zo(){}var MR=["type","size","sizeType"];function sy(){return sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sy.apply(null,arguments)}function TS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function OS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TS(Object(r),!0).forEach(function(n){jR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jR(e,t,r){return(t=kR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kR(e){var t=DR(e,"string");return typeof t=="symbol"?t:t+""}function DR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RR(e,t){if(e==null)return{};var r,n,l=PR(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function PR(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var PT={symbolCircle:vv,symbolCross:$D,symbolDiamond:JD,symbolSquare:eR,symbolStar:aR,symbolTriangle:iR,symbolWye:lR},LR=Math.PI/180,BR=e=>{var t="symbol".concat(Zd(e));return PT[t]||vv},zR=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*LR;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},UR=(e,t)=>{PT["symbol".concat(Zd(e))]=t},LT=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,l=RR(e,MR),c=OS(OS({},l),{},{type:t,size:r,sizeType:n}),f="circle";typeof t=="string"&&(f=t);var x=()=>{var T=BR(f),_=oR().type(T).size(zR(r,n,f)),j=_();if(j!==null)return j},{className:b,cx:y,cy:w}=c,A=ha(c);return tt(y)&&tt(w)&&tt(r)?O.createElement("path",sy({},A,{className:Nr("recharts-symbols",b),transform:"translate(".concat(y,", ").concat(w,")"),d:x()})):null};LT.registerSymbol=UR;var BT=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Sv=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(O.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(l=>{xv(l)&&(n[l]=(c=>r[l](r,c)))}),n},FR=(e,t,r)=>n=>(e(t,r,n),null),Ev=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(l=>{var c=e[l];xv(l)&&typeof c=="function"&&(n||(n={}),n[l]=FR(c,t,r))}),n};function IS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function HR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IS(Object(r),!0).forEach(function(n){GR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GR(e,t,r){return(t=VR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VR(e){var t=YR(e,"string");return typeof t=="symbol"?t:t+""}function YR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ga(e,t){var r=HR({},e),n=t,l=Object.keys(t),c=l.reduce((f,x)=>(f[x]===void 0&&n[x]!==void 0&&(f[x]=n[x]),f),r);return c}var vx={},bx={},_S;function qR(){return _S||(_S=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const l=new Map;for(let c=0;c<r.length;c++){const f=r[c],x=n(f,c,r);l.has(x)||l.set(x,f)}return Array.from(l.values())}e.uniqBy=t})(bx)),bx}var wx={},MS;function XR(){return MS||(MS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...l){return r.apply(this,l.slice(0,n))}}e.ary=t})(wx)),wx}var Ax={},jS;function zT(){return jS||(jS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Ax)),Ax}var Sx={},Ex={},Nx={},kS;function WR(){return kS||(kS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Nx)),Nx}var DS;function Nv(){return DS||(DS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WR();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Ex)),Ex}var Cx={},RS;function KR(){return RS||(RS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Cx)),Cx}var PS;function ZR(){return PS||(PS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nv(),r=KR();function n(l){return r.isObjectLike(l)&&t.isArrayLike(l)}e.isArrayLikeObject=n})(Sx)),Sx}var Tx={},Ox={},LS;function $R(){return LS||(LS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Av();function r(n){return function(l){return t.get(l,n)}}e.property=r})(Ox)),Ox}var Ix={},_x={},Mx={},jx={},BS;function UT(){return BS||(BS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(jx)),jx}var kx={},zS;function FT(){return zS||(zS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(kx)),kx}var Dx={},US;function HT(){return US||(US=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(Dx)),Dx}var FS;function QR(){return FS||(FS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UT(),r=FT(),n=HT();function l(w,A,T){return typeof T!="function"?l(w,A,()=>{}):c(w,A,function _(j,M,k,R,F,U){const V=T(j,M,k,R,F,U);return V!==void 0?!!V:c(j,M,_,U)},new Map)}function c(w,A,T,_){if(A===w)return!0;switch(typeof A){case"object":return f(w,A,T,_);case"function":return Object.keys(A).length>0?c(w,{...A},T,_):n.isEqualsSameValueZero(w,A);default:return t.isObject(w)?typeof A=="string"?A==="":!0:n.isEqualsSameValueZero(w,A)}}function f(w,A,T,_){if(A==null)return!0;if(Array.isArray(A))return b(w,A,T,_);if(A instanceof Map)return x(w,A,T,_);if(A instanceof Set)return y(w,A,T,_);const j=Object.keys(A);if(w==null||r.isPrimitive(w))return j.length===0;if(j.length===0)return!0;if(_!=null&&_.has(A))return _.get(A)===w;_==null||_.set(A,w);try{for(let M=0;M<j.length;M++){const k=j[M];if(!r.isPrimitive(w)&&!(k in w)||A[k]===void 0&&w[k]!==void 0||A[k]===null&&w[k]!==null||!T(w[k],A[k],k,w,A,_))return!1}return!0}finally{_==null||_.delete(A)}}function x(w,A,T,_){if(A.size===0)return!0;if(!(w instanceof Map))return!1;for(const[j,M]of A.entries()){const k=w.get(j);if(T(k,M,j,w,A,_)===!1)return!1}return!0}function b(w,A,T,_){if(A.length===0)return!0;if(!Array.isArray(w))return!1;const j=new Set;for(let M=0;M<A.length;M++){const k=A[M];let R=!1;for(let F=0;F<w.length;F++){if(j.has(F))continue;const U=w[F];let V=!1;if(T(U,k,M,w,A,_)&&(V=!0),V){j.add(F),R=!0;break}}if(!R)return!1}return!0}function y(w,A,T,_){return A.size===0?!0:w instanceof Set?b([...w],[...A],T,_):!1}e.isMatchWith=l,e.isSetMatch=y})(Mx)),Mx}var HS;function GT(){return HS||(HS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QR();function r(n,l){return t.isMatchWith(n,l,()=>{})}e.isMatch=r})(_x)),_x}var Rx={},Px={},Lx={},GS;function JR(){return GS||(GS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Lx)),Lx}var Bx={},VS;function Cv(){return VS||(VS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Bx)),Bx}var zx={},YS;function VT(){return YS||(YS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",l="[object Boolean]",c="[object Arguments]",f="[object Symbol]",x="[object Date]",b="[object Map]",y="[object Set]",w="[object Array]",A="[object Function]",T="[object ArrayBuffer]",_="[object Object]",j="[object Error]",M="[object DataView]",k="[object Uint8Array]",R="[object Uint8ClampedArray]",F="[object Uint16Array]",U="[object Uint32Array]",V="[object BigUint64Array]",q="[object Int8Array]",Y="[object Int16Array]",L="[object Int32Array]",J="[object BigInt64Array]",K="[object Float32Array]",Ce="[object Float64Array]";e.argumentsTag=c,e.arrayBufferTag=T,e.arrayTag=w,e.bigInt64ArrayTag=J,e.bigUint64ArrayTag=V,e.booleanTag=l,e.dataViewTag=M,e.dateTag=x,e.errorTag=j,e.float32ArrayTag=K,e.float64ArrayTag=Ce,e.functionTag=A,e.int16ArrayTag=Y,e.int32ArrayTag=L,e.int8ArrayTag=q,e.mapTag=b,e.numberTag=n,e.objectTag=_,e.regexpTag=t,e.setTag=y,e.stringTag=r,e.symbolTag=f,e.uint16ArrayTag=F,e.uint32ArrayTag=U,e.uint8ArrayTag=k,e.uint8ClampedArrayTag=R})(zx)),zx}var Ux={},qS;function e7(){return qS||(qS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Ux)),Ux}var XS;function YT(){return XS||(XS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JR(),r=Cv(),n=VT(),l=FT(),c=e7();function f(w,A){return x(w,void 0,w,new Map,A)}function x(w,A,T,_=new Map,j=void 0){const M=j==null?void 0:j(w,A,T,_);if(M!==void 0)return M;if(l.isPrimitive(w))return w;if(_.has(w))return _.get(w);if(Array.isArray(w)){const k=new Array(w.length);_.set(w,k);for(let R=0;R<w.length;R++)k[R]=x(w[R],R,T,_,j);return Object.hasOwn(w,"index")&&(k.index=w.index),Object.hasOwn(w,"input")&&(k.input=w.input),k}if(w instanceof Date)return new Date(w.getTime());if(w instanceof RegExp){const k=new RegExp(w.source,w.flags);return k.lastIndex=w.lastIndex,k}if(w instanceof Map){const k=new Map;_.set(w,k);for(const[R,F]of w)k.set(R,x(F,R,T,_,j));return k}if(w instanceof Set){const k=new Set;_.set(w,k);for(const R of w)k.add(x(R,void 0,T,_,j));return k}if(typeof Buffer<"u"&&Buffer.isBuffer(w))return w.subarray();if(c.isTypedArray(w)){const k=new(Object.getPrototypeOf(w)).constructor(w.length);_.set(w,k);for(let R=0;R<w.length;R++)k[R]=x(w[R],R,T,_,j);return k}if(w instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&w instanceof SharedArrayBuffer)return w.slice(0);if(w instanceof DataView){const k=new DataView(w.buffer.slice(0),w.byteOffset,w.byteLength);return _.set(w,k),b(k,w,T,_,j),k}if(typeof File<"u"&&w instanceof File){const k=new File([w],w.name,{type:w.type});return _.set(w,k),b(k,w,T,_,j),k}if(typeof Blob<"u"&&w instanceof Blob){const k=new Blob([w],{type:w.type});return _.set(w,k),b(k,w,T,_,j),k}if(w instanceof Error){const k=new w.constructor;return _.set(w,k),k.message=w.message,k.name=w.name,k.stack=w.stack,k.cause=w.cause,b(k,w,T,_,j),k}if(w instanceof Boolean){const k=new Boolean(w.valueOf());return _.set(w,k),b(k,w,T,_,j),k}if(w instanceof Number){const k=new Number(w.valueOf());return _.set(w,k),b(k,w,T,_,j),k}if(w instanceof String){const k=new String(w.valueOf());return _.set(w,k),b(k,w,T,_,j),k}if(typeof w=="object"&&y(w)){const k=Object.create(Object.getPrototypeOf(w));return _.set(w,k),b(k,w,T,_,j),k}return w}function b(w,A,T=w,_,j){const M=[...Object.keys(A),...t.getSymbols(A)];for(let k=0;k<M.length;k++){const R=M[k],F=Object.getOwnPropertyDescriptor(w,R);(F==null||F.writable)&&(w[R]=x(A[R],R,T,_,j))}}function y(w){switch(r.getTag(w)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=f,e.cloneDeepWithImpl=x,e.copyProperties=b})(Px)),Px}var WS;function t7(){return WS||(WS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YT();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(Rx)),Rx}var KS;function r7(){return KS||(KS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GT(),r=t7();function n(l){return l=r.cloneDeep(l),c=>t.isMatch(c,l)}e.matches=n})(Ix)),Ix}var Fx={},Hx={},Gx={},ZS;function n7(){return ZS||(ZS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YT(),r=Cv(),n=VT();function l(c,f){return t.cloneDeepWith(c,(x,b,y,w)=>{const A=f==null?void 0:f(x,b,y,w);if(A!==void 0)return A;if(typeof c=="object"){if(r.getTag(c)===n.objectTag&&typeof c.constructor!="function"){const T={};return w.set(c,T),t.copyProperties(T,c,y,w),T}switch(Object.prototype.toString.call(c)){case n.numberTag:case n.stringTag:case n.booleanTag:{const T=new c.constructor(c==null?void 0:c.valueOf());return t.copyProperties(T,c),T}case n.argumentsTag:{const T={};return t.copyProperties(T,c),T.length=c.length,T[Symbol.iterator]=c[Symbol.iterator],T}default:return}}})}e.cloneDeepWith=l})(Gx)),Gx}var $S;function a7(){return $S||($S=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n7();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Hx)),Hx}var Vx={},Yx={},QS;function qT(){return QS||(QS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,l=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<l;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Yx)),Yx}var qx={},JS;function i7(){return JS||(JS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cv();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(qx)),qx}var e3;function s7(){return e3||(e3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kT(),r=qT(),n=i7(),l=wv();function c(f,x){let b;if(Array.isArray(x)?b=x:typeof x=="string"&&t.isDeepKey(x)&&(f==null?void 0:f[x])==null?b=l.toPath(x):b=[x],b.length===0)return!1;let y=f;for(let w=0;w<b.length;w++){const A=b[w];if((y==null||!Object.hasOwn(y,A))&&!((Array.isArray(y)||n.isArguments(y))&&r.isIndex(A)&&A<y.length))return!1;y=y[A]}return!0}e.has=c})(Vx)),Vx}var t3;function l7(){return t3||(t3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GT(),r=bv(),n=a7(),l=Av(),c=s7();function f(x,b){switch(typeof x){case"object":{Object.is(x==null?void 0:x.valueOf(),-0)&&(x="-0");break}case"number":{x=r.toKey(x);break}}return b=n.cloneDeep(b),function(y){const w=l.get(y,x);return w===void 0?c.has(y,x):b===void 0?w===void 0:t.isMatch(w,b)}}e.matchesProperty=f})(Fx)),Fx}var r3;function o7(){return r3||(r3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zT(),r=$R(),n=r7(),l=l7();function c(f){if(f==null)return t.identity;switch(typeof f){case"function":return f;case"object":return Array.isArray(f)&&f.length===2?l.matchesProperty(f[0],f[1]):n.matches(f);case"string":case"symbol":case"number":return r.property(f)}}e.iteratee=c})(Tx)),Tx}var n3;function c7(){return n3||(n3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qR(),r=XR(),n=zT(),l=ZR(),c=o7();function f(x,b=n.identity){return l.isArrayLikeObject(x)?t.uniqBy(Array.from(x),r.ary(c.iteratee(b),1)):[]}e.uniqBy=f})(vx)),vx}var Xx,a3;function u7(){return a3||(a3=1,Xx=c7().uniqBy),Xx}var d7=u7();const i3=ls(d7);function f7(e,t,r){return t===!0?i3(e,r):typeof t=="function"?i3(e,t):e}var Wx={exports:{}},Kx={},Zx={exports:{}},$x={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s3;function h7(){if(s3)return $x;s3=1;var e=nu();function t(A,T){return A===T&&(A!==0||1/A===1/T)||A!==A&&T!==T}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,l=e.useEffect,c=e.useLayoutEffect,f=e.useDebugValue;function x(A,T){var _=T(),j=n({inst:{value:_,getSnapshot:T}}),M=j[0].inst,k=j[1];return c(function(){M.value=_,M.getSnapshot=T,b(M)&&k({inst:M})},[A,_,T]),l(function(){return b(M)&&k({inst:M}),A(function(){b(M)&&k({inst:M})})},[A]),f(_),_}function b(A){var T=A.getSnapshot;A=A.value;try{var _=T();return!r(A,_)}catch{return!0}}function y(A,T){return T()}var w=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?y:x;return $x.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:w,$x}var l3;function m7(){return l3||(l3=1,Zx.exports=h7()),Zx.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o3;function p7(){if(o3)return Kx;o3=1;var e=nu(),t=m7();function r(y,w){return y===w&&(y!==0||1/y===1/w)||y!==y&&w!==w}var n=typeof Object.is=="function"?Object.is:r,l=t.useSyncExternalStore,c=e.useRef,f=e.useEffect,x=e.useMemo,b=e.useDebugValue;return Kx.useSyncExternalStoreWithSelector=function(y,w,A,T,_){var j=c(null);if(j.current===null){var M={hasValue:!1,value:null};j.current=M}else M=j.current;j=x(function(){function R(Y){if(!F){if(F=!0,U=Y,Y=T(Y),_!==void 0&&M.hasValue){var L=M.value;if(_(L,Y))return V=L}return V=Y}if(L=V,n(U,Y))return L;var J=T(Y);return _!==void 0&&_(L,J)?(U=Y,L):(U=Y,V=J)}var F=!1,U,V,q=A===void 0?null:A;return[function(){return R(w())},q===null?void 0:function(){return R(q())}]},[w,A,T,_]);var k=l(y,j[0],j[1]);return f(function(){M.hasValue=!0,M.value=k},[k]),b(k),k},Kx}var c3;function x7(){return c3||(c3=1,Wx.exports=p7()),Wx.exports}var g7=x7(),Tv=O.createContext(null),y7=e=>e,fn=()=>{var e=O.useContext(Tv);return e?e.store.dispatch:y7},$0=()=>{},v7=()=>$0,b7=(e,t)=>e===t;function gt(e){var t=O.useContext(Tv),r=O.useMemo(()=>t?n=>{if(n!=null)return e(n)}:$0,[t,e]);return g7.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:v7,t?t.store.getState:$0,t?t.store.getState:$0,r,b7)}function w7(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function A7(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function S7(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var u3=e=>Array.isArray(e)?e:[e];function E7(e){const t=Array.isArray(e[0])?e[0]:e;return S7(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function N7(e,t){const r=[],{length:n}=e;for(let l=0;l<n;l++)r.push(e[l].apply(null,t));return r}var C7=class{constructor(e){this.value=e}deref(){return this.value}},T7=typeof WeakRef<"u"?WeakRef:C7,O7=0,d3=1;function k0(){return{s:O7,v:void 0,o:null,p:null}}function XT(e,t={}){let r=k0();const{resultEqualityCheck:n}=t;let l,c=0;function f(){var A;let x=r;const{length:b}=arguments;for(let T=0,_=b;T<_;T++){const j=arguments[T];if(typeof j=="function"||typeof j=="object"&&j!==null){let M=x.o;M===null&&(x.o=M=new WeakMap);const k=M.get(j);k===void 0?(x=k0(),M.set(j,x)):x=k}else{let M=x.p;M===null&&(x.p=M=new Map);const k=M.get(j);k===void 0?(x=k0(),M.set(j,x)):x=k}}const y=x;let w;if(x.s===d3)w=x.v;else if(w=e.apply(null,arguments),c++,n){const T=((A=l==null?void 0:l.deref)==null?void 0:A.call(l))??l;T!=null&&n(T,w)&&(w=T,c!==0&&c--),l=typeof w=="object"&&w!==null||typeof w=="function"?new T7(w):w}return y.s=d3,y.v=w,w}return f.clearCache=()=>{r=k0(),f.resetResultsCount()},f.resultsCount=()=>c,f.resetResultsCount=()=>{c=0},f}function I7(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...l)=>{let c=0,f=0,x,b={},y=l.pop();typeof y=="object"&&(b=y,y=l.pop()),w7(y,`createSelector expects an output function after the inputs, but received: [${typeof y}]`);const w={...r,...b},{memoize:A,memoizeOptions:T=[],argsMemoize:_=XT,argsMemoizeOptions:j=[]}=w,M=u3(T),k=u3(j),R=E7(l),F=A(function(){return c++,y.apply(null,arguments)},...M),U=_(function(){f++;const q=N7(R,arguments);return x=F.apply(null,q),x},...k);return Object.assign(U,{resultFunc:y,memoizedResultFunc:F,dependencies:R,dependencyRecomputations:()=>f,resetDependencyRecomputations:()=>{f=0},lastResult:()=>x,recomputations:()=>c,resetRecomputations:()=>{c=0},memoize:A,argsMemoize:_})};return Object.assign(n,{withTypes:()=>n}),n}var Se=I7(XT),_7=Object.assign((e,t=Se)=>{A7(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(c=>e[c]);return t(n,(...c)=>c.reduce((f,x,b)=>(f[r[b]]=x,f),{}))},{withTypes:()=>_7}),Qx={},Jx={},eg={},f3;function M7(){return f3||(f3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,l,c)=>{if(n!==l){const f=t(n),x=t(l);if(f===x&&f===0){if(n<l)return c==="desc"?1:-1;if(n>l)return c==="desc"?-1:1}return c==="desc"?x-f:f-x}return 0};e.compareValues=r})(eg)),eg}var tg={},rg={},h3;function WT(){return h3||(h3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(rg)),rg}var m3;function j7(){return m3||(m3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WT(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function l(c,f){return Array.isArray(c)?!1:typeof c=="number"||typeof c=="boolean"||c==null||t.isSymbol(c)?!0:typeof c=="string"&&(n.test(c)||!r.test(c))||f!=null&&Object.hasOwn(f,c)}e.isKey=l})(tg)),tg}var p3;function k7(){return p3||(p3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M7(),r=j7(),n=wv();function l(c,f,x,b){if(c==null)return[];x=b?void 0:x,Array.isArray(c)||(c=Object.values(c)),Array.isArray(f)||(f=f==null?[null]:[f]),f.length===0&&(f=[null]),Array.isArray(x)||(x=x==null?[]:[x]),x=x.map(_=>String(_));const y=(_,j)=>{let M=_;for(let k=0;k<j.length&&M!=null;++k)M=M[j[k]];return M},w=(_,j)=>j==null||_==null?j:typeof _=="object"&&"key"in _?Object.hasOwn(j,_.key)?j[_.key]:y(j,_.path):typeof _=="function"?_(j):Array.isArray(_)?y(j,_):typeof j=="object"?j[_]:j,A=f.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||r.isKey(_)?_:{key:_,path:n.toPath(_)}));return c.map(_=>({original:_,criteria:A.map(j=>w(j,_))})).slice().sort((_,j)=>{for(let M=0;M<A.length;M++){const k=t.compareValues(_.criteria[M],j.criteria[M],x[M]);if(k!==0)return k}return 0}).map(_=>_.original)}e.orderBy=l})(Jx)),Jx}var ng={},x3;function D7(){return x3||(x3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const l=[],c=Math.floor(n),f=(x,b)=>{for(let y=0;y<x.length;y++){const w=x[y];Array.isArray(w)&&b<c?f(w,b+1):l.push(w)}};return f(r,0),l}e.flatten=t})(ng)),ng}var ag={},g3;function KT(){return g3||(g3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qT(),r=Nv(),n=UT(),l=HT();function c(f,x,b){return n.isObject(b)&&(typeof x=="number"&&r.isArrayLike(b)&&t.isIndex(x)&&x<b.length||typeof x=="string"&&x in b)?l.isEqualsSameValueZero(b[x],f):!1}e.isIterateeCall=c})(ag)),ag}var y3;function R7(){return y3||(y3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k7(),r=D7(),n=KT();function l(c,...f){const x=f.length;return x>1&&n.isIterateeCall(c,f[0],f[1])?f=[]:x>2&&n.isIterateeCall(f[0],f[1],f[2])&&(f=[f[0]]),t.orderBy(c,r.flatten(f),["asc"])}e.sortBy=l})(Qx)),Qx}var ig,v3;function P7(){return v3||(v3=1,ig=R7().sortBy),ig}var L7=P7();const bm=ls(L7);var ZT=e=>e.legend.settings,B7=e=>e.legend.size,z7=e=>e.legend.payload;Se([z7,ZT],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?bm(n,r):n});var D0=1;function U7(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=O.useState({height:0,left:0,top:0,width:0}),n=O.useCallback(l=>{if(l!=null){var c=l.getBoundingClientRect(),f={height:c.height,left:c.left,top:c.top,width:c.width};(Math.abs(f.height-t.height)>D0||Math.abs(f.left-t.left)>D0||Math.abs(f.top-t.top)>D0||Math.abs(f.width-t.width)>D0)&&r({height:f.height,left:f.left,top:f.top,width:f.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function $n(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var F7=typeof Symbol=="function"&&Symbol.observable||"@@observable",b3=F7,sg=()=>Math.random().toString(36).substring(7).split("").join("."),H7={INIT:`@@redux/INIT${sg()}`,REPLACE:`@@redux/REPLACE${sg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${sg()}`},xh=H7;function Ov(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function $T(e,t,r){if(typeof e!="function")throw new Error($n(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error($n(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error($n(1));return r($T)(e,t)}let n=e,l=t,c=new Map,f=c,x=0,b=!1;function y(){f===c&&(f=new Map,c.forEach((k,R)=>{f.set(R,k)}))}function w(){if(b)throw new Error($n(3));return l}function A(k){if(typeof k!="function")throw new Error($n(4));if(b)throw new Error($n(5));let R=!0;y();const F=x++;return f.set(F,k),function(){if(R){if(b)throw new Error($n(6));R=!1,y(),f.delete(F),c=null}}}function T(k){if(!Ov(k))throw new Error($n(7));if(typeof k.type>"u")throw new Error($n(8));if(typeof k.type!="string")throw new Error($n(17));if(b)throw new Error($n(9));try{b=!0,l=n(l,k)}finally{b=!1}return(c=f).forEach(F=>{F()}),k}function _(k){if(typeof k!="function")throw new Error($n(10));n=k,T({type:xh.REPLACE})}function j(){const k=A;return{subscribe(R){if(typeof R!="object"||R===null)throw new Error($n(11));function F(){const V=R;V.next&&V.next(w())}return F(),{unsubscribe:k(F)}},[b3](){return this}}}return T({type:xh.INIT}),{dispatch:T,subscribe:A,getState:w,replaceReducer:_,[b3]:j}}function G7(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:xh.INIT})>"u")throw new Error($n(12));if(typeof r(void 0,{type:xh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error($n(13))})}function QT(e){const t=Object.keys(e),r={};for(let c=0;c<t.length;c++){const f=t[c];typeof e[f]=="function"&&(r[f]=e[f])}const n=Object.keys(r);let l;try{G7(r)}catch(c){l=c}return function(f={},x){if(l)throw l;let b=!1;const y={};for(let w=0;w<n.length;w++){const A=n[w],T=r[A],_=f[A],j=T(_,x);if(typeof j>"u")throw x&&x.type,new Error($n(14));y[A]=j,b=b||j!==_}return b=b||n.length!==Object.keys(f).length,b?y:f}}function gh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function V7(...e){return t=>(r,n)=>{const l=t(r,n);let c=()=>{throw new Error($n(15))};const f={getState:l.getState,dispatch:(b,...y)=>c(b,...y)},x=e.map(b=>b(f));return c=gh(...x)(l.dispatch),{...l,dispatch:c}}}function JT(e){return Ov(e)&&"type"in e&&typeof e.type=="string"}var eO=Symbol.for("immer-nothing"),w3=Symbol.for("immer-draftable"),pa=Symbol.for("immer-state");function Mi(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Za=Object,$c=Za.getPrototypeOf,yh="constructor",wm="prototype",ly="configurable",vh="enumerable",Q0="writable",_d="value",Xs=e=>!!e&&!!e[pa];function Li(e){var t;return e?tO(e)||Sm(e)||!!e[w3]||!!((t=e[yh])!=null&&t[w3])||Em(e)||Nm(e):!1}var Y7=Za[wm][yh].toString(),A3=new WeakMap;function tO(e){if(!e||!Iv(e))return!1;const t=$c(e);if(t===null||t===Za[wm])return!0;const r=Za.hasOwnProperty.call(t,yh)&&t[yh];if(r===Object)return!0;if(!Fc(r))return!1;let n=A3.get(r);return n===void 0&&(n=Function.toString.call(r),A3.set(r,n)),n===Y7}function Am(e,t,r=!0){$d(e)===0?(r?Reflect.ownKeys(e):Za.keys(e)).forEach(l=>{t(l,e[l],e)}):e.forEach((n,l)=>t(l,n,e))}function $d(e){const t=e[pa];return t?t.type_:Sm(e)?1:Em(e)?2:Nm(e)?3:0}var S3=(e,t,r=$d(e))=>r===2?e.has(t):Za[wm].hasOwnProperty.call(e,t),oy=(e,t,r=$d(e))=>r===2?e.get(t):e[t],bh=(e,t,r,n=$d(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function q7(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Sm=Array.isArray,Em=e=>e instanceof Map,Nm=e=>e instanceof Set,Iv=e=>typeof e=="object",Fc=e=>typeof e=="function",lg=e=>typeof e=="boolean";function X7(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Ps=e=>e.copy_||e.base_,_v=e=>e.modified_?e.copy_:e.base_;function cy(e,t){if(Em(e))return new Map(e);if(Nm(e))return new Set(e);if(Sm(e))return Array[wm].slice.call(e);const r=tO(e);if(t===!0||t==="class_only"&&!r){const n=Za.getOwnPropertyDescriptors(e);delete n[pa];let l=Reflect.ownKeys(n);for(let c=0;c<l.length;c++){const f=l[c],x=n[f];x[Q0]===!1&&(x[Q0]=!0,x[ly]=!0),(x.get||x.set)&&(n[f]={[ly]:!0,[Q0]:!0,[vh]:x[vh],[_d]:e[f]})}return Za.create($c(e),n)}else{const n=$c(e);if(n!==null&&r)return{...e};const l=Za.create(n);return Za.assign(l,e)}}function Mv(e,t=!1){return Cm(e)||Xs(e)||!Li(e)||($d(e)>1&&Za.defineProperties(e,{set:R0,add:R0,clear:R0,delete:R0}),Za.freeze(e),t&&Am(e,(r,n)=>{Mv(n,!0)},!1)),e}function W7(){Mi(2)}var R0={[_d]:W7};function Cm(e){return e===null||!Iv(e)?!0:Za.isFrozen(e)}var wh="MapSet",uy="Patches",E3="ArrayMethods",rO={};function Ho(e){const t=rO[e];return t||Mi(0,e),t}var N3=e=>!!rO[e],Md,nO=()=>Md,K7=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:N3(wh)?Ho(wh):void 0,arrayMethodsPlugin_:N3(E3)?Ho(E3):void 0});function C3(e,t){t&&(e.patchPlugin_=Ho(uy),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function dy(e){fy(e),e.drafts_.forEach(Z7),e.drafts_=null}function fy(e){e===Md&&(Md=e.parent_)}var T3=e=>Md=K7(Md,e);function Z7(e){const t=e[pa];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function O3(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[pa].modified_&&(dy(t),Mi(4)),Li(e)&&(e=I3(t,e));const{patchPlugin_:l}=t;l&&l.generateReplacementPatches_(r[pa].base_,e,t)}else e=I3(t,r);return $7(t,e,!0),dy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==eO?e:void 0}function I3(e,t){if(Cm(t))return t;const r=t[pa];if(!r)return Ah(t,e.handledSet_,e);if(!Tm(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);sO(r,e)}return r.copy_}function $7(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Mv(t,r)}function aO(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Tm=(e,t)=>e.scope_===t,Q7=[];function iO(e,t,r,n){const l=Ps(e),c=e.type_;if(n!==void 0&&oy(l,n,c)===t){bh(l,n,r,c);return}if(!e.draftLocations_){const x=e.draftLocations_=new Map;Am(l,(b,y)=>{if(Xs(y)){const w=x.get(y)||[];w.push(b),x.set(y,w)}})}const f=e.draftLocations_.get(t)??Q7;for(const x of f)bh(l,x,r,c)}function J7(e,t,r){e.callbacks_.push(function(l){var x;const c=t;if(!c||!Tm(c,l))return;(x=l.mapSetPlugin_)==null||x.fixSetContents(c);const f=_v(c);iO(e,c.draft_??c,f,r),sO(c,l)})}function sO(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:l}=t;if(l){const c=l.getPath(e);c&&l.generatePatches_(e,c,t)}aO(e)}}function e9(e,t,r){const{scope_:n}=e;if(Xs(r)){const l=r[pa];Tm(l,n)&&l.callbacks_.push(function(){J0(e);const f=_v(l);iO(e,r,f,t)})}else Li(r)&&e.callbacks_.push(function(){const c=Ps(e);e.type_===3?c.has(r)&&Ah(r,n.handledSet_,n):oy(c,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Ah(oy(e.copy_,t,e.type_),n.handledSet_,n)})}function Ah(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Xs(e)||t.has(e)||!Li(e)||Cm(e)||(t.add(e),Am(e,(n,l)=>{if(Xs(l)){const c=l[pa];if(Tm(c,r)){const f=_v(c);bh(e,n,f,e.type_),aO(c)}}else Li(l)&&Ah(l,t,r)})),e}function t9(e,t){const r=Sm(e),n={type_:r?1:0,scope_:t?t.scope_:nO(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let l=n,c=Sh;r&&(l=[n],c=jd);const{revoke:f,proxy:x}=Proxy.revocable(l,c);return n.draft_=x,n.revoke_=f,[x,n]}var Sh={get(e,t){if(t===pa)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const l=Ps(e);if(!S3(l,t,e.type_))return r9(e,l,t);const c=l[t];if(e.finalized_||!Li(c)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&X7(t))return c;if(c===og(e.base_,t)){J0(e);const f=e.type_===1?+t:t,x=my(e.scope_,c,e,f);return e.copy_[f]=x}return c},has(e,t){return t in Ps(e)},ownKeys(e){return Reflect.ownKeys(Ps(e))},set(e,t,r){const n=lO(Ps(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const l=og(Ps(e),t),c=l==null?void 0:l[pa];if(c&&c.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(q7(r,l)&&(r!==void 0||S3(e.base_,t,e.type_)))return!0;J0(e),hy(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),e9(e,t,r)),!0},deleteProperty(e,t){return J0(e),og(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),hy(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ps(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Q0]:!0,[ly]:e.type_!==1||t!=="length",[vh]:n[vh],[_d]:r[t]}},defineProperty(){Mi(11)},getPrototypeOf(e){return $c(e.base_)},setPrototypeOf(){Mi(12)}},jd={};for(let e in Sh){let t=Sh[e];jd[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}jd.deleteProperty=function(e,t){return jd.set.call(this,e,t,void 0)};jd.set=function(e,t,r){return Sh.set.call(this,e[0],t,r,e[0])};function og(e,t){const r=e[pa];return(r?Ps(r):e)[t]}function r9(e,t,r){var l;const n=lO(t,r);return n?_d in n?n[_d]:(l=n.get)==null?void 0:l.call(e.draft_):void 0}function lO(e,t){if(!(t in e))return;let r=$c(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=$c(r)}}function hy(e){e.modified_||(e.modified_=!0,e.parent_&&hy(e.parent_))}function J0(e){e.copy_||(e.assigned_=new Map,e.copy_=cy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var n9=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,l)=>{if(Fc(r)&&!Fc(n)){const f=n;n=r;const x=this;return function(y=f,...w){return x.produce(y,A=>n.call(this,A,...w))}}Fc(n)||Mi(6),l!==void 0&&!Fc(l)&&Mi(7);let c;if(Li(r)){const f=T3(this),x=my(f,r,void 0);let b=!0;try{c=n(x),b=!1}finally{b?dy(f):fy(f)}return C3(f,l),O3(c,f)}else if(!r||!Iv(r)){if(c=n(r),c===void 0&&(c=r),c===eO&&(c=void 0),this.autoFreeze_&&Mv(c,!0),l){const f=[],x=[];Ho(uy).generateReplacementPatches_(r,c,{patches_:f,inversePatches_:x}),l(f,x)}return c}else Mi(1,r)},this.produceWithPatches=(r,n)=>{if(Fc(r))return(x,...b)=>this.produceWithPatches(x,y=>r(y,...b));let l,c;return[this.produce(r,n,(x,b)=>{l=x,c=b}),l,c]},lg(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),lg(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),lg(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Li(t)||Mi(8),Xs(t)&&(t=Di(t));const r=T3(this),n=my(r,t,void 0);return n[pa].isManual_=!0,fy(r),n}finishDraft(t,r){const n=t&&t[pa];(!n||!n.isManual_)&&Mi(9);const{scope_:l}=n;return C3(l,r),O3(void 0,l)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const c=r[n];if(c.path.length===0&&c.op==="replace"){t=c.value;break}}n>-1&&(r=r.slice(n+1));const l=Ho(uy).applyPatches_;return Xs(t)?l(t,r):this.produce(t,c=>l(c,r))}};function my(e,t,r,n){const[l,c]=Em(t)?Ho(wh).proxyMap_(t,r):Nm(t)?Ho(wh).proxySet_(t,r):t9(t,r);return((r==null?void 0:r.scope_)??nO()).drafts_.push(l),c.callbacks_=(r==null?void 0:r.callbacks_)??[],c.key_=n,r&&n!==void 0?J7(r,c,n):c.callbacks_.push(function(b){var w;(w=b.mapSetPlugin_)==null||w.fixSetContents(c);const{patchPlugin_:y}=b;c.modified_&&y&&y.generatePatches_(c,[],b)}),l}function Di(e){return Xs(e)||Mi(10,e),oO(e)}function oO(e){if(!Li(e)||Cm(e))return e;const t=e[pa];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=cy(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=cy(e,!0);return Am(r,(l,c)=>{bh(r,l,oO(c))},n),t&&(t.finalized_=!1),r}var a9=new n9,cO=a9.produce;function uO(e){return({dispatch:r,getState:n})=>l=>c=>typeof c=="function"?c(r,n,e):l(c)}var i9=uO(),s9=uO,l9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?gh:gh.apply(null,arguments)};function gi(e,t){function r(...n){if(t){let l=t(...n);if(!l)throw new Error($a(0));return{type:e,payload:l.payload,..."meta"in l&&{meta:l.meta},..."error"in l&&{error:l.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>JT(n)&&n.type===e,r}var dO=class gd extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,gd.prototype)}static get[Symbol.species](){return gd}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new gd(...t[0].concat(this)):new gd(...t.concat(this))}};function _3(e){return Li(e)?cO(e,()=>{}):e}function P0(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function o9(e){return typeof e=="boolean"}var c9=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:l=!0,actionCreatorCheck:c=!0}=t??{};let f=new dO;return r&&(o9(r)?f.push(i9):f.push(s9(r.extraArgument))),f},fO="RTK_autoBatch",Gr=()=>e=>({payload:e,meta:{[fO]:!0}}),M3=e=>t=>{setTimeout(t,e)},hO=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let l=!0,c=!1,f=!1;const x=new Set,b=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:M3(10):e.type==="callback"?e.queueNotification:M3(e.timeout),y=()=>{f=!1,c&&(c=!1,x.forEach(w=>w()))};return Object.assign({},n,{subscribe(w){const A=()=>l&&w(),T=n.subscribe(A);return x.add(w),()=>{T(),x.delete(w)}},dispatch(w){var A;try{return l=!((A=w==null?void 0:w.meta)!=null&&A[fO]),c=!l,c&&(f||(f=!0,b(y))),n.dispatch(w)}finally{l=!0}}})},u9=e=>function(r){const{autoBatch:n=!0}=r??{};let l=new dO(e);return n&&l.push(hO(typeof n=="object"?n:void 0)),l};function d9(e){const t=c9(),{reducer:r=void 0,middleware:n,devTools:l=!0,preloadedState:c=void 0,enhancers:f=void 0}=e||{};let x;if(typeof r=="function")x=r;else if(Ov(r))x=QT(r);else throw new Error($a(1));let b;typeof n=="function"?b=n(t):b=t();let y=gh;l&&(y=l9({trace:!1,...typeof l=="object"&&l}));const w=V7(...b),A=u9(w);let T=typeof f=="function"?f(A):A();const _=y(...T);return $T(x,c,_)}function mO(e){const t={},r=[];let n;const l={addCase(c,f){const x=typeof c=="string"?c:c.type;if(!x)throw new Error($a(28));if(x in t)throw new Error($a(29));return t[x]=f,l},addAsyncThunk(c,f){return f.pending&&(t[c.pending.type]=f.pending),f.rejected&&(t[c.rejected.type]=f.rejected),f.fulfilled&&(t[c.fulfilled.type]=f.fulfilled),f.settled&&r.push({matcher:c.settled,reducer:f.settled}),l},addMatcher(c,f){return r.push({matcher:c,reducer:f}),l},addDefaultCase(c){return n=c,l}};return e(l),[t,r,n]}function f9(e){return typeof e=="function"}function h9(e,t){let[r,n,l]=mO(t),c;if(f9(e))c=()=>_3(e());else{const x=_3(e);c=()=>x}function f(x=c(),b){let y=[r[b.type],...n.filter(({matcher:w})=>w(b)).map(({reducer:w})=>w)];return y.filter(w=>!!w).length===0&&(y=[l]),y.reduce((w,A)=>{if(A)if(Xs(w)){const _=A(w,b);return _===void 0?w:_}else{if(Li(w))return cO(w,T=>A(T,b));{const T=A(w,b);if(T===void 0){if(w===null)return w;throw Error("A case reducer on a non-draftable value must not return undefined")}return T}}return w},x)}return f.getInitialState=c,f}var m9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",p9=(e=21)=>{let t="",r=e;for(;r--;)t+=m9[Math.random()*64|0];return t},x9=Symbol.for("rtk-slice-createasyncthunk");function g9(e,t){return`${e}/${t}`}function y9({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[x9];return function(l){const{name:c,reducerPath:f=c}=l;if(!c)throw new Error($a(11));const x=(typeof l.reducers=="function"?l.reducers(b9()):l.reducers)||{},b=Object.keys(x),y={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},w={addCase(V,q){const Y=typeof V=="string"?V:V.type;if(!Y)throw new Error($a(12));if(Y in y.sliceCaseReducersByType)throw new Error($a(13));return y.sliceCaseReducersByType[Y]=q,w},addMatcher(V,q){return y.sliceMatchers.push({matcher:V,reducer:q}),w},exposeAction(V,q){return y.actionCreators[V]=q,w},exposeCaseReducer(V,q){return y.sliceCaseReducersByName[V]=q,w}};b.forEach(V=>{const q=x[V],Y={reducerName:V,type:g9(c,V),createNotation:typeof l.reducers=="function"};A9(q)?E9(Y,q,w,t):w9(Y,q,w)});function A(){const[V={},q=[],Y=void 0]=typeof l.extraReducers=="function"?mO(l.extraReducers):[l.extraReducers],L={...V,...y.sliceCaseReducersByType};return h9(l.initialState,J=>{for(let K in L)J.addCase(K,L[K]);for(let K of y.sliceMatchers)J.addMatcher(K.matcher,K.reducer);for(let K of q)J.addMatcher(K.matcher,K.reducer);Y&&J.addDefaultCase(Y)})}const T=V=>V,_=new Map,j=new WeakMap;let M;function k(V,q){return M||(M=A()),M(V,q)}function R(){return M||(M=A()),M.getInitialState()}function F(V,q=!1){function Y(J){let K=J[V];return typeof K>"u"&&q&&(K=P0(j,Y,R)),K}function L(J=T){const K=P0(_,q,()=>new WeakMap);return P0(K,J,()=>{const Ce={};for(const[oe,ee]of Object.entries(l.selectors??{}))Ce[oe]=v9(ee,J,()=>P0(j,J,R),q);return Ce})}return{reducerPath:V,getSelectors:L,get selectors(){return L(Y)},selectSlice:Y}}const U={name:c,reducer:k,actions:y.actionCreators,caseReducers:y.sliceCaseReducersByName,getInitialState:R,...F(f),injectInto(V,{reducerPath:q,...Y}={}){const L=q??f;return V.inject({reducerPath:L,reducer:k},Y),{...U,...F(L,!0)}}};return U}}function v9(e,t,r,n){function l(c,...f){let x=t(c);return typeof x>"u"&&n&&(x=r()),e(x,...f)}return l.unwrapped=e,l}var ka=y9();function b9(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function w9({type:e,reducerName:t,createNotation:r},n,l){let c,f;if("reducer"in n){if(r&&!S9(n))throw new Error($a(17));c=n.reducer,f=n.prepare}else c=n;l.addCase(e,c).exposeCaseReducer(t,c).exposeAction(t,f?gi(e,f):gi(e))}function A9(e){return e._reducerDefinitionType==="asyncThunk"}function S9(e){return e._reducerDefinitionType==="reducerWithPrepare"}function E9({type:e,reducerName:t},r,n,l){if(!l)throw new Error($a(18));const{payloadCreator:c,fulfilled:f,pending:x,rejected:b,settled:y,options:w}=r,A=l(e,c,w);n.exposeAction(t,A),f&&n.addCase(A.fulfilled,f),x&&n.addCase(A.pending,x),b&&n.addCase(A.rejected,b),y&&n.addMatcher(A.settled,y),n.exposeCaseReducer(t,{fulfilled:f||L0,pending:x||L0,rejected:b||L0,settled:y||L0})}function L0(){}var N9="task",pO="listener",xO="completed",jv="cancelled",C9=`task-${jv}`,T9=`task-${xO}`,py=`${pO}-${jv}`,O9=`${pO}-${xO}`,Om=class{constructor(e){ex(this,"name","TaskAbortError");ex(this,"message");this.code=e,this.message=`${N9} ${jv} (reason: ${e})`}},kv=(e,t)=>{if(typeof e!="function")throw new TypeError($a(32))},Eh=()=>{},gO=(e,t=Eh)=>(e.catch(t),e),yO=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Do=e=>{if(e.aborted)throw new Om(e.reason)};function vO(e,t){let r=Eh;return new Promise((n,l)=>{const c=()=>l(new Om(e.reason));if(e.aborted){c();return}r=yO(e,c),t.finally(()=>r()).then(n,l)}).finally(()=>{r=Eh})}var I9=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Om?"cancelled":"rejected",error:r}}finally{t==null||t()}},Nh=e=>t=>gO(vO(e,t).then(r=>(Do(e),r))),bO=e=>{const t=Nh(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Xc}=Object,j3={},Im="listenerMiddleware",_9=(e,t)=>{const r=n=>yO(e,()=>n.abort(e.reason));return(n,l)=>{kv(n);const c=new AbortController;r(c);const f=I9(async()=>{Do(e),Do(c.signal);const x=await n({pause:Nh(c.signal),delay:bO(c.signal),signal:c.signal});return Do(c.signal),x},()=>c.abort(T9));return l!=null&&l.autoJoin&&t.push(f.catch(Eh)),{result:Nh(e)(f),cancel(){c.abort(C9)}}}},M9=(e,t)=>{const r=async(n,l)=>{Do(t);let c=()=>{};const x=[new Promise((b,y)=>{let w=e({predicate:n,effect:(A,T)=>{T.unsubscribe(),b([A,T.getState(),T.getOriginalState()])}});c=()=>{w(),y()}})];l!=null&&x.push(new Promise(b=>setTimeout(b,l,null)));try{const b=await vO(t,Promise.race(x));return Do(t),b}finally{c()}};return(n,l)=>gO(r(n,l))},wO=e=>{let{type:t,actionCreator:r,matcher:n,predicate:l,effect:c}=e;if(t)l=gi(t).match;else if(r)t=r.type,l=r.match;else if(n)l=n;else if(!l)throw new Error($a(21));return kv(c),{predicate:l,type:t,effect:c}},AO=Xc(e=>{const{type:t,predicate:r,effect:n}=wO(e);return{id:p9(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error($a(22))}}},{withTypes:()=>AO}),k3=(e,t)=>{const{type:r,effect:n,predicate:l}=wO(t);return Array.from(e.values()).find(c=>(typeof r=="string"?c.type===r:c.predicate===l)&&c.effect===n)},xy=e=>{e.pending.forEach(t=>{t.abort(py)})},j9=(e,t)=>()=>{for(const r of t.keys())xy(r);e.clear()},D3=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},SO=Xc(gi(`${Im}/add`),{withTypes:()=>SO}),k9=gi(`${Im}/removeAll`),EO=Xc(gi(`${Im}/remove`),{withTypes:()=>EO}),D9=(...e)=>{console.error(`${Im}/error`,...e)},Qd=(e={})=>{const t=new Map,r=new Map,n=_=>{const j=r.get(_)??0;r.set(_,j+1)},l=_=>{const j=r.get(_)??1;j===1?r.delete(_):r.set(_,j-1)},{extra:c,onError:f=D9}=e;kv(f);const x=_=>(_.unsubscribe=()=>t.delete(_.id),t.set(_.id,_),j=>{_.unsubscribe(),j!=null&&j.cancelActive&&xy(_)}),b=_=>{const j=k3(t,_)??AO(_);return x(j)};Xc(b,{withTypes:()=>b});const y=_=>{const j=k3(t,_);return j&&(j.unsubscribe(),_.cancelActive&&xy(j)),!!j};Xc(y,{withTypes:()=>y});const w=async(_,j,M,k)=>{const R=new AbortController,F=M9(b,R.signal),U=[];try{_.pending.add(R),n(_),await Promise.resolve(_.effect(j,Xc({},M,{getOriginalState:k,condition:(V,q)=>F(V,q).then(Boolean),take:F,delay:bO(R.signal),pause:Nh(R.signal),extra:c,signal:R.signal,fork:_9(R.signal,U),unsubscribe:_.unsubscribe,subscribe:()=>{t.set(_.id,_)},cancelActiveListeners:()=>{_.pending.forEach((V,q,Y)=>{V!==R&&(V.abort(py),Y.delete(V))})},cancel:()=>{R.abort(py),_.pending.delete(R)},throwIfCancelled:()=>{Do(R.signal)}})))}catch(V){V instanceof Om||D3(f,V,{raisedBy:"effect"})}finally{await Promise.all(U),R.abort(O9),l(_),_.pending.delete(R)}},A=j9(t,r);return{middleware:_=>j=>M=>{if(!JT(M))return j(M);if(SO.match(M))return b(M.payload);if(k9.match(M)){A();return}if(EO.match(M))return y(M.payload);let k=_.getState();const R=()=>{if(k===j3)throw new Error($a(23));return k};let F;try{if(F=j(M),t.size>0){const U=_.getState(),V=Array.from(t.values());for(const q of V){let Y=!1;try{Y=q.predicate(M,U,k)}catch(L){Y=!1,D3(f,L,{raisedBy:"predicate"})}Y&&w(q,M,_,R)}}}finally{k=j3}return F},startListening:b,stopListening:y,clearListeners:A}};function $a(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var R9={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},NO=ka({name:"chartLayout",initialState:R9,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,l,c;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(l=t.payload.bottom)!==null&&l!==void 0?l:0,e.margin.left=(c=t.payload.left)!==null&&c!==void 0?c:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:P9,setLayout:L9,setChartSize:B9,setScale:z9}=NO.actions,U9=NO.reducer;function CO(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Gt(e){return Number.isFinite(e)}function is(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function R3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function Hc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R3(Object(r),!0).forEach(function(n){F9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F9(e,t,r){return(t=H9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H9(e){var t=G9(e,"string");return typeof t=="symbol"?t:t+""}function G9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vn(e,t,r){return rn(e)||rn(t)?r:as(t)?Zc(e,t,r):typeof t=="function"?t(e):r}var V9=(e,t,r)=>{if(t&&r){var{width:n,height:l}=r,{align:c,verticalAlign:f,layout:x}=t;if((x==="vertical"||x==="horizontal"&&f==="middle")&&c!=="center"&&tt(e[c]))return Hc(Hc({},e),{},{[c]:e[c]+(n||0)});if((x==="horizontal"||x==="vertical"&&c==="center")&&f!=="middle"&&tt(e[f]))return Hc(Hc({},e),{},{[f]:e[f]+(l||0)})}return e},cs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",TO=(e,t,r,n)=>{if(n)return e.map(x=>x.coordinate);var l,c,f=e.map(x=>(x.coordinate===t&&(l=!0),x.coordinate===r&&(c=!0),x.coordinate));return l||f.push(t),c||f.push(r),f},OO=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:l,range:c,scale:f,realScaleType:x,isCategorical:b,categoricalDomain:y,tickCount:w,ticks:A,niceTicks:T,axisType:_}=e;if(!f)return null;var j=x==="scaleBand"&&f.bandwidth?f.bandwidth()/2:2,M=l==="category"&&f.bandwidth?f.bandwidth()/j:0;if(M=_==="angleAxis"&&c&&c.length>=2?Oa(c[0]-c[1])*2*M:M,A||T){var k=(A||T||[]).map((R,F)=>{var U=n?n.indexOf(R):R,V=f.map(U);return Gt(V)?{coordinate:V+M,value:R,offset:M,index:F}:null}).filter(Ia);return k}return b&&y?y.map((R,F)=>{var U=f.map(R);return Gt(U)?{coordinate:U+M,value:R,index:F,offset:M}:null}).filter(Ia):f.ticks&&w!=null?f.ticks(w).map((R,F)=>{var U=f.map(R);return Gt(U)?{coordinate:U+M,value:R,index:F,offset:M}:null}).filter(Ia):f.domain().map((R,F)=>{var U=f.map(R);return Gt(U)?{coordinate:U+M,value:n?n[R]:R,index:F,offset:M}:null}).filter(Ia)},Y9=(e,t)=>{if(!t||t.length!==2||!tt(t[0])||!tt(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),l=[e[0],e[1]];return(!tt(e[0])||e[0]<r)&&(l[0]=r),(!tt(e[1])||e[1]>n)&&(l[1]=n),l[0]>n&&(l[0]=n),l[1]<r&&(l[1]=r),l},q9=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var l=0;l<n;++l)for(var c=0,f=0,x=0;x<r;++x){var b=e[x],y=b==null?void 0:b[l];if(y!=null){var w=y[1],A=y[0],T=Ri(w)?A:w;T>=0?(y[0]=c,c+=T,y[1]=c):(y[0]=f,f+=T,y[1]=f)}}}},X9=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var l=0;l<n;++l)for(var c=0,f=0;f<r;++f){var x=e[f],b=x==null?void 0:x[l];if(b!=null){var y=Ri(b[1])?b[0]:b[1];y>=0?(b[0]=c,c+=y,b[1]=c):(b[0]=0,b[1]=0)}}}},W9={sign:q9,expand:AR,none:Uo,silhouette:SR,wiggle:ER,positive:X9},K9=(e,t,r)=>{var n,l=(n=W9[r])!==null&&n!==void 0?n:Uo,c=wR().keys(t).value((x,b)=>Number(vn(x,b,0))).order(iy).offset(l),f=c(e);return f.forEach((x,b)=>{x.forEach((y,w)=>{var A=vn(e[w],t[b],0);Array.isArray(A)&&A.length===2&&tt(A[0])&&tt(A[1])&&(y[0]=A[0],y[1]=A[1])})}),f};function IO(e){return e==null?void 0:String(e)}function P3(e){var{axis:t,ticks:r,bandSize:n,entry:l,index:c,dataKey:f}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!rn(l[t.dataKey])){var x=RT(r,"value",l[t.dataKey]);if(x)return x.coordinate+n/2}return r!=null&&r[c]?r[c].coordinate+n/2:null}var b=vn(l,rn(f)?t.dataKey:f),y=t.scale.map(b);return tt(y)?y:null}var L3=e=>{var{axis:t,ticks:r,offset:n,bandSize:l,entry:c,index:f}=e;if(t.type==="category")return r[f]?r[f].coordinate+n:null;var x=vn(c,t.dataKey,t.scale.domain()[f]);if(rn(x))return null;var b=t.scale.map(x);return tt(b)?b-l/2+n:null},Z9=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),l=Math.max(r[0],r[1]);return n<=0&&l>=0?0:l<0?l:n}return r[0]},$9=e=>{var t=e.flat(2).filter(tt);return[Math.min(...t),Math.max(...t)]},Q9=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],J9=(e,t,r)=>{if(e!=null)return Q9(Object.keys(e).reduce((n,l)=>{var c=e[l];if(!c)return n;var{stackedData:f}=c,x=f.reduce((b,y)=>{var w=CO(y,t,r),A=$9(w);return!Gt(A[0])||!Gt(A[1])?b:[Math.min(b[0],A[0]),Math.max(b[1],A[1])]},[1/0,-1/0]);return[Math.min(x[0],n[0]),Math.max(x[1],n[1])]},[1/0,-1/0]))},B3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,z3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Qc=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var l=bm(t,w=>w.coordinate),c=1/0,f=1,x=l.length;f<x;f++){var b=l[f],y=l[f-1];c=Math.min(((b==null?void 0:b.coordinate)||0)-((y==null?void 0:y.coordinate)||0),c)}return c===1/0?0:c}return r?void 0:0};function U3(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:l,name:c}=e;return Hc(Hc({},t),{},{dataKey:r,payload:n,value:l,name:c})}function _m(e,t){if(e)return String(e);if(typeof t=="string")return t}var eP=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},tP=(e,t)=>t==="centric"?e.angle:e.radius,el=e=>e.layout.width,tl=e=>e.layout.height,rP=e=>e.layout.scale,_O=e=>e.layout.margin,Mm=Se(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),jm=Se(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),nP="data-recharts-item-index",aP="data-recharts-item-id",Jd=60;function F3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function B0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F3(Object(r),!0).forEach(function(n){iP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iP(e,t,r){return(t=sP(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sP(e){var t=lP(e,"string");return typeof t=="symbol"?t:t+""}function lP(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oP=e=>e.brush.height;function cP(e){var t=jm(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var l=typeof n.width=="number"?n.width:Jd;return r+l}return r},0)}function uP(e){var t=jm(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var l=typeof n.width=="number"?n.width:Jd;return r+l}return r},0)}function dP(e){var t=Mm(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function fP(e){var t=Mm(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Bn=Se([el,tl,_O,oP,cP,uP,dP,fP,ZT,B7],(e,t,r,n,l,c,f,x,b,y)=>{var w={left:(r.left||0)+l,right:(r.right||0)+c},A={top:(r.top||0)+f,bottom:(r.bottom||0)+x},T=B0(B0({},A),w),_=T.bottom;T.bottom+=n,T=V9(T,b,y);var j=e-T.left-T.right,M=t-T.top-T.bottom;return B0(B0({brushBottom:_},T),{},{width:Math.max(j,0),height:Math.max(M,0)})}),hP=Se(Bn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Dv=Se(el,tl,(e,t)=>({x:0,y:0,width:e,height:t})),mP=O.createContext(null),ia=()=>O.useContext(mP)!=null,km=e=>e.brush,Dm=Se([km,Bn,_O],(e,t,r)=>({height:e.height,x:tt(e.x)?e.x:t.left,y:tt(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:tt(e.width)?e.width:t.width})),cg={},ug={},dg={},H3;function pP(){return H3||(H3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:l,edges:c}={}){let f,x=null;const b=c!=null&&c.includes("leading"),y=c==null||c.includes("trailing"),w=()=>{x!==null&&(r.apply(f,x),f=void 0,x=null)},A=()=>{y&&w(),M()};let T=null;const _=()=>{T!=null&&clearTimeout(T),T=setTimeout(()=>{T=null,A()},n)},j=()=>{T!==null&&(clearTimeout(T),T=null)},M=()=>{j(),f=void 0,x=null},k=()=>{w()},R=function(...F){if(l!=null&&l.aborted)return;f=this,x=F;const U=T==null;_(),b&&U&&w()};return R.schedule=_,R.cancel=M,R.flush=k,l==null||l.addEventListener("abort",M,{once:!0}),R}e.debounce=t})(dg)),dg}var G3;function xP(){return G3||(G3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pP();function r(n,l=0,c={}){typeof c!="object"&&(c={});const{leading:f=!1,trailing:x=!0,maxWait:b}=c,y=Array(2);f&&(y[0]="leading"),x&&(y[1]="trailing");let w,A=null;const T=t.debounce(function(...M){w=n.apply(this,M),A=null},l,{edges:y}),_=function(...M){return b!=null&&(A===null&&(A=Date.now()),Date.now()-A>=b)?(w=n.apply(this,M),A=Date.now(),T.cancel(),T.schedule(),w):(T.apply(this,M),w)},j=()=>(T.flush(),w);return _.cancel=T.cancel,_.flush=j,_}e.debounce=r})(ug)),ug}var V3;function gP(){return V3||(V3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xP();function r(n,l=0,c={}){const{leading:f=!0,trailing:x=!0}=c;return t.debounce(n,l,{leading:f,maxWait:l,trailing:x})}e.throttle=r})(cg)),cg}var fg,Y3;function yP(){return Y3||(Y3=1,fg=gP().throttle),fg}var vP=yP();const bP=ls(vP);var Ch=function(t,r){for(var n=arguments.length,l=new Array(n>2?n-2:0),c=2;c<n;c++)l[c-2]=arguments[c];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=0;console.warn(r.replace(/%s/g,()=>l[f++]))}},ts={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},MO=(e,t,r)=>{var{width:n=ts.width,height:l=ts.height,aspect:c,maxHeight:f}=r,x=Fo(n)?e:Number(n),b=Fo(l)?t:Number(l);return c&&c>0&&(x?b=x/c:b&&(x=b*c),f&&b!=null&&b>f&&(b=f)),{calculatedWidth:x,calculatedHeight:b}},wP={width:0,height:0,overflow:"visible"},AP={width:0,overflowX:"visible"},SP={height:0,overflowY:"visible"},EP={},NP=e=>{var{width:t,height:r}=e,n=Fo(t),l=Fo(r);return n&&l?wP:n?AP:l?SP:EP};function CP(e){var{width:t,height:r,aspect:n}=e,l=t,c=r;return l===void 0&&c===void 0?(l=ts.width,c=ts.height):l===void 0?l=n&&n>0?void 0:ts.width:c===void 0&&(c=n&&n>0?void 0:ts.height),{width:l,height:c}}function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gy.apply(null,arguments)}function q3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function X3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q3(Object(r),!0).forEach(function(n){TP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TP(e,t,r){return(t=OP(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OP(e){var t=IP(e,"string");return typeof t=="symbol"?t:t+""}function IP(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jO=O.createContext(ts.initialDimension);function _P(e){return is(e.width)&&is(e.height)}function kO(e){var{children:t,width:r,height:n}=e,l=O.useMemo(()=>({width:r,height:n}),[r,n]);return _P(l)?O.createElement(jO.Provider,{value:l},t):null}var Rv=()=>O.useContext(jO),MP=O.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=ts.initialDimension,width:l,height:c,minWidth:f=ts.minWidth,minHeight:x,maxHeight:b,children:y,debounce:w=ts.debounce,id:A,className:T,onResize:_,style:j={}}=e,M=O.useRef(null),k=O.useRef();k.current=_,O.useImperativeHandle(t,()=>M.current);var[R,F]=O.useState({containerWidth:n.width,containerHeight:n.height}),U=O.useCallback((J,K)=>{F(Ce=>{var oe=Math.round(J),ee=Math.round(K);return Ce.containerWidth===oe&&Ce.containerHeight===ee?Ce:{containerWidth:oe,containerHeight:ee}})},[]);O.useEffect(()=>{if(M.current==null||typeof ResizeObserver>"u")return Zo;var J=ee=>{var ce,fe=ee[0];if(fe!=null){var{width:Z,height:te}=fe.contentRect;U(Z,te),(ce=k.current)===null||ce===void 0||ce.call(k,Z,te)}};w>0&&(J=bP(J,w,{trailing:!0,leading:!1}));var K=new ResizeObserver(J),{width:Ce,height:oe}=M.current.getBoundingClientRect();return U(Ce,oe),K.observe(M.current),()=>{K.disconnect()}},[U,w]);var{containerWidth:V,containerHeight:q}=R;Ch(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:Y,calculatedHeight:L}=MO(V,q,{width:l,height:c,aspect:r,maxHeight:b});return Ch(Y!=null&&Y>0||L!=null&&L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Y,L,l,c,f,x,r),O.createElement("div",{id:A?"".concat(A):void 0,className:Nr("recharts-responsive-container",T),style:X3(X3({},j),{},{width:l,height:c,minWidth:f,minHeight:x,maxHeight:b}),ref:M},O.createElement("div",{style:NP({width:l,height:c})},O.createElement(kO,{width:Y,height:L},y)))}),eh=O.forwardRef((e,t)=>{var r=Rv();if(is(r.width)&&is(r.height))return e.children;var{width:n,height:l}=CP({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:c,calculatedHeight:f}=MO(void 0,void 0,{width:n,height:l,aspect:e.aspect,maxHeight:e.maxHeight});return tt(c)&&tt(f)?O.createElement(kO,{width:c,height:f},e.children):O.createElement(MP,gy({},e,{width:n,height:l,ref:t}))});function Pv(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Rm=()=>{var e,t=ia(),r=gt(hP),n=gt(Dm),l=(e=gt(km))===null||e===void 0?void 0:e.padding;return!t||!n||!l?r:{width:n.width-l.left-l.right,height:n.height-l.top-l.bottom,x:l.left,y:l.top}},jP={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},DO=()=>{var e;return(e=gt(Bn))!==null&&e!==void 0?e:jP},RO=()=>gt(el),PO=()=>gt(tl),fr=e=>e.layout.layoutType,$o=()=>gt(fr),Lv=()=>{var e=$o();if(e==="horizontal"||e==="vertical")return e},LO=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},kP=()=>{var e=$o();return e!==void 0},ef=e=>{var t=fn(),r=ia(),{width:n,height:l}=e,c=Rv(),f=n,x=l;return c&&(f=c.width>0?c.width:n,x=c.height>0?c.height:l),O.useEffect(()=>{!r&&is(f)&&is(x)&&t(B9({width:f,height:x}))},[t,r,f,x]),null},BO=Symbol.for("immer-nothing"),W3=Symbol.for("immer-draftable"),Ja=Symbol.for("immer-state");function ji(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var kd=Object.getPrototypeOf;function Jc(e){return!!e&&!!e[Ja]}function Go(e){var t;return e?zO(e)||Array.isArray(e)||!!e[W3]||!!((t=e.constructor)!=null&&t[W3])||tf(e)||Lm(e):!1}var DP=Object.prototype.constructor.toString(),K3=new WeakMap;function zO(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=K3.get(r);return n===void 0&&(n=Function.toString.call(r),K3.set(r,n)),n===DP}function Th(e,t,r=!0){Pm(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(l=>{t(l,e[l],e)}):e.forEach((n,l)=>t(l,n,e))}function Pm(e){const t=e[Ja];return t?t.type_:Array.isArray(e)?1:tf(e)?2:Lm(e)?3:0}function yy(e,t){return Pm(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function UO(e,t,r){const n=Pm(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function RP(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function tf(e){return e instanceof Map}function Lm(e){return e instanceof Set}function Co(e){return e.copy_||e.base_}function vy(e,t){if(tf(e))return new Map(e);if(Lm(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=zO(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Ja];let l=Reflect.ownKeys(n);for(let c=0;c<l.length;c++){const f=l[c],x=n[f];x.writable===!1&&(x.writable=!0,x.configurable=!0),(x.get||x.set)&&(n[f]={configurable:!0,writable:!0,enumerable:x.enumerable,value:e[f]})}return Object.create(kd(e),n)}else{const n=kd(e);if(n!==null&&r)return{...e};const l=Object.create(n);return Object.assign(l,e)}}function Bv(e,t=!1){return Bm(e)||Jc(e)||!Go(e)||(Pm(e)>1&&Object.defineProperties(e,{set:z0,add:z0,clear:z0,delete:z0}),Object.freeze(e),t&&Object.values(e).forEach(r=>Bv(r,!0))),e}function PP(){ji(2)}var z0={value:PP};function Bm(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var LP={};function Vo(e){const t=LP[e];return t||ji(0,e),t}var Dd;function FO(){return Dd}function BP(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Z3(e,t){t&&(Vo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function by(e){wy(e),e.drafts_.forEach(zP),e.drafts_=null}function wy(e){e===Dd&&(Dd=e.parent_)}function $3(e){return Dd=BP(Dd,e)}function zP(e){const t=e[Ja];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Q3(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Ja].modified_&&(by(t),ji(4)),Go(e)&&(e=Oh(t,e),t.parent_||Ih(t,e)),t.patches_&&Vo("Patches").generateReplacementPatches_(r[Ja].base_,e,t.patches_,t.inversePatches_)):e=Oh(t,r,[]),by(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==BO?e:void 0}function Oh(e,t,r){if(Bm(t))return t;const n=e.immer_.shouldUseStrictIteration(),l=t[Ja];if(!l)return Th(t,(c,f)=>J3(e,l,t,c,f,r),n),t;if(l.scope_!==e)return t;if(!l.modified_)return Ih(e,l.base_,!0),l.base_;if(!l.finalized_){l.finalized_=!0,l.scope_.unfinalizedDrafts_--;const c=l.copy_;let f=c,x=!1;l.type_===3&&(f=new Set(c),c.clear(),x=!0),Th(f,(b,y)=>J3(e,l,c,b,y,r,x),n),Ih(e,c,!1),r&&e.patches_&&Vo("Patches").generatePatches_(l,r,e.patches_,e.inversePatches_)}return l.copy_}function J3(e,t,r,n,l,c,f){if(l==null||typeof l!="object"&&!f)return;const x=Bm(l);if(!(x&&!f)){if(Jc(l)){const b=c&&t&&t.type_!==3&&!yy(t.assigned_,n)?c.concat(n):void 0,y=Oh(e,l,b);if(UO(r,n,y),Jc(y))e.canAutoFreeze_=!1;else return}else f&&r.add(l);if(Go(l)&&!x){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===l&&x)return;Oh(e,l),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(tf(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Ih(e,l)}}}function Ih(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Bv(t,r)}function UP(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:FO(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let l=n,c=zv;r&&(l=[n],c=Rd);const{revoke:f,proxy:x}=Proxy.revocable(l,c);return n.draft_=x,n.revoke_=f,x}var zv={get(e,t){if(t===Ja)return e;const r=Co(e);if(!yy(r,t))return FP(e,r,t);const n=r[t];return e.finalized_||!Go(n)?n:n===hg(e.base_,t)?(mg(e),e.copy_[t]=Sy(n,e)):n},has(e,t){return t in Co(e)},ownKeys(e){return Reflect.ownKeys(Co(e))},set(e,t,r){const n=HO(Co(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const l=hg(Co(e),t),c=l==null?void 0:l[Ja];if(c&&c.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(RP(r,l)&&(r!==void 0||yy(e.base_,t)))return!0;mg(e),Ay(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return hg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,mg(e),Ay(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Co(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){ji(11)},getPrototypeOf(e){return kd(e.base_)},setPrototypeOf(){ji(12)}},Rd={};Th(zv,(e,t)=>{Rd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Rd.deleteProperty=function(e,t){return Rd.set.call(this,e,t,void 0)};Rd.set=function(e,t,r){return zv.set.call(this,e[0],t,r,e[0])};function hg(e,t){const r=e[Ja];return(r?Co(r):e)[t]}function FP(e,t,r){var l;const n=HO(t,r);return n?"value"in n?n.value:(l=n.get)==null?void 0:l.call(e.draft_):void 0}function HO(e,t){if(!(t in e))return;let r=kd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=kd(r)}}function Ay(e){e.modified_||(e.modified_=!0,e.parent_&&Ay(e.parent_))}function mg(e){e.copy_||(e.copy_=vy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var HP=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const c=r;r=t;const f=this;return function(b=c,...y){return f.produce(b,w=>r.call(this,w,...y))}}typeof r!="function"&&ji(6),n!==void 0&&typeof n!="function"&&ji(7);let l;if(Go(t)){const c=$3(this),f=Sy(t,void 0);let x=!0;try{l=r(f),x=!1}finally{x?by(c):wy(c)}return Z3(c,n),Q3(l,c)}else if(!t||typeof t!="object"){if(l=r(t),l===void 0&&(l=t),l===BO&&(l=void 0),this.autoFreeze_&&Bv(l,!0),n){const c=[],f=[];Vo("Patches").generateReplacementPatches_(t,l,c,f),n(c,f)}return l}else ji(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(f,...x)=>this.produceWithPatches(f,b=>t(b,...x));let n,l;return[this.produce(t,r,(f,x)=>{n=f,l=x}),n,l]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Go(e)||ji(8),Jc(e)&&(e=GP(e));const t=$3(this),r=Sy(e,void 0);return r[Ja].isManual_=!0,wy(t),r}finishDraft(e,t){const r=e&&e[Ja];(!r||!r.isManual_)&&ji(9);const{scope_:n}=r;return Z3(n,t),Q3(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const l=t[r];if(l.path.length===0&&l.op==="replace"){e=l.value;break}}r>-1&&(t=t.slice(r+1));const n=Vo("Patches").applyPatches_;return Jc(e)?n(e,t):this.produce(e,l=>n(l,t))}};function Sy(e,t){const r=tf(e)?Vo("MapSet").proxyMap_(e,t):Lm(e)?Vo("MapSet").proxySet_(e,t):UP(e,t);return(t?t.scope_:FO()).drafts_.push(r),r}function GP(e){return Jc(e)||ji(10,e),GO(e)}function GO(e){if(!Go(e)||Bm(e))return e;const t=e[Ja];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=vy(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=vy(e,!0);return Th(r,(l,c)=>{UO(r,l,GO(c))},n),t&&(t.finalized_=!1),r}var VP=new HP;VP.produce;var YP={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},VO=ka({name:"legend",initialState:YP,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Gr()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,l=Di(e).payload.indexOf(r);l>-1&&(e.payload[l]=n)},prepare:Gr()},removeLegendPayload:{reducer(e,t){var r=Di(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Gr()}}}),{setLegendSize:tQ,setLegendSettings:rQ,addLegendPayload:qP,replaceLegendPayload:XP,removeLegendPayload:WP}=VO.actions,KP=VO.reducer;function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ey.apply(null,arguments)}function eE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function od(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eE(Object(r),!0).forEach(function(n){ZP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZP(e,t,r){return(t=$P(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $P(e){var t=QP(e,"string");return typeof t=="symbol"?t:t+""}function QP(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JP(e){return Array.isArray(e)&&as(e[0])&&as(e[1])?e.join(" ~ "):e}var Lc={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},eL=e=>{var{separator:t=Lc.separator,contentStyle:r,itemStyle:n,labelStyle:l=Lc.labelStyle,payload:c,formatter:f,itemSorter:x,wrapperClassName:b,labelClassName:y,label:w,labelFormatter:A,accessibilityLayer:T=Lc.accessibilityLayer}=e,_=()=>{if(c&&c.length){var q={padding:0,margin:0},Y=(x?bm(c,x):c).map((L,J)=>{if(L.type==="none")return null;var K=L.formatter||f||JP,{value:Ce,name:oe}=L,ee=Ce,ce=oe;if(K){var fe=K(Ce,oe,L,J,c);if(Array.isArray(fe))[ee,ce]=fe;else if(fe!=null)ee=fe;else return null}var Z=od(od({},Lc.itemStyle),{},{color:L.color||Lc.itemStyle.color},n);return O.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(J),style:Z},as(ce)?O.createElement("span",{className:"recharts-tooltip-item-name"},ce):null,as(ce)?O.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,O.createElement("span",{className:"recharts-tooltip-item-value"},ee),O.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return O.createElement("ul",{className:"recharts-tooltip-item-list",style:q},Y)}return null},j=od(od({},Lc.contentStyle),r),M=od({margin:0},l),k=!rn(w),R=k?w:"",F=Nr("recharts-default-tooltip",b),U=Nr("recharts-tooltip-label",y);k&&A&&c!==void 0&&c!==null&&(R=A(w,c));var V=T?{role:"status","aria-live":"assertive"}:{};return O.createElement("div",Ey({className:F,style:j},V),O.createElement("p",{className:U,style:M},O.isValidElement(R)?R:"".concat(R)),_())},cd="recharts-tooltip-wrapper",tL={visibility:"hidden"};function rL(e){var{coordinate:t,translateX:r,translateY:n}=e;return Nr(cd,{["".concat(cd,"-right")]:tt(r)&&t&&tt(t.x)&&r>=t.x,["".concat(cd,"-left")]:tt(r)&&t&&tt(t.x)&&r<t.x,["".concat(cd,"-bottom")]:tt(n)&&t&&tt(t.y)&&n>=t.y,["".concat(cd,"-top")]:tt(n)&&t&&tt(t.y)&&n<t.y})}function tE(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:l,position:c,reverseDirection:f,tooltipDimension:x,viewBox:b,viewBoxDimension:y}=e;if(c&&tt(c[n]))return c[n];var w=r[n]-x-(l>0?l:0),A=r[n]+l;if(t[n])return f[n]?w:A;var T=b[n];if(T==null)return 0;if(f[n]){var _=w,j=T;return _<j?Math.max(A,T):Math.max(w,T)}if(y==null)return 0;var M=A+x,k=T+y;return M>k?Math.max(w,T):Math.max(A,T)}function nL(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function aL(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:l,position:c,reverseDirection:f,tooltipBox:x,useTranslate3d:b,viewBox:y}=e,w,A,T;return x.height>0&&x.width>0&&r?(A=tE({allowEscapeViewBox:t,coordinate:r,key:"x",offset:l,position:c,reverseDirection:f,tooltipDimension:x.width,viewBox:y,viewBoxDimension:y.width}),T=tE({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:c,reverseDirection:f,tooltipDimension:x.height,viewBox:y,viewBoxDimension:y.height}),w=nL({translateX:A,translateY:T,useTranslate3d:b})):w=tL,{cssProperties:w,cssClasses:rL({translateX:A,translateY:T,coordinate:r})}}function rE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function U0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rE(Object(r),!0).forEach(function(n){Ny(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ny(e,t,r){return(t=iL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iL(e){var t=sL(e,"string");return typeof t=="symbol"?t:t+""}function sL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class lL extends O.PureComponent{constructor(){super(...arguments),Ny(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Ny(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,l,c;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(l=(c=this.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&l!==void 0?l:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:l,children:c,coordinate:f,hasPayload:x,isAnimationActive:b,offset:y,position:w,reverseDirection:A,useTranslate3d:T,viewBox:_,wrapperStyle:j,lastBoundingBox:M,innerRef:k,hasPortalFromProps:R}=this.props,F=typeof y=="number"?y:y.x,U=typeof y=="number"?y:y.y,{cssClasses:V,cssProperties:q}=aL({allowEscapeViewBox:r,coordinate:f,offsetLeft:F,offsetTop:U,position:w,reverseDirection:A,tooltipBox:{height:M.height,width:M.width},useTranslate3d:T,viewBox:_}),Y=R?{}:U0(U0({transition:b&&t?"transform ".concat(n,"ms ").concat(l):void 0},q),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&x?"visible":"hidden",position:"absolute",top:0,left:0}),L=U0(U0({},Y),{},{visibility:!this.state.dismissed&&t&&x?"visible":"hidden"},j);return O.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:V,style:L,ref:k},c)}}var YO=()=>{var e;return(e=gt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cy.apply(null,arguments)}function nE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function aE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nE(Object(r),!0).forEach(function(n){oL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oL(e,t,r){return(t=cL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cL(e){var t=uL(e,"string");return typeof t=="symbol"?t:t+""}function uL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iE={curveBasisClosed:uR,curveBasisOpen:dR,curveBasis:cR,curveBumpX:KD,curveBumpY:ZD,curveLinearClosed:fR,curveLinear:ym,curveMonotoneX:hR,curveMonotoneY:mR,curveNatural:pR,curveStep:xR,curveStepAfter:yR,curveStepBefore:gR},_h=e=>Gt(e.x)&&Gt(e.y),sE=e=>e.base!=null&&_h(e.base)&&_h(e),ud=e=>e.x,dd=e=>e.y,dL=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Zd(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=iE["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return iE[r]||ym},lE={connectNulls:!1,type:"linear"},fL=e=>{var{type:t=lE.type,points:r=[],baseLine:n,layout:l,connectNulls:c=lE.connectNulls}=e,f=dL(t,l),x=c?r.filter(_h):r;if(Array.isArray(n)){var b,y=r.map((j,M)=>aE(aE({},j),{},{base:n[M]}));l==="vertical"?b=j0().y(dd).x1(ud).x0(j=>j.base.x):b=j0().x(ud).y1(dd).y0(j=>j.base.y);var w=b.defined(sE).curve(f),A=c?y.filter(sE):y;return w(A)}var T;l==="vertical"&&tt(n)?T=j0().y(dd).x1(ud).x0(n):tt(n)?T=j0().x(ud).y1(dd).y0(n):T=AT().x(ud).y(dd);var _=T.defined(_h).curve(f);return _(x)},wd=e=>{var{className:t,points:r,path:n,pathRef:l}=e,c=$o();if((!r||!r.length)&&!n)return null;var f={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||c,connectNulls:e.connectNulls},x=r&&r.length?fL(f):n;return O.createElement("path",Cy({},xi(e),Sv(e),{className:Nr("recharts-curve",t),d:x===null?void 0:x,ref:l}))},hL=["x","y","top","left","width","height","className"];function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ty.apply(null,arguments)}function oE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function mL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oE(Object(r),!0).forEach(function(n){pL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pL(e,t,r){return(t=xL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xL(e){var t=gL(e,"string");return typeof t=="symbol"?t:t+""}function gL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yL(e,t){if(e==null)return{};var r,n,l=vL(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function vL(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bL=(e,t,r,n,l,c)=>"M".concat(e,",").concat(l,"v").concat(n,"M").concat(c,",").concat(t,"h").concat(r),wL=e=>{var{x:t=0,y:r=0,top:n=0,left:l=0,width:c=0,height:f=0,className:x}=e,b=yL(e,hL),y=mL({x:t,y:r,top:n,left:l,width:c,height:f},b);return!tt(t)||!tt(r)||!tt(c)||!tt(f)||!tt(n)||!tt(l)?null:O.createElement("path",Ty({},ha(y),{className:Nr("recharts-cross",x),d:bL(t,r,c,f,n,l)}))};function AL(e,t,r,n){var l=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-l:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-l,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function cE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function uE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cE(Object(r),!0).forEach(function(n){SL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SL(e,t,r){return(t=EL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EL(e){var t=NL(e,"string");return typeof t=="symbol"?t:t+""}function NL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CL=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),qO=(e,t,r)=>e.map(n=>"".concat(CL(n)," ").concat(t,"ms ").concat(r)).join(","),TL=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(l=>n.includes(l))),Pd=(e,t)=>Object.keys(t).reduce((r,n)=>uE(uE({},r),{},{[n]:e(n,t[n])}),{});function dE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function Cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dE(Object(r),!0).forEach(function(n){OL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OL(e,t,r){return(t=IL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IL(e){var t=_L(e,"string");return typeof t=="symbol"?t:t+""}function _L(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mh=(e,t,r)=>e+(t-e)*r,Oy=e=>{var{from:t,to:r}=e;return t!==r},XO=(e,t,r)=>{var n=Pd((l,c)=>{if(Oy(c)){var[f,x]=e(c.from,c.to,c.velocity);return Cn(Cn({},c),{},{from:f,velocity:x})}return c},t);return r<1?Pd((l,c)=>Oy(c)&&n[l]!=null?Cn(Cn({},c),{},{velocity:Mh(c.velocity,n[l].velocity,r),from:Mh(c.from,n[l].from,r)}):c,t):XO(e,n,r-1)};function ML(e,t,r,n,l,c){var f,x=n.reduce((T,_)=>Cn(Cn({},T),{},{[_]:{from:e[_],velocity:0,to:t[_]}}),{}),b=()=>Pd((T,_)=>_.from,x),y=()=>!Object.values(x).filter(Oy).length,w=null,A=T=>{f||(f=T);var _=T-f,j=_/r.dt;x=XO(r,x,j),l(Cn(Cn(Cn({},e),t),b())),f=T,y()||(w=c.setTimeout(A))};return()=>(w=c.setTimeout(A),()=>{var T;(T=w)===null||T===void 0||T()})}function jL(e,t,r,n,l,c,f){var x=null,b=l.reduce((A,T)=>{var _=e[T],j=t[T];return _==null||j==null?A:Cn(Cn({},A),{},{[T]:[_,j]})},{}),y,w=A=>{y||(y=A);var T=(A-y)/n,_=Pd((M,k)=>Mh(...k,r(T)),b);if(c(Cn(Cn(Cn({},e),t),_)),T<1)x=f.setTimeout(w);else{var j=Pd((M,k)=>Mh(...k,r(1)),b);c(Cn(Cn(Cn({},e),t),j))}};return()=>(x=f.setTimeout(w),()=>{var A;(A=x)===null||A===void 0||A()})}const kL=(e,t,r,n,l,c)=>{var f=TL(e,t);return r==null?()=>(l(Cn(Cn({},e),t)),()=>{}):r.isStepper===!0?ML(e,t,r,f,l,c):jL(e,t,r,n,f,l,c)};var jh=1e-4,WO=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],KO=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),fE=(e,t)=>r=>{var n=WO(e,t);return KO(n,r)},DL=(e,t)=>r=>{var n=WO(e,t),l=[...n.map((c,f)=>c*f).slice(1),0];return KO(l,r)},RL=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var l=n.map(c=>parseFloat(c));return[l[0],l[1],l[2],l[3]]},PL=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var l=RL(r[0]);if(l)return l}}return r.length===4?r:[0,0,1,1]},LL=(e,t,r,n)=>{var l=fE(e,r),c=fE(t,n),f=DL(e,r),x=y=>y>1?1:y<0?0:y,b=y=>{for(var w=y>1?1:y,A=w,T=0;T<8;++T){var _=l(A)-w,j=f(A);if(Math.abs(_-w)<jh||j<jh)return c(A);A=x(A-_/j)}return c(A)};return b.isStepper=!1,b},hE=function(){return LL(...PL(...arguments))},BL=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:l=17}=t,c=(f,x,b)=>{var y=-(f-x)*r,w=b*n,A=b+(y-w)*l/1e3,T=b*l/1e3+f;return Math.abs(T-x)<jh&&Math.abs(A)<jh?[x,0]:[T,A]};return c.isStepper=!0,c.dt=l,c},zL=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return hE(e);case"spring":return BL();default:if(e.split("(")[0]==="cubic-bezier")return hE(e)}return typeof e=="function"?e:null};function UL(e){var t,r=()=>null,n=!1,l=null,c=f=>{if(!n){if(Array.isArray(f)){if(!f.length)return;var x=f,[b,...y]=x;if(typeof b=="number"){l=e.setTimeout(c.bind(null,y),b);return}c(b),l=e.setTimeout(c.bind(null,y));return}typeof f=="string"&&(t=f,r(t)),typeof f=="object"&&(t=f,r(t)),typeof f=="function"&&f()}};return{stop:()=>{n=!0},start:f=>{n=!1,l&&(l(),l=null),c(f)},subscribe:f=>(r=f,()=>{r=()=>null}),getTimeoutController:()=>e}}class FL{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),l=null,c=f=>{f-n>=r?t(f):typeof requestAnimationFrame=="function"&&(l=requestAnimationFrame(c))};return l=requestAnimationFrame(c),()=>{l!=null&&cancelAnimationFrame(l)}}}function HL(){return UL(new FL)}var GL=O.createContext(HL);function VL(e,t){var r=O.useContext(GL);return O.useMemo(()=>t??r(e),[e,t,r])}var YL=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),rf={isSsr:YL()},qL={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},mE={t:0},pg={t:1};function zm(e){var t=ga(e,qL),{isActive:r,canBegin:n,duration:l,easing:c,begin:f,onAnimationEnd:x,onAnimationStart:b,children:y}=t,w=r==="auto"?!rf.isSsr:r,A=VL(t.animationId,t.animationManager),[T,_]=O.useState(w?mE:pg),j=O.useRef(null);return O.useEffect(()=>{w||_(pg)},[w]),O.useEffect(()=>{if(!w||!n)return Zo;var M=kL(mE,pg,zL(c),l,_,A.getTimeoutController()),k=()=>{j.current=M()};return A.start([b,f,k,l,x]),()=>{A.stop(),j.current&&j.current(),x()}},[w,n,l,c,f,b,x,A]),y(T.t)}function Um(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=O.useRef(Id(t)),n=O.useRef(e);return n.current!==e&&(r.current=Id(t),n.current=e),r.current}var XL=["radius"],WL=["radius"],pE,xE,gE,yE,vE,bE,wE,AE,SE,EE;function NE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function CE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NE(Object(r),!0).forEach(function(n){KL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KL(e,t,r){return(t=ZL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZL(e){var t=$L(e,"string");return typeof t=="symbol"?t:t+""}function $L(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kh(){return kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kh.apply(null,arguments)}function TE(e,t){if(e==null)return{};var r,n,l=QL(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function QL(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $i(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var OE=(e,t,r,n,l)=>{var c=Yl(r),f=Yl(n),x=Math.min(Math.abs(c)/2,Math.abs(f)/2),b=f>=0?1:-1,y=c>=0?1:-1,w=f>=0&&c>=0||f<0&&c<0?1:0,A;if(x>0&&Array.isArray(l)){for(var T=[0,0,0,0],_=0,j=4;_<j;_++){var M,k=(M=l[_])!==null&&M!==void 0?M:0;T[_]=k>x?x:k}A=tn(pE||(pE=$i(["M",",",""])),e,t+b*T[0]),T[0]>0&&(A+=tn(xE||(xE=$i(["A ",",",",0,0,",",",",",""])),T[0],T[0],w,e+y*T[0],t)),A+=tn(gE||(gE=$i(["L ",",",""])),e+r-y*T[1],t),T[1]>0&&(A+=tn(yE||(yE=$i(["A ",",",",0,0,",`,
        `,",",""])),T[1],T[1],w,e+r,t+b*T[1])),A+=tn(vE||(vE=$i(["L ",",",""])),e+r,t+n-b*T[2]),T[2]>0&&(A+=tn(bE||(bE=$i(["A ",",",",0,0,",`,
        `,",",""])),T[2],T[2],w,e+r-y*T[2],t+n)),A+=tn(wE||(wE=$i(["L ",",",""])),e+y*T[3],t+n),T[3]>0&&(A+=tn(AE||(AE=$i(["A ",",",",0,0,",`,
        `,",",""])),T[3],T[3],w,e,t+n-b*T[3])),A+="Z"}else if(x>0&&l===+l&&l>0){var R=Math.min(x,l);A=tn(SE||(SE=$i(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+b*R,R,R,w,e+y*R,t,e+r-y*R,t,R,R,w,e+r,t+b*R,e+r,t+n-b*R,R,R,w,e+r-y*R,t+n,e+y*R,t+n,R,R,w,e,t+n-b*R)}else A=tn(EE||(EE=$i(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return A},IE={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ZO=e=>{var t=ga(e,IE),r=O.useRef(null),[n,l]=O.useState(-1);O.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var ie=r.current.getTotalLength();ie&&l(ie)}catch{}},[]);var{x:c,y:f,width:x,height:b,radius:y,className:w}=t,{animationEasing:A,animationDuration:T,animationBegin:_,isAnimationActive:j,isUpdateAnimationActive:M}=t,k=O.useRef(x),R=O.useRef(b),F=O.useRef(c),U=O.useRef(f),V=O.useMemo(()=>({x:c,y:f,width:x,height:b,radius:y}),[c,f,x,b,y]),q=Um(V,"rectangle-");if(c!==+c||f!==+f||x!==+x||b!==+b||x===0||b===0)return null;var Y=Nr("recharts-rectangle",w);if(!M){var L=ha(t),{radius:J}=L,K=TE(L,XL);return O.createElement("path",kh({},K,{x:Yl(c),y:Yl(f),width:Yl(x),height:Yl(b),radius:typeof y=="number"?y:void 0,className:Y,d:OE(c,f,x,b,y)}))}var Ce=k.current,oe=R.current,ee=F.current,ce=U.current,fe="0px ".concat(n===-1?1:n,"px"),Z="".concat(n,"px 0px"),te=qO(["strokeDasharray"],T,typeof A=="string"?A:IE.animationEasing);return O.createElement(zm,{animationId:q,key:q,canBegin:n>0,duration:T,easing:A,isActive:M,begin:_},ie=>{var ne=Xr(Ce,x,ie),pe=Xr(oe,b,ie),Oe=Xr(ee,c,ie),$=Xr(ce,f,ie);r.current&&(k.current=ne,R.current=pe,F.current=Oe,U.current=$);var de;j?ie>0?de={transition:te,strokeDasharray:Z}:de={strokeDasharray:fe}:de={strokeDasharray:Z};var Te=ha(t),{radius:ke}=Te,Qe=TE(Te,WL);return O.createElement("path",kh({},Qe,{radius:typeof y=="number"?y:void 0,className:Y,d:OE(Oe,$,ne,pe,y),ref:r,style:CE(CE({},de),t.style)}))})};function _E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function ME(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_E(Object(r),!0).forEach(function(n){JL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_E(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JL(e,t,r){return(t=eB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eB(e){var t=tB(e,"string");return typeof t=="symbol"?t:t+""}function tB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dh=Math.PI/180,rB=e=>e*180/Math.PI,Jn=(e,t,r,n)=>({x:e+Math.cos(-Dh*n)*r,y:t+Math.sin(-Dh*n)*r}),nB=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},aB=(e,t)=>{var{x:r,y:n}=e,{x:l,y:c}=t;return Math.sqrt((r-l)**2+(n-c)**2)},iB=(e,t)=>{var{x:r,y:n}=e,{cx:l,cy:c}=t,f=aB({x:r,y:n},{x:l,y:c});if(f<=0)return{radius:f,angle:0};var x=(r-l)/f,b=Math.acos(x);return n>c&&(b=2*Math.PI-b),{radius:f,angle:rB(b),angleInRadian:b}},sB=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),l=Math.floor(r/360),c=Math.min(n,l);return{startAngle:t-c*360,endAngle:r-c*360}},lB=(e,t)=>{var{startAngle:r,endAngle:n}=t,l=Math.floor(r/360),c=Math.floor(n/360),f=Math.min(l,c);return e+f*360},oB=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:l,angle:c}=iB({x:r,y:n},t),{innerRadius:f,outerRadius:x}=t;if(l<f||l>x||l===0)return null;var{startAngle:b,endAngle:y}=sB(t),w=c,A;if(b<=y){for(;w>y;)w-=360;for(;w<b;)w+=360;A=w>=b&&w<=y}else{for(;w>b;)w-=360;for(;w<y;)w+=360;A=w>=y&&w<=b}return A?ME(ME({},t),{},{radius:l,angle:lB(w,t)}):null};function $O(e){var{cx:t,cy:r,radius:n,startAngle:l,endAngle:c}=e,f=Jn(t,r,n,l),x=Jn(t,r,n,c);return{points:[f,x],cx:t,cy:r,radius:n,startAngle:l,endAngle:c}}var jE,kE,DE,RE,PE,LE,BE;function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iy.apply(null,arguments)}function Io(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var cB=(e,t)=>{var r=Oa(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},F0=e=>{var{cx:t,cy:r,radius:n,angle:l,sign:c,isExternal:f,cornerRadius:x,cornerIsExternal:b}=e,y=x*(f?1:-1)+n,w=Math.asin(x/y)/Dh,A=b?l:l+c*w,T=Jn(t,r,y,A),_=Jn(t,r,n,A),j=b?l-c*w:l,M=Jn(t,r,y*Math.cos(w*Dh),j);return{center:T,circleTangency:_,lineTangency:M,theta:w}},QO=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:l,startAngle:c,endAngle:f}=e,x=cB(c,f),b=c+x,y=Jn(t,r,l,c),w=Jn(t,r,l,b),A=tn(jE||(jE=Io(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),y.x,y.y,l,l,+(Math.abs(x)>180),+(c>b),w.x,w.y);if(n>0){var T=Jn(t,r,n,c),_=Jn(t,r,n,b);A+=tn(kE||(kE=Io(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),_.x,_.y,n,n,+(Math.abs(x)>180),+(c<=b),T.x,T.y)}else A+=tn(DE||(DE=Io(["L ",","," Z"])),t,r);return A},uB=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:l,cornerRadius:c,forceCornerRadius:f,cornerIsExternal:x,startAngle:b,endAngle:y}=e,w=Oa(y-b),{circleTangency:A,lineTangency:T,theta:_}=F0({cx:t,cy:r,radius:l,angle:b,sign:w,cornerRadius:c,cornerIsExternal:x}),{circleTangency:j,lineTangency:M,theta:k}=F0({cx:t,cy:r,radius:l,angle:y,sign:-w,cornerRadius:c,cornerIsExternal:x}),R=x?Math.abs(b-y):Math.abs(b-y)-_-k;if(R<0)return f?tn(RE||(RE=Io(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),T.x,T.y,c,c,c*2,c,c,-c*2):QO({cx:t,cy:r,innerRadius:n,outerRadius:l,startAngle:b,endAngle:y});var F=tn(PE||(PE=Io(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),T.x,T.y,c,c,+(w<0),A.x,A.y,l,l,+(R>180),+(w<0),j.x,j.y,c,c,+(w<0),M.x,M.y);if(n>0){var{circleTangency:U,lineTangency:V,theta:q}=F0({cx:t,cy:r,radius:n,angle:b,sign:w,isExternal:!0,cornerRadius:c,cornerIsExternal:x}),{circleTangency:Y,lineTangency:L,theta:J}=F0({cx:t,cy:r,radius:n,angle:y,sign:-w,isExternal:!0,cornerRadius:c,cornerIsExternal:x}),K=x?Math.abs(b-y):Math.abs(b-y)-q-J;if(K<0&&c===0)return"".concat(F,"L").concat(t,",").concat(r,"Z");F+=tn(LE||(LE=Io(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),L.x,L.y,c,c,+(w<0),Y.x,Y.y,n,n,+(K>180),+(w>0),U.x,U.y,c,c,+(w<0),V.x,V.y)}else F+=tn(BE||(BE=Io(["L",",","Z"])),t,r);return F},dB={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},JO=e=>{var t=ga(e,dB),{cx:r,cy:n,innerRadius:l,outerRadius:c,cornerRadius:f,forceCornerRadius:x,cornerIsExternal:b,startAngle:y,endAngle:w,className:A}=t;if(c<l||y===w)return null;var T=Nr("recharts-sector",A),_=c-l,j=Pi(f,_,0,!0),M;return j>0&&Math.abs(y-w)<360?M=uB({cx:r,cy:n,innerRadius:l,outerRadius:c,cornerRadius:Math.min(j,_/2),forceCornerRadius:x,cornerIsExternal:b,startAngle:y,endAngle:w}):M=QO({cx:r,cy:n,innerRadius:l,outerRadius:c,startAngle:y,endAngle:w}),O.createElement("path",Iy({},ha(t),{className:T,d:M}))};function fB(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(BT(t)){if(e==="centric"){var{cx:n,cy:l,innerRadius:c,outerRadius:f,angle:x}=t,b=Jn(n,l,c,x),y=Jn(n,l,f,x);return[{x:b.x,y:b.y},{x:y.x,y:y.y}]}return $O(t)}}var xg={},gg={},yg={},zE;function hB(){return zE||(zE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WT();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(yg)),yg}var UE;function mB(){return UE||(UE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hB();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(gg)),gg}var FE;function pB(){return FE||(FE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KT(),r=mB();function n(l,c,f){f&&typeof f!="number"&&t.isIterateeCall(l,c,f)&&(c=f=void 0),l=r.toFinite(l),c===void 0?(c=l,l=0):c=r.toFinite(c),f=f===void 0?l<c?1:-1:r.toFinite(f);const x=Math.max(Math.ceil((c-l)/(f||1)),0),b=new Array(x);for(let y=0;y<x;y++)b[y]=l,l+=f;return b}e.range=n})(xg)),xg}var vg,HE;function xB(){return HE||(HE=1,vg=pB().range),vg}var gB=xB();const e5=ls(gB);function ql(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yB(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Uv(e){let t,r,n;e.length!==2?(t=ql,r=(x,b)=>ql(e(x),b),n=(x,b)=>e(x)-b):(t=e===ql||e===yB?e:vB,r=e,n=e);function l(x,b,y=0,w=x.length){if(y<w){if(t(b,b)!==0)return w;do{const A=y+w>>>1;r(x[A],b)<0?y=A+1:w=A}while(y<w)}return y}function c(x,b,y=0,w=x.length){if(y<w){if(t(b,b)!==0)return w;do{const A=y+w>>>1;r(x[A],b)<=0?y=A+1:w=A}while(y<w)}return y}function f(x,b,y=0,w=x.length){const A=l(x,b,y,w-1);return A>y&&n(x[A-1],b)>-n(x[A],b)?A-1:A}return{left:l,center:f,right:c}}function vB(){return 0}function t5(e){return e===null?NaN:+e}function*bB(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const wB=Uv(ql),nf=wB.right;Uv(t5).center;class GE extends Map{constructor(t,r=EB){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,l]of t)this.set(n,l)}get(t){return super.get(VE(this,t))}has(t){return super.has(VE(this,t))}set(t,r){return super.set(AB(this,t),r)}delete(t){return super.delete(SB(this,t))}}function VE({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function AB({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function SB({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function EB(e){return e!==null&&typeof e=="object"?e.valueOf():e}function NB(e=ql){if(e===ql)return r5;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function r5(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const CB=Math.sqrt(50),TB=Math.sqrt(10),OB=Math.sqrt(2);function Rh(e,t,r){const n=(t-e)/Math.max(0,r),l=Math.floor(Math.log10(n)),c=n/Math.pow(10,l),f=c>=CB?10:c>=TB?5:c>=OB?2:1;let x,b,y;return l<0?(y=Math.pow(10,-l)/f,x=Math.round(e*y),b=Math.round(t*y),x/y<e&&++x,b/y>t&&--b,y=-y):(y=Math.pow(10,l)*f,x=Math.round(e/y),b=Math.round(t/y),x*y<e&&++x,b*y>t&&--b),b<x&&.5<=r&&r<2?Rh(e,t,r*2):[x,b,y]}function _y(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[l,c,f]=n?Rh(t,e,r):Rh(e,t,r);if(!(c>=l))return[];const x=c-l+1,b=new Array(x);if(n)if(f<0)for(let y=0;y<x;++y)b[y]=(c-y)/-f;else for(let y=0;y<x;++y)b[y]=(c-y)*f;else if(f<0)for(let y=0;y<x;++y)b[y]=(l+y)/-f;else for(let y=0;y<x;++y)b[y]=(l+y)*f;return b}function My(e,t,r){return t=+t,e=+e,r=+r,Rh(e,t,r)[2]}function jy(e,t,r){t=+t,e=+e,r=+r;const n=t<e,l=n?My(t,e,r):My(e,t,r);return(n?-1:1)*(l<0?1/-l:l)}function YE(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function qE(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function n5(e,t,r=0,n=1/0,l){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(l=l===void 0?r5:NB(l);n>r;){if(n-r>600){const b=n-r+1,y=t-r+1,w=Math.log(b),A=.5*Math.exp(2*w/3),T=.5*Math.sqrt(w*A*(b-A)/b)*(y-b/2<0?-1:1),_=Math.max(r,Math.floor(t-y*A/b+T)),j=Math.min(n,Math.floor(t+(b-y)*A/b+T));n5(e,t,_,j,l)}const c=e[t];let f=r,x=n;for(fd(e,r,t),l(e[n],c)>0&&fd(e,r,n);f<x;){for(fd(e,f,x),++f,--x;l(e[f],c)<0;)++f;for(;l(e[x],c)>0;)--x}l(e[r],c)===0?fd(e,r,x):(++x,fd(e,x,n)),x<=t&&(r=x+1),t<=x&&(n=x-1)}return e}function fd(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function IB(e,t,r){if(e=Float64Array.from(bB(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return qE(e);if(t>=1)return YE(e);var n,l=(n-1)*t,c=Math.floor(l),f=YE(n5(e,c).subarray(0,c+1)),x=qE(e.subarray(c+1));return f+(x-f)*(l-c)}}function _B(e,t,r=t5){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,l=(n-1)*t,c=Math.floor(l),f=+r(e[c],c,e),x=+r(e[c+1],c+1,e);return f+(x-f)*(l-c)}}function MB(e,t,r){e=+e,t=+t,r=(l=arguments.length)<2?(t=e,e=0,1):l<3?1:+r;for(var n=-1,l=Math.max(0,Math.ceil((t-e)/r))|0,c=new Array(l);++n<l;)c[n]=e+n*r;return c}function bi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function rl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ky=Symbol("implicit");function Fv(){var e=new GE,t=[],r=[],n=ky;function l(c){let f=e.get(c);if(f===void 0){if(n!==ky)return n;e.set(c,f=t.push(c)-1)}return r[f%r.length]}return l.domain=function(c){if(!arguments.length)return t.slice();t=[],e=new GE;for(const f of c)e.has(f)||e.set(f,t.push(f)-1);return l},l.range=function(c){return arguments.length?(r=Array.from(c),l):r.slice()},l.unknown=function(c){return arguments.length?(n=c,l):n},l.copy=function(){return Fv(t,r).unknown(n)},bi.apply(l,arguments),l}function Hv(){var e=Fv().unknown(void 0),t=e.domain,r=e.range,n=0,l=1,c,f,x=!1,b=0,y=0,w=.5;delete e.unknown;function A(){var T=t().length,_=l<n,j=_?l:n,M=_?n:l;c=(M-j)/Math.max(1,T-b+y*2),x&&(c=Math.floor(c)),j+=(M-j-c*(T-b))*w,f=c*(1-b),x&&(j=Math.round(j),f=Math.round(f));var k=MB(T).map(function(R){return j+c*R});return r(_?k.reverse():k)}return e.domain=function(T){return arguments.length?(t(T),A()):t()},e.range=function(T){return arguments.length?([n,l]=T,n=+n,l=+l,A()):[n,l]},e.rangeRound=function(T){return[n,l]=T,n=+n,l=+l,x=!0,A()},e.bandwidth=function(){return f},e.step=function(){return c},e.round=function(T){return arguments.length?(x=!!T,A()):x},e.padding=function(T){return arguments.length?(b=Math.min(1,y=+T),A()):b},e.paddingInner=function(T){return arguments.length?(b=Math.min(1,T),A()):b},e.paddingOuter=function(T){return arguments.length?(y=+T,A()):y},e.align=function(T){return arguments.length?(w=Math.max(0,Math.min(1,T)),A()):w},e.copy=function(){return Hv(t(),[n,l]).round(x).paddingInner(b).paddingOuter(y).align(w)},bi.apply(A(),arguments)}function a5(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return a5(t())},e}function jB(){return a5(Hv.apply(null,arguments).paddingInner(1))}function Gv(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function i5(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function af(){}var Ld=.7,Ph=1/Ld,Wc="\\s*([+-]?\\d+)\\s*",Bd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ns="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kB=/^#([0-9a-f]{3,8})$/,DB=new RegExp(`^rgb\\(${Wc},${Wc},${Wc}\\)$`),RB=new RegExp(`^rgb\\(${ns},${ns},${ns}\\)$`),PB=new RegExp(`^rgba\\(${Wc},${Wc},${Wc},${Bd}\\)$`),LB=new RegExp(`^rgba\\(${ns},${ns},${ns},${Bd}\\)$`),BB=new RegExp(`^hsl\\(${Bd},${ns},${ns}\\)$`),zB=new RegExp(`^hsla\\(${Bd},${ns},${ns},${Bd}\\)$`),XE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Gv(af,zd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:WE,formatHex:WE,formatHex8:UB,formatHsl:FB,formatRgb:KE,toString:KE});function WE(){return this.rgb().formatHex()}function UB(){return this.rgb().formatHex8()}function FB(){return s5(this).formatHsl()}function KE(){return this.rgb().formatRgb()}function zd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=kB.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?ZE(t):r===3?new _a(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?H0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?H0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=DB.exec(e))?new _a(t[1],t[2],t[3],1):(t=RB.exec(e))?new _a(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=PB.exec(e))?H0(t[1],t[2],t[3],t[4]):(t=LB.exec(e))?H0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=BB.exec(e))?JE(t[1],t[2]/100,t[3]/100,1):(t=zB.exec(e))?JE(t[1],t[2]/100,t[3]/100,t[4]):XE.hasOwnProperty(e)?ZE(XE[e]):e==="transparent"?new _a(NaN,NaN,NaN,0):null}function ZE(e){return new _a(e>>16&255,e>>8&255,e&255,1)}function H0(e,t,r,n){return n<=0&&(e=t=r=NaN),new _a(e,t,r,n)}function HB(e){return e instanceof af||(e=zd(e)),e?(e=e.rgb(),new _a(e.r,e.g,e.b,e.opacity)):new _a}function Dy(e,t,r,n){return arguments.length===1?HB(e):new _a(e,t,r,n??1)}function _a(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Gv(_a,Dy,i5(af,{brighter(e){return e=e==null?Ph:Math.pow(Ph,e),new _a(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ld:Math.pow(Ld,e),new _a(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new _a(Ro(this.r),Ro(this.g),Ro(this.b),Lh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$E,formatHex:$E,formatHex8:GB,formatRgb:QE,toString:QE}));function $E(){return`#${_o(this.r)}${_o(this.g)}${_o(this.b)}`}function GB(){return`#${_o(this.r)}${_o(this.g)}${_o(this.b)}${_o((isNaN(this.opacity)?1:this.opacity)*255)}`}function QE(){const e=Lh(this.opacity);return`${e===1?"rgb(":"rgba("}${Ro(this.r)}, ${Ro(this.g)}, ${Ro(this.b)}${e===1?")":`, ${e})`}`}function Lh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ro(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function _o(e){return e=Ro(e),(e<16?"0":"")+e.toString(16)}function JE(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ki(e,t,r,n)}function s5(e){if(e instanceof ki)return new ki(e.h,e.s,e.l,e.opacity);if(e instanceof af||(e=zd(e)),!e)return new ki;if(e instanceof ki)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,l=Math.min(t,r,n),c=Math.max(t,r,n),f=NaN,x=c-l,b=(c+l)/2;return x?(t===c?f=(r-n)/x+(r<n)*6:r===c?f=(n-t)/x+2:f=(t-r)/x+4,x/=b<.5?c+l:2-c-l,f*=60):x=b>0&&b<1?0:f,new ki(f,x,b,e.opacity)}function VB(e,t,r,n){return arguments.length===1?s5(e):new ki(e,t,r,n??1)}function ki(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Gv(ki,VB,i5(af,{brighter(e){return e=e==null?Ph:Math.pow(Ph,e),new ki(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ld:Math.pow(Ld,e),new ki(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,l=2*r-n;return new _a(bg(e>=240?e-240:e+120,l,n),bg(e,l,n),bg(e<120?e+240:e-120,l,n),this.opacity)},clamp(){return new ki(eN(this.h),G0(this.s),G0(this.l),Lh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Lh(this.opacity);return`${e===1?"hsl(":"hsla("}${eN(this.h)}, ${G0(this.s)*100}%, ${G0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function eN(e){return e=(e||0)%360,e<0?e+360:e}function G0(e){return Math.max(0,Math.min(1,e||0))}function bg(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Vv=e=>()=>e;function YB(e,t){return function(r){return e+r*t}}function qB(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function XB(e){return(e=+e)==1?l5:function(t,r){return r-t?qB(t,r,e):Vv(isNaN(t)?r:t)}}function l5(e,t){var r=t-e;return r?YB(e,r):Vv(isNaN(e)?t:e)}const tN=(function e(t){var r=XB(t);function n(l,c){var f=r((l=Dy(l)).r,(c=Dy(c)).r),x=r(l.g,c.g),b=r(l.b,c.b),y=l5(l.opacity,c.opacity);return function(w){return l.r=f(w),l.g=x(w),l.b=b(w),l.opacity=y(w),l+""}}return n.gamma=e,n})(1);function WB(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),l;return function(c){for(l=0;l<r;++l)n[l]=e[l]*(1-c)+t[l]*c;return n}}function KB(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ZB(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,l=new Array(n),c=new Array(r),f;for(f=0;f<n;++f)l[f]=lu(e[f],t[f]);for(;f<r;++f)c[f]=t[f];return function(x){for(f=0;f<n;++f)c[f]=l[f](x);return c}}function $B(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Bh(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function QB(e,t){var r={},n={},l;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(l in t)l in e?r[l]=lu(e[l],t[l]):n[l]=t[l];return function(c){for(l in r)n[l]=r[l](c);return n}}var Ry=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wg=new RegExp(Ry.source,"g");function JB(e){return function(){return e}}function ez(e){return function(t){return e(t)+""}}function tz(e,t){var r=Ry.lastIndex=wg.lastIndex=0,n,l,c,f=-1,x=[],b=[];for(e=e+"",t=t+"";(n=Ry.exec(e))&&(l=wg.exec(t));)(c=l.index)>r&&(c=t.slice(r,c),x[f]?x[f]+=c:x[++f]=c),(n=n[0])===(l=l[0])?x[f]?x[f]+=l:x[++f]=l:(x[++f]=null,b.push({i:f,x:Bh(n,l)})),r=wg.lastIndex;return r<t.length&&(c=t.slice(r),x[f]?x[f]+=c:x[++f]=c),x.length<2?b[0]?ez(b[0].x):JB(t):(t=b.length,function(y){for(var w=0,A;w<t;++w)x[(A=b[w]).i]=A.x(y);return x.join("")})}function lu(e,t){var r=typeof t,n;return t==null||r==="boolean"?Vv(t):(r==="number"?Bh:r==="string"?(n=zd(t))?(t=n,tN):tz:t instanceof zd?tN:t instanceof Date?$B:KB(t)?WB:Array.isArray(t)?ZB:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?QB:Bh)(e,t)}function Yv(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function rz(e,t){t===void 0&&(t=e,e=lu);for(var r=0,n=t.length-1,l=t[0],c=new Array(n<0?0:n);r<n;)c[r]=e(l,l=t[++r]);return function(f){var x=Math.max(0,Math.min(n-1,Math.floor(f*=n)));return c[x](f-x)}}function nz(e){return function(){return e}}function zh(e){return+e}var rN=[0,1];function fa(e){return e}function Py(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:nz(isNaN(t)?NaN:.5)}function az(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function iz(e,t,r){var n=e[0],l=e[1],c=t[0],f=t[1];return l<n?(n=Py(l,n),c=r(f,c)):(n=Py(n,l),c=r(c,f)),function(x){return c(n(x))}}function sz(e,t,r){var n=Math.min(e.length,t.length)-1,l=new Array(n),c=new Array(n),f=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++f<n;)l[f]=Py(e[f],e[f+1]),c[f]=r(t[f],t[f+1]);return function(x){var b=nf(e,x,1,n)-1;return c[b](l[b](x))}}function sf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Fm(){var e=rN,t=rN,r=lu,n,l,c,f=fa,x,b,y;function w(){var T=Math.min(e.length,t.length);return f!==fa&&(f=az(e[0],e[T-1])),x=T>2?sz:iz,b=y=null,A}function A(T){return T==null||isNaN(T=+T)?c:(b||(b=x(e.map(n),t,r)))(n(f(T)))}return A.invert=function(T){return f(l((y||(y=x(t,e.map(n),Bh)))(T)))},A.domain=function(T){return arguments.length?(e=Array.from(T,zh),w()):e.slice()},A.range=function(T){return arguments.length?(t=Array.from(T),w()):t.slice()},A.rangeRound=function(T){return t=Array.from(T),r=Yv,w()},A.clamp=function(T){return arguments.length?(f=T?!0:fa,w()):f!==fa},A.interpolate=function(T){return arguments.length?(r=T,w()):r},A.unknown=function(T){return arguments.length?(c=T,A):c},function(T,_){return n=T,l=_,w()}}function qv(){return Fm()(fa,fa)}function lz(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Uh(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function eu(e){return e=Uh(Math.abs(e)),e?e[1]:NaN}function oz(e,t){return function(r,n){for(var l=r.length,c=[],f=0,x=e[0],b=0;l>0&&x>0&&(b+x+1>n&&(x=Math.max(1,n-b)),c.push(r.substring(l-=x,l+x)),!((b+=x+1)>n));)x=e[f=(f+1)%e.length];return c.reverse().join(t)}}function cz(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var uz=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ud(e){if(!(t=uz.exec(e)))throw new Error("invalid format: "+e);var t;return new Xv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ud.prototype=Xv.prototype;function Xv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Xv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function dz(e){e:for(var t=e.length,r=1,n=-1,l;r<t;++r)switch(e[r]){case".":n=l=r;break;case"0":n===0&&(n=r),l=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(l+1):e}var Fh;function fz(e,t){var r=Uh(e,t);if(!r)return Fh=void 0,e.toPrecision(t);var n=r[0],l=r[1],c=l-(Fh=Math.max(-8,Math.min(8,Math.floor(l/3)))*3)+1,f=n.length;return c===f?n:c>f?n+new Array(c-f+1).join("0"):c>0?n.slice(0,c)+"."+n.slice(c):"0."+new Array(1-c).join("0")+Uh(e,Math.max(0,t+c-1))[0]}function nN(e,t){var r=Uh(e,t);if(!r)return e+"";var n=r[0],l=r[1];return l<0?"0."+new Array(-l).join("0")+n:n.length>l+1?n.slice(0,l+1)+"."+n.slice(l+1):n+new Array(l-n.length+2).join("0")}const aN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:lz,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>nN(e*100,t),r:nN,s:fz,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function iN(e){return e}var sN=Array.prototype.map,lN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function hz(e){var t=e.grouping===void 0||e.thousands===void 0?iN:oz(sN.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",l=e.decimal===void 0?".":e.decimal+"",c=e.numerals===void 0?iN:cz(sN.call(e.numerals,String)),f=e.percent===void 0?"%":e.percent+"",x=e.minus===void 0?"":e.minus+"",b=e.nan===void 0?"NaN":e.nan+"";function y(A,T){A=Ud(A);var _=A.fill,j=A.align,M=A.sign,k=A.symbol,R=A.zero,F=A.width,U=A.comma,V=A.precision,q=A.trim,Y=A.type;Y==="n"?(U=!0,Y="g"):aN[Y]||(V===void 0&&(V=12),q=!0,Y="g"),(R||_==="0"&&j==="=")&&(R=!0,_="0",j="=");var L=(T&&T.prefix!==void 0?T.prefix:"")+(k==="$"?r:k==="#"&&/[boxX]/.test(Y)?"0"+Y.toLowerCase():""),J=(k==="$"?n:/[%p]/.test(Y)?f:"")+(T&&T.suffix!==void 0?T.suffix:""),K=aN[Y],Ce=/[defgprs%]/.test(Y);V=V===void 0?6:/[gprs]/.test(Y)?Math.max(1,Math.min(21,V)):Math.max(0,Math.min(20,V));function oe(ee){var ce=L,fe=J,Z,te,ie;if(Y==="c")fe=K(ee)+fe,ee="";else{ee=+ee;var ne=ee<0||1/ee<0;if(ee=isNaN(ee)?b:K(Math.abs(ee),V),q&&(ee=dz(ee)),ne&&+ee==0&&M!=="+"&&(ne=!1),ce=(ne?M==="("?M:x:M==="-"||M==="("?"":M)+ce,fe=(Y==="s"&&!isNaN(ee)&&Fh!==void 0?lN[8+Fh/3]:"")+fe+(ne&&M==="("?")":""),Ce){for(Z=-1,te=ee.length;++Z<te;)if(ie=ee.charCodeAt(Z),48>ie||ie>57){fe=(ie===46?l+ee.slice(Z+1):ee.slice(Z))+fe,ee=ee.slice(0,Z);break}}}U&&!R&&(ee=t(ee,1/0));var pe=ce.length+ee.length+fe.length,Oe=pe<F?new Array(F-pe+1).join(_):"";switch(U&&R&&(ee=t(Oe+ee,Oe.length?F-fe.length:1/0),Oe=""),j){case"<":ee=ce+ee+fe+Oe;break;case"=":ee=ce+Oe+ee+fe;break;case"^":ee=Oe.slice(0,pe=Oe.length>>1)+ce+ee+fe+Oe.slice(pe);break;default:ee=Oe+ce+ee+fe;break}return c(ee)}return oe.toString=function(){return A+""},oe}function w(A,T){var _=Math.max(-8,Math.min(8,Math.floor(eu(T)/3)))*3,j=Math.pow(10,-_),M=y((A=Ud(A),A.type="f",A),{suffix:lN[8+_/3]});return function(k){return M(j*k)}}return{format:y,formatPrefix:w}}var V0,Wv,o5;mz({thousands:",",grouping:[3],currency:["$",""]});function mz(e){return V0=hz(e),Wv=V0.format,o5=V0.formatPrefix,V0}function pz(e){return Math.max(0,-eu(Math.abs(e)))}function xz(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(eu(t)/3)))*3-eu(Math.abs(e)))}function gz(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,eu(t)-eu(e))+1}function c5(e,t,r,n){var l=jy(e,t,r),c;switch(n=Ud(n??",f"),n.type){case"s":{var f=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(c=xz(l,f))&&(n.precision=c),o5(n,f)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(c=gz(l,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=c-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(c=pz(l))&&(n.precision=c-(n.type==="%")*2);break}}return Wv(n)}function Jl(e){var t=e.domain;return e.ticks=function(r){var n=t();return _y(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var l=t();return c5(l[0],l[l.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),l=0,c=n.length-1,f=n[l],x=n[c],b,y,w=10;for(x<f&&(y=f,f=x,x=y,y=l,l=c,c=y);w-- >0;){if(y=My(f,x,r),y===b)return n[l]=f,n[c]=x,t(n);if(y>0)f=Math.floor(f/y)*y,x=Math.ceil(x/y)*y;else if(y<0)f=Math.ceil(f*y)/y,x=Math.floor(x*y)/y;else break;b=y}return e},e}function u5(){var e=qv();return e.copy=function(){return sf(e,u5())},bi.apply(e,arguments),Jl(e)}function d5(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,zh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return d5(e).unknown(t)},e=arguments.length?Array.from(e,zh):[0,1],Jl(r)}function f5(e,t){e=e.slice();var r=0,n=e.length-1,l=e[r],c=e[n],f;return c<l&&(f=r,r=n,n=f,f=l,l=c,c=f),e[r]=t.floor(l),e[n]=t.ceil(c),e}function oN(e){return Math.log(e)}function cN(e){return Math.exp(e)}function yz(e){return-Math.log(-e)}function vz(e){return-Math.exp(-e)}function bz(e){return isFinite(e)?+("1e"+e):e<0?0:e}function wz(e){return e===10?bz:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Az(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function uN(e){return(t,r)=>-e(-t,r)}function Kv(e){const t=e(oN,cN),r=t.domain;let n=10,l,c;function f(){return l=Az(n),c=wz(n),r()[0]<0?(l=uN(l),c=uN(c),e(yz,vz)):e(oN,cN),t}return t.base=function(x){return arguments.length?(n=+x,f()):n},t.domain=function(x){return arguments.length?(r(x),f()):r()},t.ticks=x=>{const b=r();let y=b[0],w=b[b.length-1];const A=w<y;A&&([y,w]=[w,y]);let T=l(y),_=l(w),j,M;const k=x==null?10:+x;let R=[];if(!(n%1)&&_-T<k){if(T=Math.floor(T),_=Math.ceil(_),y>0){for(;T<=_;++T)for(j=1;j<n;++j)if(M=T<0?j/c(-T):j*c(T),!(M<y)){if(M>w)break;R.push(M)}}else for(;T<=_;++T)for(j=n-1;j>=1;--j)if(M=T>0?j/c(-T):j*c(T),!(M<y)){if(M>w)break;R.push(M)}R.length*2<k&&(R=_y(y,w,k))}else R=_y(T,_,Math.min(_-T,k)).map(c);return A?R.reverse():R},t.tickFormat=(x,b)=>{if(x==null&&(x=10),b==null&&(b=n===10?"s":","),typeof b!="function"&&(!(n%1)&&(b=Ud(b)).precision==null&&(b.trim=!0),b=Wv(b)),x===1/0)return b;const y=Math.max(1,n*x/t.ticks().length);return w=>{let A=w/c(Math.round(l(w)));return A*n<n-.5&&(A*=n),A<=y?b(w):""}},t.nice=()=>r(f5(r(),{floor:x=>c(Math.floor(l(x))),ceil:x=>c(Math.ceil(l(x)))})),t}function h5(){const e=Kv(Fm()).domain([1,10]);return e.copy=()=>sf(e,h5()).base(e.base()),bi.apply(e,arguments),e}function dN(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function fN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Zv(e){var t=1,r=e(dN(t),fN(t));return r.constant=function(n){return arguments.length?e(dN(t=+n),fN(t)):t},Jl(r)}function m5(){var e=Zv(Fm());return e.copy=function(){return sf(e,m5()).constant(e.constant())},bi.apply(e,arguments)}function hN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Sz(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Ez(e){return e<0?-e*e:e*e}function $v(e){var t=e(fa,fa),r=1;function n(){return r===1?e(fa,fa):r===.5?e(Sz,Ez):e(hN(r),hN(1/r))}return t.exponent=function(l){return arguments.length?(r=+l,n()):r},Jl(t)}function Qv(){var e=$v(Fm());return e.copy=function(){return sf(e,Qv()).exponent(e.exponent())},bi.apply(e,arguments),e}function Nz(){return Qv.apply(null,arguments).exponent(.5)}function mN(e){return Math.sign(e)*e*e}function Cz(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function p5(){var e=qv(),t=[0,1],r=!1,n;function l(c){var f=Cz(e(c));return isNaN(f)?n:r?Math.round(f):f}return l.invert=function(c){return e.invert(mN(c))},l.domain=function(c){return arguments.length?(e.domain(c),l):e.domain()},l.range=function(c){return arguments.length?(e.range((t=Array.from(c,zh)).map(mN)),l):t.slice()},l.rangeRound=function(c){return l.range(c).round(!0)},l.round=function(c){return arguments.length?(r=!!c,l):r},l.clamp=function(c){return arguments.length?(e.clamp(c),l):e.clamp()},l.unknown=function(c){return arguments.length?(n=c,l):n},l.copy=function(){return p5(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},bi.apply(l,arguments),Jl(l)}function x5(){var e=[],t=[],r=[],n;function l(){var f=0,x=Math.max(1,t.length);for(r=new Array(x-1);++f<x;)r[f-1]=_B(e,f/x);return c}function c(f){return f==null||isNaN(f=+f)?n:t[nf(r,f)]}return c.invertExtent=function(f){var x=t.indexOf(f);return x<0?[NaN,NaN]:[x>0?r[x-1]:e[0],x<r.length?r[x]:e[e.length-1]]},c.domain=function(f){if(!arguments.length)return e.slice();e=[];for(let x of f)x!=null&&!isNaN(x=+x)&&e.push(x);return e.sort(ql),l()},c.range=function(f){return arguments.length?(t=Array.from(f),l()):t.slice()},c.unknown=function(f){return arguments.length?(n=f,c):n},c.quantiles=function(){return r.slice()},c.copy=function(){return x5().domain(e).range(t).unknown(n)},bi.apply(c,arguments)}function g5(){var e=0,t=1,r=1,n=[.5],l=[0,1],c;function f(b){return b!=null&&b<=b?l[nf(n,b,0,r)]:c}function x(){var b=-1;for(n=new Array(r);++b<r;)n[b]=((b+1)*t-(b-r)*e)/(r+1);return f}return f.domain=function(b){return arguments.length?([e,t]=b,e=+e,t=+t,x()):[e,t]},f.range=function(b){return arguments.length?(r=(l=Array.from(b)).length-1,x()):l.slice()},f.invertExtent=function(b){var y=l.indexOf(b);return y<0?[NaN,NaN]:y<1?[e,n[0]]:y>=r?[n[r-1],t]:[n[y-1],n[y]]},f.unknown=function(b){return arguments.length&&(c=b),f},f.thresholds=function(){return n.slice()},f.copy=function(){return g5().domain([e,t]).range(l).unknown(c)},bi.apply(Jl(f),arguments)}function y5(){var e=[.5],t=[0,1],r,n=1;function l(c){return c!=null&&c<=c?t[nf(e,c,0,n)]:r}return l.domain=function(c){return arguments.length?(e=Array.from(c),n=Math.min(e.length,t.length-1),l):e.slice()},l.range=function(c){return arguments.length?(t=Array.from(c),n=Math.min(e.length,t.length-1),l):t.slice()},l.invertExtent=function(c){var f=t.indexOf(c);return[e[f-1],e[f]]},l.unknown=function(c){return arguments.length?(r=c,l):r},l.copy=function(){return y5().domain(e).range(t).unknown(r)},bi.apply(l,arguments)}const Ag=new Date,Sg=new Date;function Tn(e,t,r,n){function l(c){return e(c=arguments.length===0?new Date:new Date(+c)),c}return l.floor=c=>(e(c=new Date(+c)),c),l.ceil=c=>(e(c=new Date(c-1)),t(c,1),e(c),c),l.round=c=>{const f=l(c),x=l.ceil(c);return c-f<x-c?f:x},l.offset=(c,f)=>(t(c=new Date(+c),f==null?1:Math.floor(f)),c),l.range=(c,f,x)=>{const b=[];if(c=l.ceil(c),x=x==null?1:Math.floor(x),!(c<f)||!(x>0))return b;let y;do b.push(y=new Date(+c)),t(c,x),e(c);while(y<c&&c<f);return b},l.filter=c=>Tn(f=>{if(f>=f)for(;e(f),!c(f);)f.setTime(f-1)},(f,x)=>{if(f>=f)if(x<0)for(;++x<=0;)for(;t(f,-1),!c(f););else for(;--x>=0;)for(;t(f,1),!c(f););}),r&&(l.count=(c,f)=>(Ag.setTime(+c),Sg.setTime(+f),e(Ag),e(Sg),Math.floor(r(Ag,Sg))),l.every=c=>(c=Math.floor(c),!isFinite(c)||!(c>0)?null:c>1?l.filter(n?f=>n(f)%c===0:f=>l.count(0,f)%c===0):l)),l}const Hh=Tn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Hh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Tn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Hh);Hh.range;const Bs=1e3,pi=Bs*60,zs=pi*60,Ws=zs*24,Jv=Ws*7,pN=Ws*30,Eg=Ws*365,Mo=Tn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Bs)},(e,t)=>(t-e)/Bs,e=>e.getUTCSeconds());Mo.range;const eb=Tn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bs)},(e,t)=>{e.setTime(+e+t*pi)},(e,t)=>(t-e)/pi,e=>e.getMinutes());eb.range;const tb=Tn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*pi)},(e,t)=>(t-e)/pi,e=>e.getUTCMinutes());tb.range;const rb=Tn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bs-e.getMinutes()*pi)},(e,t)=>{e.setTime(+e+t*zs)},(e,t)=>(t-e)/zs,e=>e.getHours());rb.range;const nb=Tn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*zs)},(e,t)=>(t-e)/zs,e=>e.getUTCHours());nb.range;const lf=Tn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*pi)/Ws,e=>e.getDate()-1);lf.range;const Hm=Tn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ws,e=>e.getUTCDate()-1);Hm.range;const v5=Tn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ws,e=>Math.floor(e/Ws));v5.range;function Qo(e){return Tn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*pi)/Jv)}const Gm=Qo(0),Gh=Qo(1),Tz=Qo(2),Oz=Qo(3),tu=Qo(4),Iz=Qo(5),_z=Qo(6);Gm.range;Gh.range;Tz.range;Oz.range;tu.range;Iz.range;_z.range;function Jo(e){return Tn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Jv)}const Vm=Jo(0),Vh=Jo(1),Mz=Jo(2),jz=Jo(3),ru=Jo(4),kz=Jo(5),Dz=Jo(6);Vm.range;Vh.range;Mz.range;jz.range;ru.range;kz.range;Dz.range;const ab=Tn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ab.range;const ib=Tn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ib.range;const Ks=Tn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ks.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Tn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ks.range;const Zs=Tn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Zs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Tn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Zs.range;function b5(e,t,r,n,l,c){const f=[[Mo,1,Bs],[Mo,5,5*Bs],[Mo,15,15*Bs],[Mo,30,30*Bs],[c,1,pi],[c,5,5*pi],[c,15,15*pi],[c,30,30*pi],[l,1,zs],[l,3,3*zs],[l,6,6*zs],[l,12,12*zs],[n,1,Ws],[n,2,2*Ws],[r,1,Jv],[t,1,pN],[t,3,3*pN],[e,1,Eg]];function x(y,w,A){const T=w<y;T&&([y,w]=[w,y]);const _=A&&typeof A.range=="function"?A:b(y,w,A),j=_?_.range(y,+w+1):[];return T?j.reverse():j}function b(y,w,A){const T=Math.abs(w-y)/A,_=Uv(([,,k])=>k).right(f,T);if(_===f.length)return e.every(jy(y/Eg,w/Eg,A));if(_===0)return Hh.every(Math.max(jy(y,w,A),1));const[j,M]=f[T/f[_-1][2]<f[_][2]/T?_-1:_];return j.every(M)}return[x,b]}const[Rz,Pz]=b5(Zs,ib,Vm,v5,nb,tb),[Lz,Bz]=b5(Ks,ab,Gm,lf,rb,eb);function Ng(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Cg(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function hd(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function zz(e){var t=e.dateTime,r=e.date,n=e.time,l=e.periods,c=e.days,f=e.shortDays,x=e.months,b=e.shortMonths,y=md(l),w=pd(l),A=md(c),T=pd(c),_=md(f),j=pd(f),M=md(x),k=pd(x),R=md(b),F=pd(b),U={a:ie,A:ne,b:pe,B:Oe,c:null,d:wN,e:wN,f:oU,g:yU,G:bU,H:iU,I:sU,j:lU,L:w5,m:cU,M:uU,p:$,q:de,Q:EN,s:NN,S:dU,u:fU,U:hU,V:mU,w:pU,W:xU,x:null,X:null,y:gU,Y:vU,Z:wU,"%":SN},V={a:Te,A:ke,b:Qe,B:Q,c:null,d:AN,e:AN,f:NU,g:RU,G:LU,H:AU,I:SU,j:EU,L:S5,m:CU,M:TU,p:Pe,q:Ze,Q:EN,s:NN,S:OU,u:IU,U:_U,V:MU,w:jU,W:kU,x:null,X:null,y:DU,Y:PU,Z:BU,"%":SN},q={a:Ce,A:oe,b:ee,B:ce,c:fe,d:vN,e:vN,f:tU,g:yN,G:gN,H:bN,I:bN,j:$z,L:eU,m:Zz,M:Qz,p:K,q:Kz,Q:nU,s:aU,S:Jz,u:Vz,U:Yz,V:qz,w:Gz,W:Xz,x:Z,X:te,y:yN,Y:gN,Z:Wz,"%":rU};U.x=Y(r,U),U.X=Y(n,U),U.c=Y(t,U),V.x=Y(r,V),V.X=Y(n,V),V.c=Y(t,V);function Y(me,nt){return function(st){var Be=[],Je=-1,Et=0,Ie=me.length,Nt,bt,Ct;for(st instanceof Date||(st=new Date(+st));++Je<Ie;)me.charCodeAt(Je)===37&&(Be.push(me.slice(Et,Je)),(bt=xN[Nt=me.charAt(++Je)])!=null?Nt=me.charAt(++Je):bt=Nt==="e"?" ":"0",(Ct=nt[Nt])&&(Nt=Ct(st,bt)),Be.push(Nt),Et=Je+1);return Be.push(me.slice(Et,Je)),Be.join("")}}function L(me,nt){return function(st){var Be=hd(1900,void 0,1),Je=J(Be,me,st+="",0),Et,Ie;if(Je!=st.length)return null;if("Q"in Be)return new Date(Be.Q);if("s"in Be)return new Date(Be.s*1e3+("L"in Be?Be.L:0));if(nt&&!("Z"in Be)&&(Be.Z=0),"p"in Be&&(Be.H=Be.H%12+Be.p*12),Be.m===void 0&&(Be.m="q"in Be?Be.q:0),"V"in Be){if(Be.V<1||Be.V>53)return null;"w"in Be||(Be.w=1),"Z"in Be?(Et=Cg(hd(Be.y,0,1)),Ie=Et.getUTCDay(),Et=Ie>4||Ie===0?Vh.ceil(Et):Vh(Et),Et=Hm.offset(Et,(Be.V-1)*7),Be.y=Et.getUTCFullYear(),Be.m=Et.getUTCMonth(),Be.d=Et.getUTCDate()+(Be.w+6)%7):(Et=Ng(hd(Be.y,0,1)),Ie=Et.getDay(),Et=Ie>4||Ie===0?Gh.ceil(Et):Gh(Et),Et=lf.offset(Et,(Be.V-1)*7),Be.y=Et.getFullYear(),Be.m=Et.getMonth(),Be.d=Et.getDate()+(Be.w+6)%7)}else("W"in Be||"U"in Be)&&("w"in Be||(Be.w="u"in Be?Be.u%7:"W"in Be?1:0),Ie="Z"in Be?Cg(hd(Be.y,0,1)).getUTCDay():Ng(hd(Be.y,0,1)).getDay(),Be.m=0,Be.d="W"in Be?(Be.w+6)%7+Be.W*7-(Ie+5)%7:Be.w+Be.U*7-(Ie+6)%7);return"Z"in Be?(Be.H+=Be.Z/100|0,Be.M+=Be.Z%100,Cg(Be)):Ng(Be)}}function J(me,nt,st,Be){for(var Je=0,Et=nt.length,Ie=st.length,Nt,bt;Je<Et;){if(Be>=Ie)return-1;if(Nt=nt.charCodeAt(Je++),Nt===37){if(Nt=nt.charAt(Je++),bt=q[Nt in xN?nt.charAt(Je++):Nt],!bt||(Be=bt(me,st,Be))<0)return-1}else if(Nt!=st.charCodeAt(Be++))return-1}return Be}function K(me,nt,st){var Be=y.exec(nt.slice(st));return Be?(me.p=w.get(Be[0].toLowerCase()),st+Be[0].length):-1}function Ce(me,nt,st){var Be=_.exec(nt.slice(st));return Be?(me.w=j.get(Be[0].toLowerCase()),st+Be[0].length):-1}function oe(me,nt,st){var Be=A.exec(nt.slice(st));return Be?(me.w=T.get(Be[0].toLowerCase()),st+Be[0].length):-1}function ee(me,nt,st){var Be=R.exec(nt.slice(st));return Be?(me.m=F.get(Be[0].toLowerCase()),st+Be[0].length):-1}function ce(me,nt,st){var Be=M.exec(nt.slice(st));return Be?(me.m=k.get(Be[0].toLowerCase()),st+Be[0].length):-1}function fe(me,nt,st){return J(me,t,nt,st)}function Z(me,nt,st){return J(me,r,nt,st)}function te(me,nt,st){return J(me,n,nt,st)}function ie(me){return f[me.getDay()]}function ne(me){return c[me.getDay()]}function pe(me){return b[me.getMonth()]}function Oe(me){return x[me.getMonth()]}function $(me){return l[+(me.getHours()>=12)]}function de(me){return 1+~~(me.getMonth()/3)}function Te(me){return f[me.getUTCDay()]}function ke(me){return c[me.getUTCDay()]}function Qe(me){return b[me.getUTCMonth()]}function Q(me){return x[me.getUTCMonth()]}function Pe(me){return l[+(me.getUTCHours()>=12)]}function Ze(me){return 1+~~(me.getUTCMonth()/3)}return{format:function(me){var nt=Y(me+="",U);return nt.toString=function(){return me},nt},parse:function(me){var nt=L(me+="",!1);return nt.toString=function(){return me},nt},utcFormat:function(me){var nt=Y(me+="",V);return nt.toString=function(){return me},nt},utcParse:function(me){var nt=L(me+="",!0);return nt.toString=function(){return me},nt}}}var xN={"-":"",_:" ",0:"0"},zn=/^\s*\d+/,Uz=/^%/,Fz=/[\\^$*+?|[\]().{}]/g;function sr(e,t,r){var n=e<0?"-":"",l=(n?-e:e)+"",c=l.length;return n+(c<r?new Array(r-c+1).join(t)+l:l)}function Hz(e){return e.replace(Fz,"\\$&")}function md(e){return new RegExp("^(?:"+e.map(Hz).join("|")+")","i")}function pd(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Gz(e,t,r){var n=zn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Vz(e,t,r){var n=zn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Yz(e,t,r){var n=zn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function qz(e,t,r){var n=zn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Xz(e,t,r){var n=zn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function gN(e,t,r){var n=zn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function yN(e,t,r){var n=zn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Wz(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Kz(e,t,r){var n=zn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Zz(e,t,r){var n=zn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function vN(e,t,r){var n=zn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function $z(e,t,r){var n=zn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function bN(e,t,r){var n=zn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Qz(e,t,r){var n=zn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Jz(e,t,r){var n=zn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function eU(e,t,r){var n=zn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function tU(e,t,r){var n=zn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function rU(e,t,r){var n=Uz.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function nU(e,t,r){var n=zn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function aU(e,t,r){var n=zn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function wN(e,t){return sr(e.getDate(),t,2)}function iU(e,t){return sr(e.getHours(),t,2)}function sU(e,t){return sr(e.getHours()%12||12,t,2)}function lU(e,t){return sr(1+lf.count(Ks(e),e),t,3)}function w5(e,t){return sr(e.getMilliseconds(),t,3)}function oU(e,t){return w5(e,t)+"000"}function cU(e,t){return sr(e.getMonth()+1,t,2)}function uU(e,t){return sr(e.getMinutes(),t,2)}function dU(e,t){return sr(e.getSeconds(),t,2)}function fU(e){var t=e.getDay();return t===0?7:t}function hU(e,t){return sr(Gm.count(Ks(e)-1,e),t,2)}function A5(e){var t=e.getDay();return t>=4||t===0?tu(e):tu.ceil(e)}function mU(e,t){return e=A5(e),sr(tu.count(Ks(e),e)+(Ks(e).getDay()===4),t,2)}function pU(e){return e.getDay()}function xU(e,t){return sr(Gh.count(Ks(e)-1,e),t,2)}function gU(e,t){return sr(e.getFullYear()%100,t,2)}function yU(e,t){return e=A5(e),sr(e.getFullYear()%100,t,2)}function vU(e,t){return sr(e.getFullYear()%1e4,t,4)}function bU(e,t){var r=e.getDay();return e=r>=4||r===0?tu(e):tu.ceil(e),sr(e.getFullYear()%1e4,t,4)}function wU(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+sr(t/60|0,"0",2)+sr(t%60,"0",2)}function AN(e,t){return sr(e.getUTCDate(),t,2)}function AU(e,t){return sr(e.getUTCHours(),t,2)}function SU(e,t){return sr(e.getUTCHours()%12||12,t,2)}function EU(e,t){return sr(1+Hm.count(Zs(e),e),t,3)}function S5(e,t){return sr(e.getUTCMilliseconds(),t,3)}function NU(e,t){return S5(e,t)+"000"}function CU(e,t){return sr(e.getUTCMonth()+1,t,2)}function TU(e,t){return sr(e.getUTCMinutes(),t,2)}function OU(e,t){return sr(e.getUTCSeconds(),t,2)}function IU(e){var t=e.getUTCDay();return t===0?7:t}function _U(e,t){return sr(Vm.count(Zs(e)-1,e),t,2)}function E5(e){var t=e.getUTCDay();return t>=4||t===0?ru(e):ru.ceil(e)}function MU(e,t){return e=E5(e),sr(ru.count(Zs(e),e)+(Zs(e).getUTCDay()===4),t,2)}function jU(e){return e.getUTCDay()}function kU(e,t){return sr(Vh.count(Zs(e)-1,e),t,2)}function DU(e,t){return sr(e.getUTCFullYear()%100,t,2)}function RU(e,t){return e=E5(e),sr(e.getUTCFullYear()%100,t,2)}function PU(e,t){return sr(e.getUTCFullYear()%1e4,t,4)}function LU(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ru(e):ru.ceil(e),sr(e.getUTCFullYear()%1e4,t,4)}function BU(){return"+0000"}function SN(){return"%"}function EN(e){return+e}function NN(e){return Math.floor(+e/1e3)}var Bc,N5,C5;zU({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function zU(e){return Bc=zz(e),N5=Bc.format,Bc.parse,C5=Bc.utcFormat,Bc.utcParse,Bc}function UU(e){return new Date(e)}function FU(e){return e instanceof Date?+e:+new Date(+e)}function sb(e,t,r,n,l,c,f,x,b,y){var w=qv(),A=w.invert,T=w.domain,_=y(".%L"),j=y(":%S"),M=y("%I:%M"),k=y("%I %p"),R=y("%a %d"),F=y("%b %d"),U=y("%B"),V=y("%Y");function q(Y){return(b(Y)<Y?_:x(Y)<Y?j:f(Y)<Y?M:c(Y)<Y?k:n(Y)<Y?l(Y)<Y?R:F:r(Y)<Y?U:V)(Y)}return w.invert=function(Y){return new Date(A(Y))},w.domain=function(Y){return arguments.length?T(Array.from(Y,FU)):T().map(UU)},w.ticks=function(Y){var L=T();return e(L[0],L[L.length-1],Y??10)},w.tickFormat=function(Y,L){return L==null?q:y(L)},w.nice=function(Y){var L=T();return(!Y||typeof Y.range!="function")&&(Y=t(L[0],L[L.length-1],Y??10)),Y?T(f5(L,Y)):w},w.copy=function(){return sf(w,sb(e,t,r,n,l,c,f,x,b,y))},w}function HU(){return bi.apply(sb(Lz,Bz,Ks,ab,Gm,lf,rb,eb,Mo,N5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function GU(){return bi.apply(sb(Rz,Pz,Zs,ib,Vm,Hm,nb,tb,Mo,C5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ym(){var e=0,t=1,r,n,l,c,f=fa,x=!1,b;function y(A){return A==null||isNaN(A=+A)?b:f(l===0?.5:(A=(c(A)-r)*l,x?Math.max(0,Math.min(1,A)):A))}y.domain=function(A){return arguments.length?([e,t]=A,r=c(e=+e),n=c(t=+t),l=r===n?0:1/(n-r),y):[e,t]},y.clamp=function(A){return arguments.length?(x=!!A,y):x},y.interpolator=function(A){return arguments.length?(f=A,y):f};function w(A){return function(T){var _,j;return arguments.length?([_,j]=T,f=A(_,j),y):[f(0),f(1)]}}return y.range=w(lu),y.rangeRound=w(Yv),y.unknown=function(A){return arguments.length?(b=A,y):b},function(A){return c=A,r=A(e),n=A(t),l=r===n?0:1/(n-r),y}}function eo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function T5(){var e=Jl(Ym()(fa));return e.copy=function(){return eo(e,T5())},rl.apply(e,arguments)}function O5(){var e=Kv(Ym()).domain([1,10]);return e.copy=function(){return eo(e,O5()).base(e.base())},rl.apply(e,arguments)}function I5(){var e=Zv(Ym());return e.copy=function(){return eo(e,I5()).constant(e.constant())},rl.apply(e,arguments)}function lb(){var e=$v(Ym());return e.copy=function(){return eo(e,lb()).exponent(e.exponent())},rl.apply(e,arguments)}function VU(){return lb.apply(null,arguments).exponent(.5)}function _5(){var e=[],t=fa;function r(n){if(n!=null&&!isNaN(n=+n))return t((nf(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let l of n)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(ql),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,l)=>t(l/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(l,c)=>IB(e,c/n))},r.copy=function(){return _5(t).domain(e)},rl.apply(r,arguments)}function qm(){var e=0,t=.5,r=1,n=1,l,c,f,x,b,y=fa,w,A=!1,T;function _(M){return isNaN(M=+M)?T:(M=.5+((M=+w(M))-c)*(n*M<n*c?x:b),y(A?Math.max(0,Math.min(1,M)):M))}_.domain=function(M){return arguments.length?([e,t,r]=M,l=w(e=+e),c=w(t=+t),f=w(r=+r),x=l===c?0:.5/(c-l),b=c===f?0:.5/(f-c),n=c<l?-1:1,_):[e,t,r]},_.clamp=function(M){return arguments.length?(A=!!M,_):A},_.interpolator=function(M){return arguments.length?(y=M,_):y};function j(M){return function(k){var R,F,U;return arguments.length?([R,F,U]=k,y=rz(M,[R,F,U]),_):[y(0),y(.5),y(1)]}}return _.range=j(lu),_.rangeRound=j(Yv),_.unknown=function(M){return arguments.length?(T=M,_):T},function(M){return w=M,l=M(e),c=M(t),f=M(r),x=l===c?0:.5/(c-l),b=c===f?0:.5/(f-c),n=c<l?-1:1,_}}function M5(){var e=Jl(qm()(fa));return e.copy=function(){return eo(e,M5())},rl.apply(e,arguments)}function j5(){var e=Kv(qm()).domain([.1,1,10]);return e.copy=function(){return eo(e,j5()).base(e.base())},rl.apply(e,arguments)}function k5(){var e=Zv(qm());return e.copy=function(){return eo(e,k5()).constant(e.constant())},rl.apply(e,arguments)}function ob(){var e=$v(qm());return e.copy=function(){return eo(e,ob()).exponent(e.exponent())},rl.apply(e,arguments)}function YU(){return ob.apply(null,arguments).exponent(.5)}const yd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Hv,scaleDiverging:M5,scaleDivergingLog:j5,scaleDivergingPow:ob,scaleDivergingSqrt:YU,scaleDivergingSymlog:k5,scaleIdentity:d5,scaleImplicit:ky,scaleLinear:u5,scaleLog:h5,scaleOrdinal:Fv,scalePoint:jB,scalePow:Qv,scaleQuantile:x5,scaleQuantize:g5,scaleRadial:p5,scaleSequential:T5,scaleSequentialLog:O5,scaleSequentialPow:lb,scaleSequentialQuantile:_5,scaleSequentialSqrt:VU,scaleSequentialSymlog:I5,scaleSqrt:Nz,scaleSymlog:m5,scaleThreshold:y5,scaleTime:HU,scaleUtc:GU,tickFormat:c5},Symbol.toStringTag,{value:"Module"}));var nl=e=>e.chartData,D5=Se([nl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),R5=(e,t,r,n)=>n?D5(e):nl(e),P5=(e,t,r)=>r?D5(e):nl(e);function $s(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Gt(t)&&Gt(r))return!0}return!1}function CN(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function L5(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,l,c;if(Gt(r))l=r;else if(typeof r=="function")return;if(Gt(n))c=n;else if(typeof n=="function")return;var f=[l,c];if($s(f))return f}}function qU(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if($s(n))return CN(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[l,c]=e,f,x;if(l==="auto")t!=null&&(f=Math.min(...t));else if(tt(l))f=l;else if(typeof l=="function")try{t!=null&&(f=l(t==null?void 0:t[0]))}catch{}else if(typeof l=="string"&&B3.test(l)){var b=B3.exec(l);if(b==null||b[1]==null||t==null)f=void 0;else{var y=+b[1];f=t[0]-y}}else f=t==null?void 0:t[0];if(c==="auto")t!=null&&(x=Math.max(...t));else if(tt(c))x=c;else if(typeof c=="function")try{t!=null&&(x=c(t==null?void 0:t[1]))}catch{}else if(typeof c=="string"&&z3.test(c)){var w=z3.exec(c);if(w==null||w[1]==null||t==null)x=void 0;else{var A=+w[1];x=t[1]+A}}else x=t==null?void 0:t[1];var T=[f,x];if($s(T))return t==null?T:CN(T,t,r)}}}var ou=1e9,XU={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ub,Vr=!0,yi="[DecimalError] ",Po=yi+"Invalid argument: ",cb=yi+"Exponent out of range: ",cu=Math.floor,To=Math.pow,WU=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Wa,Rn=1e7,Br=7,B5=9007199254740991,Yh=cu(B5/Br),ot={};ot.absoluteValue=ot.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ot.comparedTo=ot.cmp=function(e){var t,r,n,l,c=this;if(e=new c.constructor(e),c.s!==e.s)return c.s||-e.s;if(c.e!==e.e)return c.e>e.e^c.s<0?1:-1;for(n=c.d.length,l=e.d.length,t=0,r=n<l?n:l;t<r;++t)if(c.d[t]!==e.d[t])return c.d[t]>e.d[t]^c.s<0?1:-1;return n===l?0:n>l^c.s<0?1:-1};ot.decimalPlaces=ot.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Br;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ot.dividedBy=ot.div=function(e){return Gs(this,new this.constructor(e))};ot.dividedToIntegerBy=ot.idiv=function(e){var t=this,r=t.constructor;return jr(Gs(t,new r(e),0,1),r.precision)};ot.equals=ot.eq=function(e){return!this.cmp(e)};ot.exponent=function(){return bn(this)};ot.greaterThan=ot.gt=function(e){return this.cmp(e)>0};ot.greaterThanOrEqualTo=ot.gte=function(e){return this.cmp(e)>=0};ot.isInteger=ot.isint=function(){return this.e>this.d.length-2};ot.isNegative=ot.isneg=function(){return this.s<0};ot.isPositive=ot.ispos=function(){return this.s>0};ot.isZero=function(){return this.s===0};ot.lessThan=ot.lt=function(e){return this.cmp(e)<0};ot.lessThanOrEqualTo=ot.lte=function(e){return this.cmp(e)<1};ot.logarithm=ot.log=function(e){var t,r=this,n=r.constructor,l=n.precision,c=l+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Wa))throw Error(yi+"NaN");if(r.s<1)throw Error(yi+(r.s?"NaN":"-Infinity"));return r.eq(Wa)?new n(0):(Vr=!1,t=Gs(Fd(r,c),Fd(e,c),c),Vr=!0,jr(t,l))};ot.minus=ot.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?F5(t,e):z5(t,(e.s=-e.s,e))};ot.modulo=ot.mod=function(e){var t,r=this,n=r.constructor,l=n.precision;if(e=new n(e),!e.s)throw Error(yi+"NaN");return r.s?(Vr=!1,t=Gs(r,e,0,1).times(e),Vr=!0,r.minus(t)):jr(new n(r),l)};ot.naturalExponential=ot.exp=function(){return U5(this)};ot.naturalLogarithm=ot.ln=function(){return Fd(this)};ot.negated=ot.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ot.plus=ot.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?z5(t,e):F5(t,(e.s=-e.s,e))};ot.precision=ot.sd=function(e){var t,r,n,l=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Po+e);if(t=bn(l)+1,n=l.d.length-1,r=n*Br+1,n=l.d[n],n){for(;n%10==0;n/=10)r--;for(n=l.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ot.squareRoot=ot.sqrt=function(){var e,t,r,n,l,c,f,x=this,b=x.constructor;if(x.s<1){if(!x.s)return new b(0);throw Error(yi+"NaN")}for(e=bn(x),Vr=!1,l=Math.sqrt(+x),l==0||l==1/0?(t=rs(x.d),(t.length+e)%2==0&&(t+="0"),l=Math.sqrt(t),e=cu((e+1)/2)-(e<0||e%2),l==1/0?t="5e"+e:(t=l.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new b(t)):n=new b(l.toString()),r=b.precision,l=f=r+3;;)if(c=n,n=c.plus(Gs(x,c,f+2)).times(.5),rs(c.d).slice(0,f)===(t=rs(n.d)).slice(0,f)){if(t=t.slice(f-3,f+1),l==f&&t=="4999"){if(jr(c,r+1,0),c.times(c).eq(x)){n=c;break}}else if(t!="9999")break;f+=4}return Vr=!0,jr(n,r)};ot.times=ot.mul=function(e){var t,r,n,l,c,f,x,b,y,w=this,A=w.constructor,T=w.d,_=(e=new A(e)).d;if(!w.s||!e.s)return new A(0);for(e.s*=w.s,r=w.e+e.e,b=T.length,y=_.length,b<y&&(c=T,T=_,_=c,f=b,b=y,y=f),c=[],f=b+y,n=f;n--;)c.push(0);for(n=y;--n>=0;){for(t=0,l=b+n;l>n;)x=c[l]+_[n]*T[l-n-1]+t,c[l--]=x%Rn|0,t=x/Rn|0;c[l]=(c[l]+t)%Rn|0}for(;!c[--f];)c.pop();return t?++r:c.shift(),e.d=c,e.e=r,Vr?jr(e,A.precision):e};ot.toDecimalPlaces=ot.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ss(e,0,ou),t===void 0?t=n.rounding:ss(t,0,8),jr(r,e+bn(r)+1,t))};ot.toExponential=function(e,t){var r,n=this,l=n.constructor;return e===void 0?r=Yo(n,!0):(ss(e,0,ou),t===void 0?t=l.rounding:ss(t,0,8),n=jr(new l(n),e+1,t),r=Yo(n,!0,e+1)),r};ot.toFixed=function(e,t){var r,n,l=this,c=l.constructor;return e===void 0?Yo(l):(ss(e,0,ou),t===void 0?t=c.rounding:ss(t,0,8),n=jr(new c(l),e+bn(l)+1,t),r=Yo(n.abs(),!1,e+bn(n)+1),l.isneg()&&!l.isZero()?"-"+r:r)};ot.toInteger=ot.toint=function(){var e=this,t=e.constructor;return jr(new t(e),bn(e)+1,t.rounding)};ot.toNumber=function(){return+this};ot.toPower=ot.pow=function(e){var t,r,n,l,c,f,x=this,b=x.constructor,y=12,w=+(e=new b(e));if(!e.s)return new b(Wa);if(x=new b(x),!x.s){if(e.s<1)throw Error(yi+"Infinity");return x}if(x.eq(Wa))return x;if(n=b.precision,e.eq(Wa))return jr(x,n);if(t=e.e,r=e.d.length-1,f=t>=r,c=x.s,f){if((r=w<0?-w:w)<=B5){for(l=new b(Wa),t=Math.ceil(n/Br+4),Vr=!1;r%2&&(l=l.times(x),ON(l.d,t)),r=cu(r/2),r!==0;)x=x.times(x),ON(x.d,t);return Vr=!0,e.s<0?new b(Wa).div(l):jr(l,n)}}else if(c<0)throw Error(yi+"NaN");return c=c<0&&e.d[Math.max(t,r)]&1?-1:1,x.s=1,Vr=!1,l=e.times(Fd(x,n+y)),Vr=!0,l=U5(l),l.s=c,l};ot.toPrecision=function(e,t){var r,n,l=this,c=l.constructor;return e===void 0?(r=bn(l),n=Yo(l,r<=c.toExpNeg||r>=c.toExpPos)):(ss(e,1,ou),t===void 0?t=c.rounding:ss(t,0,8),l=jr(new c(l),e,t),r=bn(l),n=Yo(l,e<=r||r<=c.toExpNeg,e)),n};ot.toSignificantDigits=ot.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ss(e,1,ou),t===void 0?t=n.rounding:ss(t,0,8)),jr(new n(r),e,t)};ot.toString=ot.valueOf=ot.val=ot.toJSON=ot[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=bn(e),r=e.constructor;return Yo(e,t<=r.toExpNeg||t>=r.toExpPos)};function z5(e,t){var r,n,l,c,f,x,b,y,w=e.constructor,A=w.precision;if(!e.s||!t.s)return t.s||(t=new w(e)),Vr?jr(t,A):t;if(b=e.d,y=t.d,f=e.e,l=t.e,b=b.slice(),c=f-l,c){for(c<0?(n=b,c=-c,x=y.length):(n=y,l=f,x=b.length),f=Math.ceil(A/Br),x=f>x?f+1:x+1,c>x&&(c=x,n.length=1),n.reverse();c--;)n.push(0);n.reverse()}for(x=b.length,c=y.length,x-c<0&&(c=x,n=y,y=b,b=n),r=0;c;)r=(b[--c]=b[c]+y[c]+r)/Rn|0,b[c]%=Rn;for(r&&(b.unshift(r),++l),x=b.length;b[--x]==0;)b.pop();return t.d=b,t.e=l,Vr?jr(t,A):t}function ss(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Po+e)}function rs(e){var t,r,n,l=e.length-1,c="",f=e[0];if(l>0){for(c+=f,t=1;t<l;t++)n=e[t]+"",r=Br-n.length,r&&(c+=Hl(r)),c+=n;f=e[t],n=f+"",r=Br-n.length,r&&(c+=Hl(r))}else if(f===0)return"0";for(;f%10===0;)f/=10;return c+f}var Gs=(function(){function e(n,l){var c,f=0,x=n.length;for(n=n.slice();x--;)c=n[x]*l+f,n[x]=c%Rn|0,f=c/Rn|0;return f&&n.unshift(f),n}function t(n,l,c,f){var x,b;if(c!=f)b=c>f?1:-1;else for(x=b=0;x<c;x++)if(n[x]!=l[x]){b=n[x]>l[x]?1:-1;break}return b}function r(n,l,c){for(var f=0;c--;)n[c]-=f,f=n[c]<l[c]?1:0,n[c]=f*Rn+n[c]-l[c];for(;!n[0]&&n.length>1;)n.shift()}return function(n,l,c,f){var x,b,y,w,A,T,_,j,M,k,R,F,U,V,q,Y,L,J,K=n.constructor,Ce=n.s==l.s?1:-1,oe=n.d,ee=l.d;if(!n.s)return new K(n);if(!l.s)throw Error(yi+"Division by zero");for(b=n.e-l.e,L=ee.length,q=oe.length,_=new K(Ce),j=_.d=[],y=0;ee[y]==(oe[y]||0);)++y;if(ee[y]>(oe[y]||0)&&--b,c==null?F=c=K.precision:f?F=c+(bn(n)-bn(l))+1:F=c,F<0)return new K(0);if(F=F/Br+2|0,y=0,L==1)for(w=0,ee=ee[0],F++;(y<q||w)&&F--;y++)U=w*Rn+(oe[y]||0),j[y]=U/ee|0,w=U%ee|0;else{for(w=Rn/(ee[0]+1)|0,w>1&&(ee=e(ee,w),oe=e(oe,w),L=ee.length,q=oe.length),V=L,M=oe.slice(0,L),k=M.length;k<L;)M[k++]=0;J=ee.slice(),J.unshift(0),Y=ee[0],ee[1]>=Rn/2&&++Y;do w=0,x=t(ee,M,L,k),x<0?(R=M[0],L!=k&&(R=R*Rn+(M[1]||0)),w=R/Y|0,w>1?(w>=Rn&&(w=Rn-1),A=e(ee,w),T=A.length,k=M.length,x=t(A,M,T,k),x==1&&(w--,r(A,L<T?J:ee,T))):(w==0&&(x=w=1),A=ee.slice()),T=A.length,T<k&&A.unshift(0),r(M,A,k),x==-1&&(k=M.length,x=t(ee,M,L,k),x<1&&(w++,r(M,L<k?J:ee,k))),k=M.length):x===0&&(w++,M=[0]),j[y++]=w,x&&M[0]?M[k++]=oe[V]||0:(M=[oe[V]],k=1);while((V++<q||M[0]!==void 0)&&F--)}return j[0]||j.shift(),_.e=b,jr(_,f?c+bn(_)+1:c)}})();function U5(e,t){var r,n,l,c,f,x,b=0,y=0,w=e.constructor,A=w.precision;if(bn(e)>16)throw Error(cb+bn(e));if(!e.s)return new w(Wa);for(Vr=!1,x=A,f=new w(.03125);e.abs().gte(.1);)e=e.times(f),y+=5;for(n=Math.log(To(2,y))/Math.LN10*2+5|0,x+=n,r=l=c=new w(Wa),w.precision=x;;){if(l=jr(l.times(e),x),r=r.times(++b),f=c.plus(Gs(l,r,x)),rs(f.d).slice(0,x)===rs(c.d).slice(0,x)){for(;y--;)c=jr(c.times(c),x);return w.precision=A,t==null?(Vr=!0,jr(c,A)):c}c=f}}function bn(e){for(var t=e.e*Br,r=e.d[0];r>=10;r/=10)t++;return t}function Tg(e,t,r){if(t>e.LN10.sd())throw Vr=!0,r&&(e.precision=r),Error(yi+"LN10 precision limit exceeded");return jr(new e(e.LN10),t)}function Hl(e){for(var t="";e--;)t+="0";return t}function Fd(e,t){var r,n,l,c,f,x,b,y,w,A=1,T=10,_=e,j=_.d,M=_.constructor,k=M.precision;if(_.s<1)throw Error(yi+(_.s?"NaN":"-Infinity"));if(_.eq(Wa))return new M(0);if(t==null?(Vr=!1,y=k):y=t,_.eq(10))return t==null&&(Vr=!0),Tg(M,y);if(y+=T,M.precision=y,r=rs(j),n=r.charAt(0),c=bn(_),Math.abs(c)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)_=_.times(e),r=rs(_.d),n=r.charAt(0),A++;c=bn(_),n>1?(_=new M("0."+r),c++):_=new M(n+"."+r.slice(1))}else return b=Tg(M,y+2,k).times(c+""),_=Fd(new M(n+"."+r.slice(1)),y-T).plus(b),M.precision=k,t==null?(Vr=!0,jr(_,k)):_;for(x=f=_=Gs(_.minus(Wa),_.plus(Wa),y),w=jr(_.times(_),y),l=3;;){if(f=jr(f.times(w),y),b=x.plus(Gs(f,new M(l),y)),rs(b.d).slice(0,y)===rs(x.d).slice(0,y))return x=x.times(2),c!==0&&(x=x.plus(Tg(M,y+2,k).times(c+""))),x=Gs(x,new M(A),y),M.precision=k,t==null?(Vr=!0,jr(x,k)):x;x=b,l+=2}}function TN(e,t){var r,n,l;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(l=t.length;t.charCodeAt(l-1)===48;)--l;if(t=t.slice(n,l),t){if(l-=n,r=r-n-1,e.e=cu(r/Br),e.d=[],n=(r+1)%Br,r<0&&(n+=Br),n<l){for(n&&e.d.push(+t.slice(0,n)),l-=Br;n<l;)e.d.push(+t.slice(n,n+=Br));t=t.slice(n),n=Br-t.length}else n-=l;for(;n--;)t+="0";if(e.d.push(+t),Vr&&(e.e>Yh||e.e<-Yh))throw Error(cb+r)}else e.s=0,e.e=0,e.d=[0];return e}function jr(e,t,r){var n,l,c,f,x,b,y,w,A=e.d;for(f=1,c=A[0];c>=10;c/=10)f++;if(n=t-f,n<0)n+=Br,l=t,y=A[w=0];else{if(w=Math.ceil((n+1)/Br),c=A.length,w>=c)return e;for(y=c=A[w],f=1;c>=10;c/=10)f++;n%=Br,l=n-Br+f}if(r!==void 0&&(c=To(10,f-l-1),x=y/c%10|0,b=t<0||A[w+1]!==void 0||y%c,b=r<4?(x||b)&&(r==0||r==(e.s<0?3:2)):x>5||x==5&&(r==4||b||r==6&&(n>0?l>0?y/To(10,f-l):0:A[w-1])%10&1||r==(e.s<0?8:7))),t<1||!A[0])return b?(c=bn(e),A.length=1,t=t-c-1,A[0]=To(10,(Br-t%Br)%Br),e.e=cu(-t/Br)||0):(A.length=1,A[0]=e.e=e.s=0),e;if(n==0?(A.length=w,c=1,w--):(A.length=w+1,c=To(10,Br-n),A[w]=l>0?(y/To(10,f-l)%To(10,l)|0)*c:0),b)for(;;)if(w==0){(A[0]+=c)==Rn&&(A[0]=1,++e.e);break}else{if(A[w]+=c,A[w]!=Rn)break;A[w--]=0,c=1}for(n=A.length;A[--n]===0;)A.pop();if(Vr&&(e.e>Yh||e.e<-Yh))throw Error(cb+bn(e));return e}function F5(e,t){var r,n,l,c,f,x,b,y,w,A,T=e.constructor,_=T.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new T(e),Vr?jr(t,_):t;if(b=e.d,A=t.d,n=t.e,y=e.e,b=b.slice(),f=y-n,f){for(w=f<0,w?(r=b,f=-f,x=A.length):(r=A,n=y,x=b.length),l=Math.max(Math.ceil(_/Br),x)+2,f>l&&(f=l,r.length=1),r.reverse(),l=f;l--;)r.push(0);r.reverse()}else{for(l=b.length,x=A.length,w=l<x,w&&(x=l),l=0;l<x;l++)if(b[l]!=A[l]){w=b[l]<A[l];break}f=0}for(w&&(r=b,b=A,A=r,t.s=-t.s),x=b.length,l=A.length-x;l>0;--l)b[x++]=0;for(l=A.length;l>f;){if(b[--l]<A[l]){for(c=l;c&&b[--c]===0;)b[c]=Rn-1;--b[c],b[l]+=Rn}b[l]-=A[l]}for(;b[--x]===0;)b.pop();for(;b[0]===0;b.shift())--n;return b[0]?(t.d=b,t.e=n,Vr?jr(t,_):t):new T(0)}function Yo(e,t,r){var n,l=bn(e),c=rs(e.d),f=c.length;return t?(r&&(n=r-f)>0?c=c.charAt(0)+"."+c.slice(1)+Hl(n):f>1&&(c=c.charAt(0)+"."+c.slice(1)),c=c+(l<0?"e":"e+")+l):l<0?(c="0."+Hl(-l-1)+c,r&&(n=r-f)>0&&(c+=Hl(n))):l>=f?(c+=Hl(l+1-f),r&&(n=r-l-1)>0&&(c=c+"."+Hl(n))):((n=l+1)<f&&(c=c.slice(0,n)+"."+c.slice(n)),r&&(n=r-f)>0&&(l+1===f&&(c+="."),c+=Hl(n))),e.s<0?"-"+c:c}function ON(e,t){if(e.length>t)return e.length=t,!0}function H5(e){var t,r,n;function l(c){var f=this;if(!(f instanceof l))return new l(c);if(f.constructor=l,c instanceof l){f.s=c.s,f.e=c.e,f.d=(c=c.d)?c.slice():c;return}if(typeof c=="number"){if(c*0!==0)throw Error(Po+c);if(c>0)f.s=1;else if(c<0)c=-c,f.s=-1;else{f.s=0,f.e=0,f.d=[0];return}if(c===~~c&&c<1e7){f.e=0,f.d=[c];return}return TN(f,c.toString())}else if(typeof c!="string")throw Error(Po+c);if(c.charCodeAt(0)===45?(c=c.slice(1),f.s=-1):f.s=1,WU.test(c))TN(f,c);else throw Error(Po+c)}if(l.prototype=ot,l.ROUND_UP=0,l.ROUND_DOWN=1,l.ROUND_CEIL=2,l.ROUND_FLOOR=3,l.ROUND_HALF_UP=4,l.ROUND_HALF_DOWN=5,l.ROUND_HALF_EVEN=6,l.ROUND_HALF_CEIL=7,l.ROUND_HALF_FLOOR=8,l.clone=H5,l.config=l.set=KU,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return l.config(e),l}function KU(e){if(!e||typeof e!="object")throw Error(yi+"Object expected");var t,r,n,l=["precision",1,ou,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<l.length;t+=3)if((n=e[r=l[t]])!==void 0)if(cu(n)===n&&n>=l[t+1]&&n<=l[t+2])this[r]=n;else throw Error(Po+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Po+r+": "+n);return this}var ub=H5(XU);Wa=new ub(1);const vr=ub;function G5(e){var t;return e===0?t=1:t=Math.floor(new vr(e).abs().log(10).toNumber())+1,t}function V5(e,t,r){for(var n=new vr(e),l=0,c=[];n.lt(t)&&l<1e5;)c.push(n.toNumber()),n=n.add(r),l++;return c}var Y5=e=>{var[t,r]=e,[n,l]=[t,r];return t>r&&([n,l]=[r,t]),[n,l]},q5=(e,t,r)=>{if(e.lte(0))return new vr(0);var n=G5(e.toNumber()),l=new vr(10).pow(n),c=e.div(l),f=n!==1?.05:.1,x=new vr(Math.ceil(c.div(f).toNumber())).add(r).mul(f),b=x.mul(l);return t?new vr(b.toNumber()):new vr(Math.ceil(b.toNumber()))},ZU=(e,t,r)=>{var n=new vr(1),l=new vr(e);if(!l.isint()&&r){var c=Math.abs(e);c<1?(n=new vr(10).pow(G5(e)-1),l=new vr(Math.floor(l.div(n).toNumber())).mul(n)):c>1&&(l=new vr(Math.floor(e)))}else e===0?l=new vr(Math.floor((t-1)/2)):r||(l=new vr(Math.floor(e)));for(var f=Math.floor((t-1)/2),x=[],b=0;b<t;b++)x.push(l.add(new vr(b-f).mul(n)).toNumber());return x},X5=function(t,r,n,l){var c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new vr(0),tickMin:new vr(0),tickMax:new vr(0)};var f=q5(new vr(r).sub(t).div(n-1),l,c),x;t<=0&&r>=0?x=new vr(0):(x=new vr(t).add(r).div(2),x=x.sub(new vr(x).mod(f)));var b=Math.ceil(x.sub(t).div(f).toNumber()),y=Math.ceil(new vr(r).sub(x).div(f).toNumber()),w=b+y+1;return w>n?X5(t,r,n,l,c+1):(w<n&&(y=r>0?y+(n-w):y,b=r>0?b:b+(n-w)),{step:f,tickMin:x.sub(new vr(b).mul(f)),tickMax:x.add(new vr(y).mul(f))})},$U=function(t){var[r,n]=t,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,f=Math.max(l,2),[x,b]=Y5([r,n]);if(x===-1/0||b===1/0){var y=b===1/0?[x,...Array(l-1).fill(1/0)]:[...Array(l-1).fill(-1/0),b];return r>n?y.reverse():y}if(x===b)return ZU(x,l,c);var{step:w,tickMin:A,tickMax:T}=X5(x,b,f,c,0),_=V5(A,T.add(new vr(.1).mul(w)),w);return r>n?_.reverse():_},QU=function(t,r){var[n,l]=t,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[f,x]=Y5([n,l]);if(f===-1/0||x===1/0)return[n,l];if(f===x)return[f];var b=Math.max(r,2),y=q5(new vr(x).sub(f).div(b-1),c,0),w=[...V5(new vr(f),new vr(x),y),x];return c===!1&&(w=w.map(A=>Math.round(A))),n>l?w.reverse():w},W5=e=>e.rootProps.maxBarSize,JU=e=>e.rootProps.barGap,K5=e=>e.rootProps.barCategoryGap,eF=e=>e.rootProps.barSize,Xm=e=>e.rootProps.stackOffset,Z5=e=>e.rootProps.reverseStackOrder,db=e=>e.options.chartName,fb=e=>e.rootProps.syncId,$5=e=>e.rootProps.syncMethod,hb=e=>e.options.eventEmitter,tF=e=>e.rootProps.baseValue,Pn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Eo={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Qi={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Wm=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function Km(e,t,r){if(r!=="auto")return r;if(e!=null)return cs(e,t)?"category":"number"}function IN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function qh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IN(Object(r),!0).forEach(function(n){rF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rF(e,t,r){return(t=nF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nF(e){var t=aF(e,"string");return typeof t=="symbol"?t:t+""}function aF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _N={allowDataOverflow:Eo.allowDataOverflow,allowDecimals:Eo.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Eo.angleAxisId,includeHidden:!1,name:void 0,reversed:Eo.reversed,scale:Eo.scale,tick:Eo.tick,tickCount:void 0,ticks:void 0,type:Eo.type,unit:void 0},MN={allowDataOverflow:Qi.allowDataOverflow,allowDecimals:Qi.allowDecimals,allowDuplicatedCategory:Qi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Qi.radiusAxisId,includeHidden:Qi.includeHidden,name:void 0,reversed:Qi.reversed,scale:Qi.scale,tick:Qi.tick,tickCount:Qi.tickCount,ticks:void 0,type:Qi.type,unit:void 0},iF=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},mb=Se([iF,LO],(e,t)=>{var r;if(e!=null)return e;var n=(r=Km(t,"angleAxis",_N.type))!==null&&r!==void 0?r:"category";return qh(qh({},_N),{},{type:n})}),sF=(e,t)=>e.polarAxis.radiusAxis[t],pb=Se([sF,LO],(e,t)=>{var r;if(e!=null)return e;var n=(r=Km(t,"radiusAxis",MN.type))!==null&&r!==void 0?r:"category";return qh(qh({},MN),{},{type:n})}),Zm=e=>e.polarOptions,xb=Se([el,tl,Bn],nB),Q5=Se([Zm,xb],(e,t)=>{if(e!=null)return Pi(e.innerRadius,t,0)}),J5=Se([Zm,xb],(e,t)=>{if(e!=null)return Pi(e.outerRadius,t,t*.8)}),lF=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},e8=Se([Zm],lF);Se([mb,e8],Wm);var t8=Se([xb,Q5,J5],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Se([pb,t8],Wm);var r8=Se([fr,Zm,Q5,J5,el,tl],(e,t,r,n,l,c)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:f,cy:x,startAngle:b,endAngle:y}=t;return{cx:Pi(f,l,l/2),cy:Pi(x,c,c/2),innerRadius:r,outerRadius:n,startAngle:b,endAngle:y,clockWise:!1}}}),Un=(e,t)=>t,$m=(e,t,r)=>r;function Qm(e){return e==null?void 0:e.id}function n8(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:l,dataKey:c}=r,f=new Map;return e.forEach(x=>{var b,y=(b=x.data)!==null&&b!==void 0?b:n;if(!(y==null||y.length===0)){var w=Qm(x);y.forEach((A,T)=>{var _=c==null||l?T:String(vn(A,c,null)),j=vn(A,x.dataKey,0),M;f.has(_)?M=f.get(_):M={},Object.assign(M,{[w]:j}),f.set(_,M)})}}),Array.from(f.values())}function Jm(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var e1=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function t1(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function oF(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Fn=e=>{var t=fr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},uu=e=>e.tooltip.settings.axisId;function cF(e){if(e in yd)return yd[e]();var t="scale".concat(Zd(e));if(t in yd)return yd[t]()}function jN(e){var t=e.ticks,r=e.bandwidth,n=e.range(),l=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:(function(c){function f(){return c.apply(this,arguments)}return f.toString=function(){return c.toString()},f})(()=>l),rangeMin:()=>l[0],rangeMax:()=>l[1],isInRange(c){var f=l[0],x=l[1];return f<=x?c>=f&&c<=x:c>=x&&c<=f},bandwidth:r?()=>r.call(e):void 0,ticks:t?c=>t.call(e,c):void 0,map:(c,f)=>{var x=e(c);if(x!=null){if(e.bandwidth&&f!==null&&f!==void 0&&f.position){var b=e.bandwidth();switch(f.position){case"middle":x+=b/2;break;case"end":x+=b;break}}return x}}}}function kN(e,t,r){if(typeof e=="function")return jN(e.copy().domain(t).range(r));if(e!=null){var n=cF(e);if(n!=null)return n.domain(t).range(r),jN(n)}}var uF=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!$s(t)){for(var r,n,l=0;l<t.length;l++){var c=t[l];Gt(c)&&((r===void 0||c<r)&&(r=c),(n===void 0||c>n)&&(n=c))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function DN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function Xh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DN(Object(r),!0).forEach(function(n){dF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dF(e,t,r){return(t=fF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fF(e){var t=hF(e,"string");return typeof t=="symbol"?t:t+""}function hF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ly=[0,"auto"],kn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},a8=(e,t)=>e.cartesianAxis.xAxis[t],al=(e,t)=>{var r=a8(e,t);return r??kn},Dn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Ly,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Jd},i8=(e,t)=>e.cartesianAxis.yAxis[t],il=(e,t)=>{var r=i8(e,t);return r??Dn},mF={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},gb=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??mF},ya=(e,t,r)=>{switch(t){case"xAxis":return al(e,r);case"yAxis":return il(e,r);case"zAxis":return gb(e,r);case"angleAxis":return mb(e,r);case"radiusAxis":return pb(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},pF=(e,t,r)=>{switch(t){case"xAxis":return al(e,r);case"yAxis":return il(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},of=(e,t,r)=>{switch(t){case"xAxis":return al(e,r);case"yAxis":return il(e,r);case"angleAxis":return mb(e,r);case"radiusAxis":return pb(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},s8=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function l8(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var r1=e=>e.graphicalItems.cartesianItems,xF=Se([Un,$m],l8),o8=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),cf=Se([r1,ya,xF],o8,{memoizeOptions:{resultEqualityCheck:t1}}),c8=Se([cf],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Jm)),u8=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),gF=Se([cf],u8),d8=e=>e.map(t=>t.data).filter(Boolean).flat(1),yF=Se([cf],d8,{memoizeOptions:{resultEqualityCheck:t1}}),f8=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:l}=t;return e.length>0?e:r.slice(n,l+1)},yb=Se([yF,R5],f8),h8=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:vn(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(l=>({value:vn(l,n)}))):e.map(n=>({value:n})),n1=Se([yb,ya,cf],h8);function m8(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function th(e){if(as(e)||e instanceof Date){var t=Number(e);if(Gt(t))return t}}function RN(e){if(Array.isArray(e)){var t=[th(e[0]),th(e[1])];return $s(t)?t:void 0}var r=th(e);if(r!=null)return[r,r]}function Qs(e){return e.map(th).filter(Ia)}function vF(e,t,r){return!r||typeof t!="number"||Ri(t)?[]:r.length?Qs(r.flatMap(n=>{var l=vn(e,n.dataKey),c,f;if(Array.isArray(l)?[c,f]=l:c=f=l,!(!Gt(c)||!Gt(f)))return[t-c,t+f]})):[]}var On=e=>{var t=Fn(e),r=uu(e);return of(e,t,r)},uf=Se([On],e=>e==null?void 0:e.dataKey),bF=Se([c8,R5,On],n8),p8=(e,t,r,n)=>{var l={},c=t.reduce((f,x)=>{if(x.stackId==null)return f;var b=f[x.stackId];return b==null&&(b=[]),b.push(x),f[x.stackId]=b,f},l);return Object.fromEntries(Object.entries(c).map(f=>{var[x,b]=f,y=n?[...b].reverse():b,w=y.map(Qm);return[x,{stackedData:K9(e,w,r),graphicalItems:y}]}))},Wh=Se([bF,c8,Xm,Z5],p8),x8=(e,t,r,n)=>{var{dataStartIndex:l,dataEndIndex:c}=t;if(n==null&&r!=="zAxis"){var f=J9(e,l,c);if(!(f!=null&&f[0]===0&&f[1]===0))return f}},wF=Se([ya],e=>e.allowDataOverflow),vb=e=>{var t;if(e==null||!("domain"in e))return Ly;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Qs(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Ly},g8=Se([ya],vb),y8=Se([g8,wF],L5),AF=Se([Wh,nl,Un,y8],x8,{memoizeOptions:{resultEqualityCheck:e1}}),bb=e=>e.errorBars,SF=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>m8(r,n)),Kh=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var l=r.filter(Boolean);if(l.length!==0){var c=l.flat(),f=Math.min(...c),x=Math.max(...c);return[f,x]}},v8=(e,t,r,n,l)=>{var c,f;if(r.length>0&&e.forEach(x=>{r.forEach(b=>{var y,w,A=(y=n[b.id])===null||y===void 0?void 0:y.filter(R=>m8(l,R)),T=vn(x,(w=t.dataKey)!==null&&w!==void 0?w:b.dataKey),_=vF(x,T,A);if(_.length>=2){var j=Math.min(..._),M=Math.max(..._);(c==null||j<c)&&(c=j),(f==null||M>f)&&(f=M)}var k=RN(T);k!=null&&(c=c==null?k[0]:Math.min(c,k[0]),f=f==null?k[1]:Math.max(f,k[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(x=>{var b=RN(vn(x,t.dataKey));b!=null&&(c=c==null?b[0]:Math.min(c,b[0]),f=f==null?b[1]:Math.max(f,b[1]))}),Gt(c)&&Gt(f))return[c,f]},EF=Se([yb,ya,gF,bb,Un],v8,{memoizeOptions:{resultEqualityCheck:e1}});function NF(e){var{value:t}=e;if(as(t)||t instanceof Date)return t}var CF=(e,t,r)=>{var n=e.map(NF).filter(l=>l!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&DT(n))?e5(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},b8=e=>e.referenceElements.dots,du=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),TF=Se([b8,Un,$m],du),w8=e=>e.referenceElements.areas,OF=Se([w8,Un,$m],du),A8=e=>e.referenceElements.lines,IF=Se([A8,Un,$m],du),S8=(e,t)=>{if(e!=null){var r=Qs(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},_F=Se(TF,Un,S8),E8=(e,t)=>{if(e!=null){var r=Qs(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},MF=Se([OF,Un],E8);function jF(e){var t;if(e.x!=null)return Qs([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Qs(r)}function kF(e){var t;if(e.y!=null)return Qs([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Qs(r)}var N8=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?jF(n):kF(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},DF=Se([IF,Un],N8),RF=Se(_F,DF,MF,(e,t,r)=>Kh(e,r,t)),C8=(e,t,r,n,l,c,f,x)=>{if(r!=null)return r;var b=f==="vertical"&&x==="xAxis"||f==="horizontal"&&x==="yAxis",y=b?Kh(n,c,l):Kh(c,l);return qU(t,y,e.allowDataOverflow)},PF=Se([ya,g8,y8,AF,EF,RF,fr,Un],C8,{memoizeOptions:{resultEqualityCheck:e1}}),LF=[0,1],T8=(e,t,r,n,l,c,f)=>{if(!((e==null||r==null||r.length===0)&&f===void 0)){var{dataKey:x,type:b}=e,y=cs(t,c);if(y&&x==null){var w;return e5(0,(w=r==null?void 0:r.length)!==null&&w!==void 0?w:0)}return b==="category"?CF(n,e,y):l==="expand"?LF:f}},wb=Se([ya,fr,yb,n1,Xm,Un,PF],T8);function BF(e){return e in yd}var O8=(e,t,r)=>{if(e!=null){var{scale:n,type:l}=e;if(n==="auto")return l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":l==="category"?"band":"linear";if(typeof n=="string"){var c="scale".concat(Zd(n));return BF(c)?c:"point"}}},fu=Se([ya,s8,db],O8);function Ab(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?kN(e.scale,r,n):kN(t,r,n)}var I8=(e,t,r)=>{var n=vb(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&$s(e))return $U(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&$s(e))return QU(e,t.tickCount,t.allowDecimals)}},Sb=Se([wb,of,fu],I8),_8=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&$s(t)&&Array.isArray(r)&&r.length>0){var l,c,f=t[0],x=(l=r[0])!==null&&l!==void 0?l:0,b=t[1],y=(c=r[r.length-1])!==null&&c!==void 0?c:0;return[Math.min(f,x),Math.max(b,y)]}return t},zF=Se([ya,wb,Sb,Un],_8),UF=Se(n1,ya,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Qs(e.map(A=>A.value))).sort((A,T)=>A-T),l=n[0],c=n[n.length-1];if(l==null||c==null)return 1/0;var f=c-l;if(f===0)return 1/0;for(var x=0;x<n.length-1;x++){var b=n[x],y=n[x+1];if(!(b==null||y==null)){var w=y-b;r=Math.min(r,w)}}return r/f}}),M8=Se(UF,fr,K5,Bn,(e,t,r,n,l)=>l,(e,t,r,n,l)=>{if(!Gt(e))return 0;var c=t==="vertical"?n.height:n.width;if(l==="gap")return e*c/2;if(l==="no-gap"){var f=Pi(r,e*c),x=e*c/2;return x-f-(x-f)/c*f}return 0}),FF=(e,t,r)=>{var n=al(e,t);return n==null||typeof n.padding!="string"?0:M8(e,"xAxis",t,r,n.padding)},HF=(e,t,r)=>{var n=il(e,t);return n==null||typeof n.padding!="string"?0:M8(e,"yAxis",t,r,n.padding)},GF=Se(al,FF,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:l}=e;return typeof l=="string"?{left:t,right:t}:{left:((r=l.left)!==null&&r!==void 0?r:0)+t,right:((n=l.right)!==null&&n!==void 0?n:0)+t}}),VF=Se(il,HF,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:l}=e;return typeof l=="string"?{top:t,bottom:t}:{top:((r=l.top)!==null&&r!==void 0?r:0)+t,bottom:((n=l.bottom)!==null&&n!==void 0?n:0)+t}}),YF=Se([Bn,GF,Dm,km,(e,t,r)=>r],(e,t,r,n,l)=>{var{padding:c}=n;return l?[c.left,r.width-c.right]:[e.left+t.left,e.left+e.width-t.right]}),qF=Se([Bn,fr,VF,Dm,km,(e,t,r)=>r],(e,t,r,n,l,c)=>{var{padding:f}=l;return c?[n.height-f.bottom,f.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),df=(e,t,r,n)=>{var l;switch(t){case"xAxis":return YF(e,r,n);case"yAxis":return qF(e,r,n);case"zAxis":return(l=gb(e,r))===null||l===void 0?void 0:l.range;case"angleAxis":return e8(e);case"radiusAxis":return t8(e,r);default:return}},j8=Se([ya,df],Wm),XF=Se([fu,zF],uF),a1=Se([ya,fu,XF,j8],Ab);Se([cf,bb,Un],SF);function k8(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var i1=(e,t)=>t,s1=(e,t,r)=>r,WF=Se(Mm,i1,s1,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(k8)),KF=Se(jm,i1,s1,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(k8)),D8=(e,t)=>({width:e.width,height:t.height}),ZF=(e,t)=>{var r=typeof t.width=="number"?t.width:Jd;return{width:r,height:e.height}},R8=Se(Bn,al,D8),$F=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},QF=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},JF=Se(tl,Bn,WF,i1,s1,(e,t,r,n,l)=>{var c={},f;return r.forEach(x=>{var b=D8(t,x);f==null&&(f=$F(t,n,e));var y=n==="top"&&!l||n==="bottom"&&l;c[x.id]=f-Number(y)*b.height,f+=(y?-1:1)*b.height}),c}),eH=Se(el,Bn,KF,i1,s1,(e,t,r,n,l)=>{var c={},f;return r.forEach(x=>{var b=ZF(t,x);f==null&&(f=QF(t,n,e));var y=n==="left"&&!l||n==="right"&&l;c[x.id]=f-Number(y)*b.width,f+=(y?-1:1)*b.width}),c}),tH=(e,t)=>{var r=al(e,t);if(r!=null)return JF(e,r.orientation,r.mirror)},rH=Se([Bn,al,tH,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var l=r==null?void 0:r[n];return l==null?{x:e.left,y:0}:{x:e.left,y:l}}}),nH=(e,t)=>{var r=il(e,t);if(r!=null)return eH(e,r.orientation,r.mirror)},aH=Se([Bn,il,nH,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var l=r==null?void 0:r[n];return l==null?{x:0,y:e.top}:{x:l,y:e.top}}}),P8=Se(Bn,il,(e,t)=>{var r=typeof t.width=="number"?t.width:Jd;return{width:r,height:e.height}}),PN=(e,t,r)=>{switch(t){case"xAxis":return R8(e,r).width;case"yAxis":return P8(e,r).height;default:return}},L8=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:l,type:c,dataKey:f}=r,x=cs(e,n),b=t.map(y=>y.value);if(f&&x&&c==="category"&&l&&DT(b))return b}},Eb=Se([fr,n1,ya,Un],L8),B8=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:l,scale:c}=r,f=cs(e,n);if(f&&(l==="number"||c!=="auto"))return t.map(x=>x.value)}},Nb=Se([fr,n1,of,Un],B8),LN=Se([fr,pF,fu,a1,Eb,Nb,df,Sb,Un],(e,t,r,n,l,c,f,x,b)=>{if(t!=null){var y=cs(e,b);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:b,categoricalDomain:c,duplicateDomain:l,isCategorical:y,niceTicks:x,range:f,realScaleType:r,scale:n}}}),iH=(e,t,r,n,l,c,f,x,b)=>{if(!(t==null||n==null)){var y=cs(e,b),{type:w,ticks:A,tickCount:T}=t,_=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,j=w==="category"&&n.bandwidth?n.bandwidth()/_:0;j=b==="angleAxis"&&c!=null&&c.length>=2?Oa(c[0]-c[1])*2*j:j;var M=A||l;return M?M.map((k,R)=>{var F=f?f.indexOf(k):k,U=n.map(F);return Gt(U)?{index:R,coordinate:U+j,value:k,offset:j}:null}).filter(Ia):y&&x?x.map((k,R)=>{var F=n.map(k);return Gt(F)?{coordinate:F+j,value:k,index:R,offset:j}:null}).filter(Ia):n.ticks?n.ticks(T).map((k,R)=>{var F=n.map(k);return Gt(F)?{coordinate:F+j,value:k,index:R,offset:j}:null}).filter(Ia):n.domain().map((k,R)=>{var F=n.map(k);return Gt(F)?{coordinate:F+j,value:f?f[k]:k,index:R,offset:j}:null}).filter(Ia)}},z8=Se([fr,of,fu,a1,Sb,df,Eb,Nb,Un],iH),sH=(e,t,r,n,l,c,f)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var x=cs(e,f),{tickCount:b}=t,y=0;return y=f==="angleAxis"&&(n==null?void 0:n.length)>=2?Oa(n[0]-n[1])*2*y:y,x&&c?c.map((w,A)=>{var T=r.map(w);return Gt(T)?{coordinate:T+y,value:w,index:A,offset:y}:null}).filter(Ia):r.ticks?r.ticks(b).map((w,A)=>{var T=r.map(w);return Gt(T)?{coordinate:T+y,value:w,index:A,offset:y}:null}).filter(Ia):r.domain().map((w,A)=>{var T=r.map(w);return Gt(T)?{coordinate:T+y,value:l?l[w]:w,index:A,offset:y}:null}).filter(Ia)}},Kl=Se([fr,of,a1,df,Eb,Nb,Un],sH),Zl=Se(ya,a1,(e,t)=>{if(!(e==null||t==null))return Xh(Xh({},e),{},{scale:t})}),lH=Se([ya,fu,wb,j8],Ab);Se((e,t,r)=>gb(e,r),lH,(e,t)=>{if(!(e==null||t==null))return Xh(Xh({},e),{},{scale:t})});var oH=Se([fr,Mm,jm],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),U8=e=>e.options.defaultTooltipEventType,F8=e=>e.options.validateTooltipEventTypes;function H8(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Cb(e,t){var r=U8(e),n=F8(e);return H8(t,r,n)}function cH(e){return gt(t=>Cb(t,e))}var G8=(e,t)=>{var r,n=Number(t);if(!(Ri(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},uH=e=>e.tooltip.settings,Vl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},dH={itemInteraction:{click:Vl,hover:Vl},axisInteraction:{click:Vl,hover:Vl},keyboardInteraction:Vl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},V8=ka({name:"tooltip",initialState:dH,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Gr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,l=Di(e).tooltipItemPayloads.indexOf(r);l>-1&&(e.tooltipItemPayloads[l]=n)},prepare:Gr()},removeTooltipEntrySettings:{reducer(e,t){var r=Di(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Gr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:fH,replaceTooltipEntrySettings:hH,removeTooltipEntrySettings:mH,setTooltipSettingsState:pH,setActiveMouseOverItemIndex:Y8,mouseLeaveItem:xH,mouseLeaveChart:q8,setActiveClickItemIndex:gH,setMouseOverAxisIndex:X8,setMouseClickAxisIndex:yH,setSyncInteraction:By,setKeyboardInteraction:zy}=V8.actions,vH=V8.reducer;function BN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function Y0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BN(Object(r),!0).forEach(function(n){bH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bH(e,t,r){return(t=wH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wH(e){var t=AH(e,"string");return typeof t=="symbol"?t:t+""}function AH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SH(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function EH(e){return e.index!=null}var W8=(e,t,r,n)=>{if(t==null)return Vl;var l=SH(e,t,r);if(l==null)return Vl;if(l.active)return l;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var c=e.settings.active===!0;if(EH(l)){if(c)return Y0(Y0({},l),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Y0(Y0({},Vl),{},{coordinate:l.coordinate})};function NH(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function CH(e,t){var r=NH(e),n=t[0],l=t[1];if(r===void 0)return!1;var c=Math.min(n,l),f=Math.max(n,l);return r>=c&&r<=f}function TH(e,t,r){if(r==null||t==null)return!0;var n=vn(e,t);return n==null||!$s(r)?!0:CH(n,r)}var Tb=(e,t,r,n)=>{var l=e==null?void 0:e.index;if(l==null)return null;var c=Number(l);if(!Gt(c))return l;var f=0,x=1/0;t.length>0&&(x=t.length-1);var b=Math.max(f,Math.min(c,x)),y=t[b];return y==null||TH(y,r,n)?String(b):null},K8=(e,t,r,n,l,c,f)=>{if(c!=null){var x=f[0],b=x==null?void 0:x.getPosition(c);if(b!=null)return b;var y=l==null?void 0:l[Number(c)];if(y)switch(r){case"horizontal":return{x:y.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:y.coordinate}}}},Z8=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var l;if(r==="hover"?l=e.itemInteraction.hover.graphicalItemId:l=e.itemInteraction.click.graphicalItemId,l==null&&n!=null){var c=e.tooltipItemPayloads[0];return c!=null?[c]:[]}return e.tooltipItemPayloads.filter(f=>{var x;return((x=f.settings)===null||x===void 0?void 0:x.graphicalItemId)===l})},$8=e=>e.options.tooltipPayloadSearcher,hu=e=>e.tooltip;function zN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function UN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zN(Object(r),!0).forEach(function(n){OH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OH(e,t,r){return(t=IH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IH(e){var t=_H(e,"string");return typeof t=="symbol"?t:t+""}function _H(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MH(e,t){return e??t}var Q8=(e,t,r,n,l,c,f)=>{if(!(t==null||c==null)){var{chartData:x,computedData:b,dataStartIndex:y,dataEndIndex:w}=r,A=[];return e.reduce((T,_)=>{var j,{dataDefinedOnItem:M,settings:k}=_,R=MH(M,x),F=Array.isArray(R)?CO(R,y,w):R,U=(j=k==null?void 0:k.dataKey)!==null&&j!==void 0?j:n,V=k==null?void 0:k.nameKey,q;if(n&&Array.isArray(F)&&!Array.isArray(F[0])&&f==="axis"?q=RT(F,n,l):q=c(F,t,b,V),Array.isArray(q))q.forEach(L=>{var J=UN(UN({},k),{},{name:L.name,unit:L.unit,color:void 0,fill:void 0});T.push(U3({tooltipEntrySettings:J,dataKey:L.dataKey,payload:L.payload,value:vn(L.payload,L.dataKey),name:L.name}))});else{var Y;T.push(U3({tooltipEntrySettings:k,dataKey:U,payload:q,value:vn(q,U),name:(Y=vn(q,V))!==null&&Y!==void 0?Y:k==null?void 0:k.name}))}return T},A)}},Ob=Se([On,s8,db],O8),jH=Se([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),kH=Se([Fn,uu],l8),mu=Se([jH,On,kH],o8,{memoizeOptions:{resultEqualityCheck:t1}}),DH=Se([mu],e=>e.filter(Jm)),RH=Se([mu],d8,{memoizeOptions:{resultEqualityCheck:t1}}),pu=Se([RH,nl],f8),PH=Se([DH,nl,On],n8),Ib=Se([pu,On,mu],h8),J8=Se([On],vb),LH=Se([On],e=>e.allowDataOverflow),e6=Se([J8,LH],L5),BH=Se([mu],e=>e.filter(Jm)),zH=Se([PH,BH,Xm,Z5],p8),UH=Se([zH,nl,Fn,e6],x8),FH=Se([mu],u8),HH=Se([pu,On,FH,bb,Fn],v8,{memoizeOptions:{resultEqualityCheck:e1}}),GH=Se([b8,Fn,uu],du),VH=Se([GH,Fn],S8),YH=Se([w8,Fn,uu],du),qH=Se([YH,Fn],E8),XH=Se([A8,Fn,uu],du),WH=Se([XH,Fn],N8),KH=Se([VH,WH,qH],Kh),ZH=Se([On,J8,e6,UH,HH,KH,fr,Fn],C8),ff=Se([On,fr,pu,Ib,Xm,Fn,ZH],T8),$H=Se([ff,On,Ob],I8),QH=Se([On,ff,$H,Fn],_8),t6=e=>{var t=Fn(e),r=uu(e),n=!1;return df(e,t,r,n)},r6=Se([On,t6],Wm),n6=Se([On,Ob,QH,r6],Ab),JH=Se([fr,Ib,On,Fn],L8),eG=Se([fr,Ib,On,Fn],B8),tG=(e,t,r,n,l,c,f,x)=>{if(t){var{type:b}=t,y=cs(e,x);if(n){var w=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,A=b==="category"&&n.bandwidth?n.bandwidth()/w:0;return A=x==="angleAxis"&&l!=null&&(l==null?void 0:l.length)>=2?Oa(l[0]-l[1])*2*A:A,y&&f?f.map((T,_)=>{var j=n.map(T);return Gt(j)?{coordinate:j+A,value:T,index:_,offset:A}:null}).filter(Ia):n.domain().map((T,_)=>{var j=n.map(T);return Gt(j)?{coordinate:j+A,value:c?c[T]:T,index:_,offset:A}:null}).filter(Ia)}}},sl=Se([fr,On,Ob,n6,t6,JH,eG,Fn],tG),_b=Se([U8,F8,uH],(e,t,r)=>H8(r.shared,e,t)),a6=e=>e.tooltip.settings.trigger,Mb=e=>e.tooltip.settings.defaultIndex,hf=Se([hu,_b,a6,Mb],W8),qo=Se([hf,pu,uf,ff],Tb),i6=Se([sl,qo],G8),s6=Se([hf],e=>{if(e)return e.dataKey});Se([hf],e=>{if(e)return e.graphicalItemId});var l6=Se([hu,_b,a6,Mb],Z8),rG=Se([el,tl,fr,Bn,sl,Mb,l6],K8),nG=Se([hf,rG],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),aG=Se([hf],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),iG=Se([l6,qo,nl,uf,i6,$8,_b],Q8),sG=Se([iG],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function FN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function HN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FN(Object(r),!0).forEach(function(n){lG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lG(e,t,r){return(t=oG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oG(e){var t=cG(e,"string");return typeof t=="symbol"?t:t+""}function cG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uG=()=>gt(On),dG=()=>{var e=uG(),t=gt(sl),r=gt(n6);return Qc(!e||!r?void 0:HN(HN({},e),{},{scale:r}),t)};function GN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function zc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GN(Object(r),!0).forEach(function(n){fG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fG(e,t,r){return(t=hG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hG(e){var t=mG(e,"string");return typeof t=="symbol"?t:t+""}function mG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pG=(e,t,r,n)=>{var l=t.find(c=>c&&c.index===r);if(l){if(e==="horizontal")return{x:l.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:l.coordinate}}return{x:0,y:0}},xG=(e,t,r,n)=>{var l=t.find(y=>y&&y.index===r);if(l){if(e==="centric"){var c=l.coordinate,{radius:f}=n;return zc(zc(zc({},n),Jn(n.cx,n.cy,f,c)),{},{angle:c,radius:f})}var x=l.coordinate,{angle:b}=n;return zc(zc(zc({},n),Jn(n.cx,n.cy,x,b)),{},{angle:b,radius:x})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function gG(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var o6=(e,t,r,n,l)=>{var c,f=(c=t==null?void 0:t.length)!==null&&c!==void 0?c:0;if(f<=1||e==null)return 0;if(n==="angleAxis"&&l!=null&&Math.abs(Math.abs(l[1]-l[0])-360)<=1e-6)for(var x=0;x<f;x++){var b,y,w,A,T,_=x>0?(b=r[x-1])===null||b===void 0?void 0:b.coordinate:(y=r[f-1])===null||y===void 0?void 0:y.coordinate,j=(w=r[x])===null||w===void 0?void 0:w.coordinate,M=x>=f-1?(A=r[0])===null||A===void 0?void 0:A.coordinate:(T=r[x+1])===null||T===void 0?void 0:T.coordinate,k=void 0;if(!(_==null||j==null||M==null))if(Oa(j-_)!==Oa(M-j)){var R=[];if(Oa(M-j)===Oa(l[1]-l[0])){k=M;var F=j+l[1]-l[0];R[0]=Math.min(F,(F+_)/2),R[1]=Math.max(F,(F+_)/2)}else{k=_;var U=M+l[1]-l[0];R[0]=Math.min(j,(U+j)/2),R[1]=Math.max(j,(U+j)/2)}var V=[Math.min(j,(k+j)/2),Math.max(j,(k+j)/2)];if(e>V[0]&&e<=V[1]||e>=R[0]&&e<=R[1]){var q;return(q=r[x])===null||q===void 0?void 0:q.index}}else{var Y=Math.min(_,M),L=Math.max(_,M);if(e>(Y+j)/2&&e<=(L+j)/2){var J;return(J=r[x])===null||J===void 0?void 0:J.index}}}else if(t)for(var K=0;K<f;K++){var Ce=t[K];if(Ce!=null){var oe=t[K+1],ee=t[K-1];if(K===0&&oe!=null&&e<=(Ce.coordinate+oe.coordinate)/2||K===f-1&&ee!=null&&e>(Ce.coordinate+ee.coordinate)/2||K>0&&K<f-1&&ee!=null&&oe!=null&&e>(Ce.coordinate+ee.coordinate)/2&&e<=(Ce.coordinate+oe.coordinate)/2)return Ce.index}}return-1},c6=()=>gt(db),jb=(e,t)=>t,u6=(e,t,r)=>r,kb=(e,t,r,n)=>n,yG=Se(sl,e=>bm(e,t=>t.coordinate)),Db=Se([hu,jb,u6,kb],W8),Rb=Se([Db,pu,uf,ff],Tb),vG=(e,t,r)=>{if(t!=null){var n=hu(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},d6=Se([hu,jb,u6,kb],Z8),Zh=Se([el,tl,fr,Bn,sl,kb,d6],K8),bG=Se([Db,Zh],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),f6=Se([sl,Rb],G8),wG=Se([d6,Rb,nl,uf,f6,$8,jb],Q8),AG=Se([Db,Rb],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),SG=(e,t,r,n,l,c,f)=>{if(!(!e||!r||!n||!l)&&gG(e,f)){var x=eP(e,t),b=o6(x,c,l,r,n),y=pG(t,l,b,e);return{activeIndex:String(b),activeCoordinate:y}}},EG=(e,t,r,n,l,c,f)=>{if(!(!e||!n||!l||!c||!r)){var x=oB(e,r);if(x){var b=tP(x,t),y=o6(b,f,c,n,l),w=xG(t,c,y,x);return{activeIndex:String(y),activeCoordinate:w}}}},NG=(e,t,r,n,l,c,f,x)=>{if(!(!e||!t||!n||!l||!c))return t==="horizontal"||t==="vertical"?SG(e,t,n,l,c,f,x):EG(e,t,r,n,l,c,f)},CG=Se(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),TG=Se(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Pn)),r=Array.from(new Set(t));return r.sort((n,l)=>n-l)},{memoizeOptions:{resultEqualityCheck:oF}});function VN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function YN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VN(Object(r),!0).forEach(function(n){OG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OG(e,t,r){return(t=IG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IG(e){var t=_G(e,"string");return typeof t=="symbol"?t:t+""}function _G(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MG={},jG={zIndexMap:Object.values(Pn).reduce((e,t)=>YN(YN({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),MG)},kG=new Set(Object.values(Pn));function DG(e){return kG.has(e)}var h6=ka({name:"zIndex",initialState:jG,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Gr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!DG(r)&&delete e.zIndexMap[r])},prepare:Gr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:l}=t.payload;e.zIndexMap[r]?l?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:l?void 0:n,panoramaElement:l?n:void 0}},prepare:Gr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Gr()}}}),{registerZIndexPortal:RG,unregisterZIndexPortal:PG,registerZIndexPortalElement:LG,unregisterZIndexPortalElement:BG}=h6.actions,zG=h6.reducer;function wi(e){var{zIndex:t,children:r}=e,n=kP(),l=n&&t!==void 0&&t!==0,c=ia(),f=fn();O.useLayoutEffect(()=>l?(f(RG({zIndex:t})),()=>{f(PG({zIndex:t}))}):Zo,[f,t,l]);var x=gt(b=>CG(b,t,c));return l?x?q4.createPortal(r,x):null:r}function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uy.apply(null,arguments)}function qN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function q0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qN(Object(r),!0).forEach(function(n){UG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UG(e,t,r){return(t=FG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FG(e){var t=HG(e,"string");return typeof t=="symbol"?t:t+""}function HG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GG(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return O.isValidElement(t)?O.cloneElement(t,n):O.createElement(r,n)}function VG(e){var t,{coordinate:r,payload:n,index:l,offset:c,tooltipAxisBandSize:f,layout:x,cursor:b,tooltipEventType:y,chartName:w}=e,A=r,T=n,_=l;if(!b||!A||w!=="ScatterChart"&&y!=="axis")return null;var j,M,k;if(w==="ScatterChart")j=A,M=wL,k=Pn.cursorLine;else if(w==="BarChart")j=AL(x,A,c,f),M=ZO,k=Pn.cursorRectangle;else if(x==="radial"&&BT(A)){var{cx:R,cy:F,radius:U,startAngle:V,endAngle:q}=$O(A);j={cx:R,cy:F,startAngle:V,endAngle:q,innerRadius:U,outerRadius:U},M=JO,k=Pn.cursorLine}else j={points:fB(x,A,c)},M=wd,k=Pn.cursorLine;var Y=typeof b=="object"&&"className"in b?b.className:void 0,L=q0(q0(q0(q0({stroke:"#ccc",pointerEvents:"none"},c),j),Kd(b)),{},{payload:T,payloadIndex:_,className:Nr("recharts-tooltip-cursor",Y)});return O.createElement(wi,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:k},O.createElement(GG,{cursor:b,cursorComp:M,cursorProps:L}))}function YG(e){var t=dG(),r=DO(),n=$o(),l=c6();return t==null||r==null||n==null||l==null?null:O.createElement(VG,Uy({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:l}))}var m6=O.createContext(null),qG=()=>O.useContext(m6),Og={exports:{}},XN;function XG(){return XN||(XN=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function l(b,y,w){this.fn=b,this.context=y,this.once=w||!1}function c(b,y,w,A,T){if(typeof w!="function")throw new TypeError("The listener must be a function");var _=new l(w,A||b,T),j=r?r+y:y;return b._events[j]?b._events[j].fn?b._events[j]=[b._events[j],_]:b._events[j].push(_):(b._events[j]=_,b._eventsCount++),b}function f(b,y){--b._eventsCount===0?b._events=new n:delete b._events[y]}function x(){this._events=new n,this._eventsCount=0}x.prototype.eventNames=function(){var y=[],w,A;if(this._eventsCount===0)return y;for(A in w=this._events)t.call(w,A)&&y.push(r?A.slice(1):A);return Object.getOwnPropertySymbols?y.concat(Object.getOwnPropertySymbols(w)):y},x.prototype.listeners=function(y){var w=r?r+y:y,A=this._events[w];if(!A)return[];if(A.fn)return[A.fn];for(var T=0,_=A.length,j=new Array(_);T<_;T++)j[T]=A[T].fn;return j},x.prototype.listenerCount=function(y){var w=r?r+y:y,A=this._events[w];return A?A.fn?1:A.length:0},x.prototype.emit=function(y,w,A,T,_,j){var M=r?r+y:y;if(!this._events[M])return!1;var k=this._events[M],R=arguments.length,F,U;if(k.fn){switch(k.once&&this.removeListener(y,k.fn,void 0,!0),R){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,w),!0;case 3:return k.fn.call(k.context,w,A),!0;case 4:return k.fn.call(k.context,w,A,T),!0;case 5:return k.fn.call(k.context,w,A,T,_),!0;case 6:return k.fn.call(k.context,w,A,T,_,j),!0}for(U=1,F=new Array(R-1);U<R;U++)F[U-1]=arguments[U];k.fn.apply(k.context,F)}else{var V=k.length,q;for(U=0;U<V;U++)switch(k[U].once&&this.removeListener(y,k[U].fn,void 0,!0),R){case 1:k[U].fn.call(k[U].context);break;case 2:k[U].fn.call(k[U].context,w);break;case 3:k[U].fn.call(k[U].context,w,A);break;case 4:k[U].fn.call(k[U].context,w,A,T);break;default:if(!F)for(q=1,F=new Array(R-1);q<R;q++)F[q-1]=arguments[q];k[U].fn.apply(k[U].context,F)}}return!0},x.prototype.on=function(y,w,A){return c(this,y,w,A,!1)},x.prototype.once=function(y,w,A){return c(this,y,w,A,!0)},x.prototype.removeListener=function(y,w,A,T){var _=r?r+y:y;if(!this._events[_])return this;if(!w)return f(this,_),this;var j=this._events[_];if(j.fn)j.fn===w&&(!T||j.once)&&(!A||j.context===A)&&f(this,_);else{for(var M=0,k=[],R=j.length;M<R;M++)(j[M].fn!==w||T&&!j[M].once||A&&j[M].context!==A)&&k.push(j[M]);k.length?this._events[_]=k.length===1?k[0]:k:f(this,_)}return this},x.prototype.removeAllListeners=function(y){var w;return y?(w=r?r+y:y,this._events[w]&&f(this,w)):(this._events=new n,this._eventsCount=0),this},x.prototype.off=x.prototype.removeListener,x.prototype.addListener=x.prototype.on,x.prefixed=r,x.EventEmitter=x,e.exports=x})(Og)),Og.exports}var WG=XG();const KG=ls(WG);var Hd=new KG,Fy="recharts.syncEvent.tooltip",WN="recharts.syncEvent.brush",p6=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!Ri(r))return e[r]}},ZG={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},x6=ka({name:"options",initialState:ZG,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),$G=x6.reducer,{createEventEmitter:QG}=x6.actions;function JG(e){return e.tooltip.syncInteraction}var eV={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},g6=ka({name:"chartData",initialState:eV,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:KN,setDataStartEndIndexes:tV,setComputedData:nQ}=g6.actions,rV=g6.reducer,nV=["x","y"];function ZN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function Uc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(r),!0).forEach(function(n){aV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aV(e,t,r){return(t=iV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iV(e){var t=sV(e,"string");return typeof t=="symbol"?t:t+""}function sV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lV(e,t){if(e==null)return{};var r,n,l=oV(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function oV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cV(){var e=gt(fb),t=gt(hb),r=fn(),n=gt($5),l=gt(sl),c=$o(),f=Rm(),x=gt(b=>b.rootProps.className);O.useEffect(()=>{if(e==null)return Zo;var b=(y,w,A)=>{if(t!==A&&e===y){if(n==="index"){var T;if(f&&w!==null&&w!==void 0&&(T=w.payload)!==null&&T!==void 0&&T.coordinate&&w.payload.sourceViewBox){var _=w.payload.coordinate,{x:j,y:M}=_,k=lV(_,nV),{x:R,y:F,width:U,height:V}=w.payload.sourceViewBox,q=Uc(Uc({},k),{},{x:f.x+(U?(j-R)/U:0)*f.width,y:f.y+(V?(M-F)/V:0)*f.height});r(Uc(Uc({},w),{},{payload:Uc(Uc({},w.payload),{},{coordinate:q})}))}else r(w);return}if(l!=null){var Y;if(typeof n=="function"){var L={activeTooltipIndex:w.payload.index==null?void 0:Number(w.payload.index),isTooltipActive:w.payload.active,activeIndex:w.payload.index==null?void 0:Number(w.payload.index),activeLabel:w.payload.label,activeDataKey:w.payload.dataKey,activeCoordinate:w.payload.coordinate},J=n(l,L);Y=l[J]}else n==="value"&&(Y=l.find(te=>String(te.value)===w.payload.label));var{coordinate:K}=w.payload;if(Y==null||w.payload.active===!1||K==null||f==null){r(By({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:Ce,y:oe}=K,ee=Math.min(Ce,f.x+f.width),ce=Math.min(oe,f.y+f.height),fe={x:c==="horizontal"?Y.coordinate:ee,y:c==="horizontal"?ce:Y.coordinate},Z=By({active:w.payload.active,coordinate:fe,dataKey:w.payload.dataKey,index:String(Y.index),label:w.payload.label,sourceViewBox:w.payload.sourceViewBox,graphicalItemId:w.payload.graphicalItemId});r(Z)}}};return Hd.on(Fy,b),()=>{Hd.off(Fy,b)}},[x,r,t,e,n,l,c,f])}function uV(){var e=gt(fb),t=gt(hb),r=fn();O.useEffect(()=>{if(e==null)return Zo;var n=(l,c,f)=>{t!==f&&e===l&&r(tV(c))};return Hd.on(WN,n),()=>{Hd.off(WN,n)}},[r,t,e])}function dV(){var e=fn();O.useEffect(()=>{e(QG())},[e]),cV(),uV()}function fV(e,t,r,n,l,c){var f=gt(_=>vG(_,e,t)),x=gt(hb),b=gt(fb),y=gt($5),w=gt(JG),A=w==null?void 0:w.active,T=Rm();O.useEffect(()=>{if(!A&&b!=null&&x!=null){var _=By({active:c,coordinate:r,dataKey:f,index:l,label:typeof n=="number"?String(n):n,sourceViewBox:T,graphicalItemId:void 0});Hd.emit(Fy,b,_,x)}},[A,r,f,l,n,x,b,y,c,T])}function $N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function QN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$N(Object(r),!0).forEach(function(n){hV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hV(e,t,r){return(t=mV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mV(e){var t=pV(e,"string");return typeof t=="symbol"?t:t+""}function pV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xV(e){return e.dataKey}function gV(e,t){return O.isValidElement(e)?O.cloneElement(e,t):typeof e=="function"?O.createElement(e,t):O.createElement(eL,t)}var JN=[],yV={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function rh(e){var t,r,n=ga(e,yV),{active:l,allowEscapeViewBox:c,animationDuration:f,animationEasing:x,content:b,filterNull:y,isAnimationActive:w,offset:A,payloadUniqBy:T,position:_,reverseDirection:j,useTranslate3d:M,wrapperStyle:k,cursor:R,shared:F,trigger:U,defaultIndex:V,portal:q,axisId:Y}=n,L=fn(),J=typeof V=="number"?String(V):V;O.useEffect(()=>{L(pH({shared:F,trigger:U,axisId:Y,active:l,defaultIndex:J}))},[L,F,U,Y,l,J]);var K=Rm(),Ce=YO(),oe=cH(F),{activeIndex:ee,isActive:ce}=(t=gt(Pe=>AG(Pe,oe,U,J)))!==null&&t!==void 0?t:{},fe=gt(Pe=>wG(Pe,oe,U,J)),Z=gt(Pe=>f6(Pe,oe,U,J)),te=gt(Pe=>bG(Pe,oe,U,J)),ie=fe,ne=qG(),pe=(r=l??ce)!==null&&r!==void 0?r:!1,[Oe,$]=U7([ie,pe]),de=oe==="axis"?Z:void 0;fV(oe,U,te,de,ee,pe);var Te=q??ne;if(Te==null||K==null||oe==null)return null;var ke=ie??JN;pe||(ke=JN),y&&ke.length&&(ke=f7(ke.filter(Pe=>Pe.value!=null&&(Pe.hide!==!0||n.includeHidden)),T,xV));var Qe=ke.length>0,Q=O.createElement(lL,{allowEscapeViewBox:c,animationDuration:f,animationEasing:x,isAnimationActive:w,active:pe,coordinate:te,hasPayload:Qe,offset:A,position:_,reverseDirection:j,useTranslate3d:M,viewBox:K,wrapperStyle:k,lastBoundingBox:Oe,innerRef:$,hasPortalFromProps:!!q},gV(b,QN(QN({},n),{},{payload:ke,label:de,active:pe,activeIndex:ee,coordinate:te,accessibilityLayer:Ce})));return O.createElement(O.Fragment,null,q4.createPortal(Q,Te),pe&&O.createElement(YG,{cursor:R,tooltipEventType:oe,coordinate:te,payload:ke,index:ee}))}var y6=e=>null;y6.displayName="Cell";function vV(e,t,r){return(t=bV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bV(e){var t=wV(e,"string");return typeof t=="symbol"?t:t+""}function wV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class AV{constructor(t){vV(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function eC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function SV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eC(Object(r),!0).forEach(function(n){EV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EV(e,t,r){return(t=NV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NV(e){var t=CV(e,"string");return typeof t=="symbol"?t:t+""}function CV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TV={cacheSize:2e3,enableCache:!0},v6=SV({},TV),tC=new AV(v6.cacheSize),OV={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},rC="recharts_measurement_span";function IV(e,t){var r=t.fontSize||"",n=t.fontFamily||"",l=t.fontWeight||"",c=t.fontStyle||"",f=t.letterSpacing||"",x=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(l,"|").concat(c,"|").concat(f,"|").concat(x)}var nC=(e,t)=>{try{var r=document.getElementById(rC);r||(r=document.createElement("span"),r.setAttribute("id",rC),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,OV,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Ad=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||rf.isSsr)return{width:0,height:0};if(!v6.enableCache)return nC(t,r);var n=IV(t,r),l=tC.get(n);if(l)return l;var c=nC(t,r);return tC.set(n,c),c},b6;function _V(e,t,r){return(t=MV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MV(e){var t=jV(e,"string");return typeof t=="symbol"?t:t+""}function jV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kV=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,DV=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,RV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},PV=["cm","mm","pt","pc","in","Q","px"];function LV(e){return PV.includes(e)}var Gc="NaN";function BV(e,t){return e*RV[t]}class Qn{static parse(t){var r,[,n,l]=(r=DV.exec(t))!==null&&r!==void 0?r:[];return n==null?Qn.NaN:new Qn(parseFloat(n),l??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Ri(t)&&(this.unit=""),r!==""&&!kV.test(r)&&(this.num=NaN,this.unit=""),LV(r)&&(this.num=BV(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Qn(NaN,""):new Qn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Qn(NaN,""):new Qn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Qn(NaN,""):new Qn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Qn(NaN,""):new Qn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ri(this.num)}}b6=Qn;_V(Qn,"NaN",new b6(NaN,""));function w6(e){if(e==null||e.includes(Gc))return Gc;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,l,c]=(r=aC.exec(t))!==null&&r!==void 0?r:[],f=Qn.parse(n??""),x=Qn.parse(c??""),b=l==="*"?f.multiply(x):f.divide(x);if(b.isNaN())return Gc;t=t.replace(aC,b.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var y,[,w,A,T]=(y=iC.exec(t))!==null&&y!==void 0?y:[],_=Qn.parse(w??""),j=Qn.parse(T??""),M=A==="+"?_.add(j):_.subtract(j);if(M.isNaN())return Gc;t=t.replace(iC,M.toString())}return t}var sC=/\(([^()]*)\)/;function zV(e){for(var t=e,r;(r=sC.exec(t))!=null;){var[,n]=r;t=t.replace(sC,w6(n))}return t}function UV(e){var t=e.replace(/\s+/g,"");return t=zV(t),t=w6(t),t}function FV(e){try{return UV(e)}catch{return Gc}}function Ig(e){var t=FV(e.slice(5,-1));return t===Gc?"":t}var HV=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],GV=["dx","dy","angle","className","breakAll"];function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hy.apply(null,arguments)}function lC(e,t){if(e==null)return{};var r,n,l=VV(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function VV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var A6=/[ \f\n\r\t\v\u2028\u2029]+/,S6=e=>{var{children:t,breakAll:r,style:n}=e;try{var l=[];rn(t)||(r?l=t.toString().split(""):l=t.toString().split(A6));var c=l.map(x=>({word:x,width:Ad(x,n).width})),f=r?0:Ad("",n).width;return{wordsWithComputedWidth:c,spaceWidth:f}}catch{return null}};function YV(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var E6=(e,t,r,n)=>e.reduce((l,c)=>{var{word:f,width:x}=c,b=l[l.length-1];if(b&&x!=null&&(t==null||n||b.width+x+r<Number(t)))b.words.push(f),b.width+=x+r;else{var y={words:[f],width:x};l.push(y)}return l},[]),N6=e=>e.reduce((t,r)=>t.width>r.width?t:r),qV="",oC=(e,t,r,n,l,c,f,x)=>{var b=e.slice(0,t),y=S6({breakAll:r,style:n,children:b+qV});if(!y)return[!1,[]];var w=E6(y.wordsWithComputedWidth,c,f,x),A=w.length>l||N6(w).width>Number(c);return[A,w]},XV=(e,t,r,n,l)=>{var{maxLines:c,children:f,style:x,breakAll:b}=e,y=tt(c),w=String(f),A=E6(t,n,r,l);if(!y||l)return A;var T=A.length>c||N6(A).width>Number(n);if(!T)return A;for(var _=0,j=w.length-1,M=0,k;_<=j&&M<=w.length-1;){var R=Math.floor((_+j)/2),F=R-1,[U,V]=oC(w,F,b,x,c,n,r,l),[q]=oC(w,R,b,x,c,n,r,l);if(!U&&!q&&(_=R+1),U&&q&&(j=R-1),!U&&q){k=V;break}M++}return k||A},cC=e=>{var t=rn(e)?[]:e.toString().split(A6);return[{words:t,width:void 0}]},WV=e=>{var{width:t,scaleToFit:r,children:n,style:l,breakAll:c,maxLines:f}=e;if((t||r)&&!rf.isSsr){var x,b,y=S6({breakAll:c,children:n,style:l});if(y){var{wordsWithComputedWidth:w,spaceWidth:A}=y;x=w,b=A}else return cC(n);return XV({breakAll:c,children:n,maxLines:f,style:l},x,b,t,!!r)}return cC(n)},C6="#808080",KV={angle:0,breakAll:!1,capHeight:"0.71em",fill:C6,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Pb=O.forwardRef((e,t)=>{var r=ga(e,KV),{x:n,y:l,lineHeight:c,capHeight:f,fill:x,scaleToFit:b,textAnchor:y,verticalAnchor:w}=r,A=lC(r,HV),T=O.useMemo(()=>WV({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:b,style:A.style,width:A.width}),[A.breakAll,A.children,A.maxLines,b,A.style,A.width]),{dx:_,dy:j,angle:M,className:k,breakAll:R}=A,F=lC(A,GV);if(!as(n)||!as(l)||T.length===0)return null;var U=Number(n)+(tt(_)?_:0),V=Number(l)+(tt(j)?j:0);if(!Gt(U)||!Gt(V))return null;var q;switch(w){case"start":q=Ig("calc(".concat(f,")"));break;case"middle":q=Ig("calc(".concat((T.length-1)/2," * -").concat(c," + (").concat(f," / 2))"));break;default:q=Ig("calc(".concat(T.length-1," * -").concat(c,")"));break}var Y=[],L=T[0];if(b&&L!=null){var J=L.width,{width:K}=A;Y.push("scale(".concat(tt(K)&&tt(J)?K/J:1,")"))}return M&&Y.push("rotate(".concat(M,", ").concat(U,", ").concat(V,")")),Y.length&&(F.transform=Y.join(" ")),O.createElement("text",Hy({},ha(F),{ref:t,x:U,y:V,className:Nr("recharts-text",k),textAnchor:y,fill:x.includes("url")?C6:x}),T.map((Ce,oe)=>{var ee=Ce.words.join(R?"":" ");return O.createElement("tspan",{x:U,dy:oe===0?q:c,key:"".concat(ee,"-").concat(oe)},ee)}))});Pb.displayName="Text";function uC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function Ji(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uC(Object(r),!0).forEach(function(n){ZV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZV(e,t,r){return(t=$V(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $V(e){var t=QV(e,"string");return typeof t=="symbol"?t:t+""}function QV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JV=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:l}=e,{x:c,y:f,height:x,upperWidth:b,lowerWidth:y}=Pv(t),w=c,A=c+(b-y)/2,T=(w+A)/2,_=(b+y)/2,j=w+b/2,M=x>=0?1:-1,k=M*n,R=M>0?"end":"start",F=M>0?"start":"end",U=b>=0?1:-1,V=U*n,q=U>0?"end":"start",Y=U>0?"start":"end",L=l;if(r==="top"){var J={x:w+b/2,y:f-k,horizontalAnchor:"middle",verticalAnchor:R};return L&&(J.height=Math.max(f-L.y,0),J.width=b),J}if(r==="bottom"){var K={x:A+y/2,y:f+x+k,horizontalAnchor:"middle",verticalAnchor:F};return L&&(K.height=Math.max(L.y+L.height-(f+x),0),K.width=y),K}if(r==="left"){var Ce={x:T-V,y:f+x/2,horizontalAnchor:q,verticalAnchor:"middle"};return L&&(Ce.width=Math.max(Ce.x-L.x,0),Ce.height=x),Ce}if(r==="right"){var oe={x:T+_+V,y:f+x/2,horizontalAnchor:Y,verticalAnchor:"middle"};return L&&(oe.width=Math.max(L.x+L.width-oe.x,0),oe.height=x),oe}var ee=L?{width:_,height:x}:{};return r==="insideLeft"?Ji({x:T+V,y:f+x/2,horizontalAnchor:Y,verticalAnchor:"middle"},ee):r==="insideRight"?Ji({x:T+_-V,y:f+x/2,horizontalAnchor:q,verticalAnchor:"middle"},ee):r==="insideTop"?Ji({x:w+b/2,y:f+k,horizontalAnchor:"middle",verticalAnchor:F},ee):r==="insideBottom"?Ji({x:A+y/2,y:f+x-k,horizontalAnchor:"middle",verticalAnchor:R},ee):r==="insideTopLeft"?Ji({x:w+V,y:f+k,horizontalAnchor:Y,verticalAnchor:F},ee):r==="insideTopRight"?Ji({x:w+b-V,y:f+k,horizontalAnchor:q,verticalAnchor:F},ee):r==="insideBottomLeft"?Ji({x:A+V,y:f+x-k,horizontalAnchor:Y,verticalAnchor:R},ee):r==="insideBottomRight"?Ji({x:A+y-V,y:f+x-k,horizontalAnchor:q,verticalAnchor:R},ee):r&&typeof r=="object"&&(tt(r.x)||Fo(r.x))&&(tt(r.y)||Fo(r.y))?Ji({x:c+Pi(r.x,_),y:f+Pi(r.y,x),horizontalAnchor:"end",verticalAnchor:"end"},ee):Ji({x:j,y:f+x/2,horizontalAnchor:"middle",verticalAnchor:"middle"},ee)},eY=["labelRef"],tY=["content"];function dC(e,t){if(e==null)return{};var r,n,l=rY(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function rY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function fC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function vd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fC(Object(r),!0).forEach(function(n){nY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nY(e,t,r){return(t=aY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aY(e){var t=iY(e,"string");return typeof t=="symbol"?t:t+""}function iY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ls(){return Ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ls.apply(null,arguments)}var T6=O.createContext(null),sY=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:l,width:c,height:f,children:x}=e,b=O.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:l,width:c,height:f}),[t,r,n,l,c,f]);return O.createElement(T6.Provider,{value:b},x)},O6=()=>{var e=O.useContext(T6),t=Rm();return e||(t?Pv(t):void 0)},lY=O.createContext(null),oY=()=>{var e=O.useContext(lY),t=gt(r8);return e||t},cY=e=>{var{value:t,formatter:r}=e,n=rn(e.children)?t:e.children;return typeof r=="function"?r(n):n},Lb=e=>e!=null&&typeof e=="function",uY=(e,t)=>{var r=Oa(t-e),n=Math.min(Math.abs(t-e),360);return r*n},dY=(e,t,r,n,l)=>{var{offset:c,className:f}=e,{cx:x,cy:b,innerRadius:y,outerRadius:w,startAngle:A,endAngle:T,clockWise:_}=l,j=(y+w)/2,M=uY(A,T),k=M>=0?1:-1,R,F;switch(t){case"insideStart":R=A+k*c,F=_;break;case"insideEnd":R=T-k*c,F=!_;break;case"end":R=T+k*c,F=_;break;default:throw new Error("Unsupported position ".concat(t))}F=M<=0?F:!F;var U=Jn(x,b,j,R),V=Jn(x,b,j,R+(F?1:-1)*359),q="M".concat(U.x,",").concat(U.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(F?0:1,`,
    `).concat(V.x,",").concat(V.y),Y=rn(e.id)?Id("recharts-radial-line-"):e.id;return O.createElement("text",Ls({},n,{dominantBaseline:"central",className:Nr("recharts-radial-bar-label",f)}),O.createElement("defs",null,O.createElement("path",{id:Y,d:q})),O.createElement("textPath",{xlinkHref:"#".concat(Y)},r))},fY=(e,t,r)=>{var{cx:n,cy:l,innerRadius:c,outerRadius:f,startAngle:x,endAngle:b}=e,y=(x+b)/2;if(r==="outside"){var{x:w,y:A}=Jn(n,l,f+t,y);return{x:w,y:A,textAnchor:w>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:l,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:l,textAnchor:"middle",verticalAnchor:"end"};var T=(c+f)/2,{x:_,y:j}=Jn(n,l,T,y);return{x:_,y:j,textAnchor:"middle",verticalAnchor:"middle"}},nh=e=>e!=null&&"cx"in e&&tt(e.cx),hY={angle:0,offset:5,zIndex:Pn.label,position:"middle",textBreakAll:!1};function mY(e){if(!nh(e))return e;var{cx:t,cy:r,outerRadius:n}=e,l=n*2;return{x:t-n,y:r-n,width:l,upperWidth:l,lowerWidth:l,height:l}}function Gl(e){var t=ga(e,hY),{viewBox:r,parentViewBox:n,position:l,value:c,children:f,content:x,className:b="",textBreakAll:y,labelRef:w}=t,A=oY(),T=O6(),_=l==="center"?T:A??T,j,M,k;r==null?j=_:nh(r)?j=r:j=Pv(r);var R=mY(j);if(!j||rn(c)&&rn(f)&&!O.isValidElement(x)&&typeof x!="function")return null;var F=vd(vd({},t),{},{viewBox:j});if(O.isValidElement(x)){var{labelRef:U}=F,V=dC(F,eY);return O.cloneElement(x,V)}if(typeof x=="function"){var{content:q}=F,Y=dC(F,tY);if(M=O.createElement(x,Y),O.isValidElement(M))return M}else M=cY(t);var L=ha(t);if(nh(j)){if(l==="insideStart"||l==="insideEnd"||l==="end")return dY(t,l,M,L,j);k=fY(j,t.offset,t.position)}else{if(!R)return null;var J=JV({viewBox:R,position:l,offset:t.offset,parentViewBox:nh(n)?void 0:n});k=vd(vd({x:J.x,y:J.y,textAnchor:J.horizontalAnchor,verticalAnchor:J.verticalAnchor},J.width!==void 0?{width:J.width}:{}),J.height!==void 0?{height:J.height}:{})}return O.createElement(wi,{zIndex:t.zIndex},O.createElement(Pb,Ls({ref:w,className:Nr("recharts-label",b)},L,k,{textAnchor:YV(L.textAnchor)?L.textAnchor:k.textAnchor,breakAll:y}),M))}Gl.displayName="Label";var pY=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?O.createElement(Gl,Ls({key:"label-implicit"},n)):as(e)?O.createElement(Gl,Ls({key:"label-implicit",value:e},n)):O.isValidElement(e)?e.type===Gl?O.cloneElement(e,vd({key:"label-implicit"},n)):O.createElement(Gl,Ls({key:"label-implicit",content:e},n)):Lb(e)?O.createElement(Gl,Ls({key:"label-implicit",content:e},n)):e&&typeof e=="object"?O.createElement(Gl,Ls({},e,{key:"label-implicit"},n)):null};function xY(e){var{label:t,labelRef:r}=e,n=O6();return pY(t,n,r)||null}var _g={},Mg={},hC;function gY(){return hC||(hC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Mg)),Mg}var jg={},mC;function yY(){return mC||(mC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(jg)),jg}var pC;function vY(){return pC||(pC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gY(),r=yY(),n=Nv();function l(c){if(n.isArrayLike(c))return t.last(r.toArray(c))}e.last=l})(_g)),_g}var kg,xC;function bY(){return xC||(xC=1,kg=vY().last),kg}var wY=bY();const AY=ls(wY);var SY=["valueAccessor"],EY=["dataKey","clockWise","id","textBreakAll","zIndex"];function $h(){return $h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$h.apply(null,arguments)}function gC(e,t){if(e==null)return{};var r,n,l=NY(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function NY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var CY=e=>Array.isArray(e.value)?AY(e.value):e.value,I6=O.createContext(void 0),_6=I6.Provider,M6=O.createContext(void 0);M6.Provider;function TY(){return O.useContext(I6)}function OY(){return O.useContext(M6)}function ah(e){var{valueAccessor:t=CY}=e,r=gC(e,SY),{dataKey:n,clockWise:l,id:c,textBreakAll:f,zIndex:x}=r,b=gC(r,EY),y=TY(),w=OY(),A=y||w;return!A||!A.length?null:O.createElement(wi,{zIndex:x??Pn.label},O.createElement(ma,{className:"recharts-label-list"},A.map((T,_)=>{var j,M=rn(n)?t(T,_):vn(T.payload,n),k=rn(c)?{}:{id:"".concat(c,"-").concat(_)};return O.createElement(Gl,$h({key:"label-".concat(_)},ha(T),b,k,{fill:(j=r.fill)!==null&&j!==void 0?j:T.fill,parentViewBox:T.parentViewBox,value:M,textBreakAll:f,viewBox:T.viewBox,index:_,zIndex:0}))})))}ah.displayName="LabelList";function j6(e){var{label:t}=e;return t?t===!0?O.createElement(ah,{key:"labelList-implicit"}):O.isValidElement(t)||Lb(t)?O.createElement(ah,{key:"labelList-implicit",content:t}):typeof t=="object"?O.createElement(ah,$h({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Gy(){return Gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gy.apply(null,arguments)}var k6=e=>{var{cx:t,cy:r,r:n,className:l}=e,c=Nr("recharts-dot",l);return tt(t)&&tt(r)&&tt(n)?O.createElement("circle",Gy({},xi(e),Sv(e),{className:c,cx:t,cy:r,r:n})):null},IY={radiusAxis:{},angleAxis:{}},D6=ka({name:"polarAxis",initialState:IY,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:aQ,removeRadiusAxis:iQ,addAngleAxis:sQ,removeAngleAxis:lQ}=D6.actions,_Y=D6.reducer;function MY(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Dg={exports:{}},Sr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yC;function jY(){if(yC)return Sr;yC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),T=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function j(M){if(typeof M=="object"&&M!==null){var k=M.$$typeof;switch(k){case e:switch(M=M.type,M){case r:case l:case n:case b:case y:case T:return M;default:switch(M=M&&M.$$typeof,M){case f:case x:case A:case w:return M;case c:return M;default:return k}}case t:return k}}}return Sr.ContextConsumer=c,Sr.ContextProvider=f,Sr.Element=e,Sr.ForwardRef=x,Sr.Fragment=r,Sr.Lazy=A,Sr.Memo=w,Sr.Portal=t,Sr.Profiler=l,Sr.StrictMode=n,Sr.Suspense=b,Sr.SuspenseList=y,Sr.isContextConsumer=function(M){return j(M)===c},Sr.isContextProvider=function(M){return j(M)===f},Sr.isElement=function(M){return typeof M=="object"&&M!==null&&M.$$typeof===e},Sr.isForwardRef=function(M){return j(M)===x},Sr.isFragment=function(M){return j(M)===r},Sr.isLazy=function(M){return j(M)===A},Sr.isMemo=function(M){return j(M)===w},Sr.isPortal=function(M){return j(M)===t},Sr.isProfiler=function(M){return j(M)===l},Sr.isStrictMode=function(M){return j(M)===n},Sr.isSuspense=function(M){return j(M)===b},Sr.isSuspenseList=function(M){return j(M)===y},Sr.isValidElementType=function(M){return typeof M=="string"||typeof M=="function"||M===r||M===l||M===n||M===b||M===y||typeof M=="object"&&M!==null&&(M.$$typeof===A||M.$$typeof===w||M.$$typeof===f||M.$$typeof===c||M.$$typeof===x||M.$$typeof===_||M.getModuleId!==void 0)},Sr.typeOf=j,Sr}var vC;function kY(){return vC||(vC=1,Dg.exports=jY()),Dg.exports}var DY=kY(),bC=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",wC=null,Rg=null,R6=e=>{if(e===wC&&Array.isArray(Rg))return Rg;var t=[];return O.Children.forEach(e,r=>{rn(r)||(DY.isFragment(r)?t=t.concat(R6(r.props.children)):t.push(r))}),Rg=t,wC=e,t};function RY(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(l=>bC(l)):n=[bC(t)],R6(e).forEach(l=>{var c=Zc(l,"type.displayName")||Zc(l,"type.name");c&&n.indexOf(c)!==-1&&r.push(l)}),r}var P6=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Pg={},AC;function PY(){return AC||(AC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var l;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const c=r[Symbol.toStringTag];return c==null||!((l=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&l.writable)?!1:r.toString()===`[object ${c}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(Pg)),Pg}var Lg,SC;function LY(){return SC||(SC=1,Lg=PY().isPlainObject),Lg}var BY=LY();const zY=ls(BY);var EC,NC,CC,TC,OC;function IC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function _C(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IC(Object(r),!0).forEach(function(n){UY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UY(e,t,r){return(t=FY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FY(e){var t=HY(e,"string");return typeof t=="symbol"?t:t+""}function HY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qh(){return Qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qh.apply(null,arguments)}function xd(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var MC=(e,t,r,n,l)=>{var c=r-n,f;return f=tn(EC||(EC=xd(["M ",",",""])),e,t),f+=tn(NC||(NC=xd(["L ",",",""])),e+r,t),f+=tn(CC||(CC=xd(["L ",",",""])),e+r-c/2,t+l),f+=tn(TC||(TC=xd(["L ",",",""])),e+r-c/2-n,t+l),f+=tn(OC||(OC=xd(["L ",","," Z"])),e,t),f},GY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},VY=e=>{var t=ga(e,GY),{x:r,y:n,upperWidth:l,lowerWidth:c,height:f,className:x}=t,{animationEasing:b,animationDuration:y,animationBegin:w,isUpdateAnimationActive:A}=t,T=O.useRef(null),[_,j]=O.useState(-1),M=O.useRef(l),k=O.useRef(c),R=O.useRef(f),F=O.useRef(r),U=O.useRef(n),V=Um(e,"trapezoid-");if(O.useEffect(()=>{if(T.current&&T.current.getTotalLength)try{var fe=T.current.getTotalLength();fe&&j(fe)}catch{}},[]),r!==+r||n!==+n||l!==+l||c!==+c||f!==+f||l===0&&c===0||f===0)return null;var q=Nr("recharts-trapezoid",x);if(!A)return O.createElement("g",null,O.createElement("path",Qh({},ha(t),{className:q,d:MC(r,n,l,c,f)})));var Y=M.current,L=k.current,J=R.current,K=F.current,Ce=U.current,oe="0px ".concat(_===-1?1:_,"px"),ee="".concat(_,"px 0px"),ce=qO(["strokeDasharray"],y,b);return O.createElement(zm,{animationId:V,key:V,canBegin:_>0,duration:y,easing:b,isActive:A,begin:w},fe=>{var Z=Xr(Y,l,fe),te=Xr(L,c,fe),ie=Xr(J,f,fe),ne=Xr(K,r,fe),pe=Xr(Ce,n,fe);T.current&&(M.current=Z,k.current=te,R.current=ie,F.current=ne,U.current=pe);var Oe=fe>0?{transition:ce,strokeDasharray:ee}:{strokeDasharray:oe};return O.createElement("path",Qh({},ha(t),{className:q,d:MC(ne,pe,Z,te,ie),ref:T,style:_C(_C({},Oe),t.style)}))})},YY=["option","shapeType","activeClassName"];function qY(e,t){if(e==null)return{};var r,n,l=XY(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function XY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function Jh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jC(Object(r),!0).forEach(function(n){WY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WY(e,t,r){return(t=KY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KY(e){var t=ZY(e,"string");return typeof t=="symbol"?t:t+""}function ZY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Y(e,t){return Jh(Jh({},t),e)}function QY(e,t){return e==="symbols"}function kC(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return O.createElement(ZO,r);case"trapezoid":return O.createElement(VY,r);case"sector":return O.createElement(JO,r);case"symbols":if(QY(t))return O.createElement(LT,r);break;case"curve":return O.createElement(wd,r);default:return null}}function JY(e){return O.isValidElement(e)?e.props:e}function eq(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,l=qY(e,YY),c;if(O.isValidElement(t))c=O.cloneElement(t,Jh(Jh({},l),JY(t)));else if(typeof t=="function")c=t(l,l.index);else if(zY(t)&&typeof t!="boolean"){var f=$Y(t,l);c=O.createElement(kC,{shapeType:r,elementProps:f})}else{var x=l;c=O.createElement(kC,{shapeType:r,elementProps:x})}return l.isActive?O.createElement(ma,{className:n},c):c}var L6=(e,t,r)=>{var n=fn();return(l,c)=>f=>{e==null||e(l,c,f),n(Y8({activeIndex:String(c),activeDataKey:t,activeCoordinate:l.tooltipPosition,activeGraphicalItemId:r}))}},B6=e=>{var t=fn();return(r,n)=>l=>{e==null||e(r,n,l),t(xH())}},z6=(e,t,r)=>{var n=fn();return(l,c)=>f=>{e==null||e(l,c,f),n(gH({activeIndex:String(c),activeDataKey:t,activeCoordinate:l.tooltipPosition,activeGraphicalItemId:r}))}};function U6(e){var{tooltipEntrySettings:t}=e,r=fn(),n=ia(),l=O.useRef(null);return O.useLayoutEffect(()=>{n||(l.current===null?r(fH(t)):l.current!==t&&r(hH({prev:l.current,next:t})),l.current=t)},[t,r,n]),O.useLayoutEffect(()=>()=>{l.current&&(r(mH(l.current)),l.current=null)},[r]),null}function F6(e){var{legendPayload:t}=e,r=fn(),n=ia(),l=O.useRef(null);return O.useLayoutEffect(()=>{n||(l.current===null?r(qP(t)):l.current!==t&&r(XP({prev:l.current,next:t})),l.current=t)},[r,n,t]),O.useLayoutEffect(()=>()=>{l.current&&(r(WP(l.current)),l.current=null)},[r]),null}var Bg,tq=()=>{var[e]=O.useState(()=>Id("uid-"));return e},rq=(Bg=rM.useId)!==null&&Bg!==void 0?Bg:tq;function nq(e,t){var r=rq();return t||(e?"".concat(e,"-").concat(r):r)}var aq=O.createContext(void 0),H6=e=>{var{id:t,type:r,children:n}=e,l=nq("recharts-".concat(r),t);return O.createElement(aq.Provider,{value:l},n(l))},iq={cartesianItems:[],polarItems:[]},G6=ka({name:"graphicalItems",initialState:iq,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Gr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,l=Di(e).cartesianItems.indexOf(r);l>-1&&(e.cartesianItems[l]=n)},prepare:Gr()},removeCartesianGraphicalItem:{reducer(e,t){var r=Di(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Gr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Gr()},removePolarGraphicalItem:{reducer(e,t){var r=Di(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Gr()}}}),{addCartesianGraphicalItem:sq,replaceCartesianGraphicalItem:lq,removeCartesianGraphicalItem:oq,addPolarGraphicalItem:oQ,removePolarGraphicalItem:cQ}=G6.actions,cq=G6.reducer,uq=e=>{var t=fn(),r=O.useRef(null);return O.useLayoutEffect(()=>{r.current===null?t(sq(e)):r.current!==e&&t(lq({prev:r.current,next:e})),r.current=e},[t,e]),O.useLayoutEffect(()=>()=>{r.current&&(t(oq(r.current)),r.current=null)},[t]),null},V6=O.memo(uq),dq=["points"];function DC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function zg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DC(Object(r),!0).forEach(function(n){fq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fq(e,t,r){return(t=hq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hq(e){var t=mq(e,"string");return typeof t=="symbol"?t:t+""}function mq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function em(){return em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},em.apply(null,arguments)}function pq(e,t){if(e==null)return{};var r,n,l=xq(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function xq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gq(e){var{option:t,dotProps:r,className:n}=e;if(O.isValidElement(t))return O.cloneElement(t,r);if(typeof t=="function")return t(r);var l=Nr(n,typeof t!="boolean"?t.className:""),c=r??{},{points:f}=c,x=pq(c,dq);return O.createElement(k6,em({},x,{className:l}))}function yq(e,t){return e==null?!1:t?!0:e.length===1}function vq(e){var{points:t,dot:r,className:n,dotClassName:l,dataKey:c,baseProps:f,needClip:x,clipPathId:b,zIndex:y=Pn.scatter}=e;if(!yq(t,r))return null;var w=P6(r),A=BD(r),T=t.map((j,M)=>{var k,R,F=zg(zg(zg({r:3},f),A),{},{index:M,cx:(k=j.x)!==null&&k!==void 0?k:void 0,cy:(R=j.y)!==null&&R!==void 0?R:void 0,dataKey:c,value:j.value,payload:j.payload,points:t});return O.createElement(gq,{key:"dot-".concat(M),option:r,dotProps:F,className:l})}),_={};return x&&b!=null&&(_.clipPath="url(#clipPath-".concat(w?"":"dots-").concat(b,")")),O.createElement(wi,{zIndex:y},O.createElement(ma,em({className:n},_),T))}function RC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function PC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RC(Object(r),!0).forEach(function(n){bq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bq(e,t,r){return(t=wq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wq(e){var t=Aq(e,"string");return typeof t=="symbol"?t:t+""}function Aq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y6=0,Sq={xAxis:{},yAxis:{},zAxis:{}},q6=ka({name:"cartesianAxis",initialState:Sq,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Gr()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Gr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Gr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Gr()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Gr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Gr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Gr()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Gr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Gr()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,l=e.yAxis[r];if(l){var c,f=l.widthHistory||[];if(f.length===3&&f[0]===f[2]&&n===f[1]&&n!==l.width&&Math.abs(n-((c=f[0])!==null&&c!==void 0?c:0))<=1)return;var x=[...f,n].slice(-3);e.yAxis[r]=PC(PC({},l),{},{width:n,widthHistory:x})}}}}),{addXAxis:Eq,replaceXAxis:Nq,removeXAxis:Cq,addYAxis:Tq,replaceYAxis:Oq,removeYAxis:Iq,addZAxis:uQ,replaceZAxis:dQ,removeZAxis:fQ,updateYAxisWidth:_q}=q6.actions,Mq=q6.reducer,jq=Se([Bn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),kq=Se([jq,el,tl],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Bb=()=>gt(kq),Dq=()=>gt(sG);function LC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function Ug(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LC(Object(r),!0).forEach(function(n){Rq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rq(e,t,r){return(t=Pq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pq(e){var t=Lq(e,"string");return typeof t=="symbol"?t:t+""}function Lq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bq=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:l,dataKey:c,clipPath:f}=e;if(l===!1||t.x==null||t.y==null)return null;var x={index:r,dataKey:c,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},b=Ug(Ug(Ug({},x),Kd(l)),Sv(l)),y;return O.isValidElement(l)?y=O.cloneElement(l,b):typeof l=="function"?y=l(b):y=O.createElement(k6,b),O.createElement(ma,{className:"recharts-active-dot",clipPath:f},y)};function BC(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:l,clipPath:c,zIndex:f=Pn.activeDot}=e,x=gt(qo),b=Dq();if(t==null||b==null)return null;var y=t.find(w=>b.includes(w.payload));return rn(y)?null:O.createElement(wi,{zIndex:f},O.createElement(Bq,{point:y,childIndex:Number(x),mainColor:r,dataKey:l,activeDot:n,clipPath:c}))}var zC=(e,t,r)=>{var n=r??e;if(!rn(n))return Pi(n,t,0)},zq=(e,t,r)=>{var n={},l=e.filter(Jm),c=e.filter(y=>y.stackId==null),f=l.reduce((y,w)=>{var A=y[w.stackId];return A==null&&(A=[]),A.push(w),y[w.stackId]=A,y},n),x=Object.entries(f).map(y=>{var w,[A,T]=y,_=T.map(M=>M.dataKey),j=zC(t,r,(w=T[0])===null||w===void 0?void 0:w.barSize);return{stackId:A,dataKeys:_,barSize:j}}),b=c.map(y=>{var w=[y.dataKey].filter(T=>T!=null),A=zC(t,r,y.barSize);return{stackId:void 0,dataKeys:w,barSize:A}});return[...x,...b]};function UC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function X0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UC(Object(r),!0).forEach(function(n){Uq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uq(e,t,r){return(t=Fq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fq(e){var t=Hq(e,"string");return typeof t=="symbol"?t:t+""}function Hq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gq(e,t,r,n,l){var c,f=n.length;if(!(f<1)){var x=Pi(e,r,0,!0),b,y=[];if(Gt((c=n[0])===null||c===void 0?void 0:c.barSize)){var w=!1,A=r/f,T=n.reduce((F,U)=>F+(U.barSize||0),0);T+=(f-1)*x,T>=r&&(T-=(f-1)*x,x=0),T>=r&&A>0&&(w=!0,A*=.9,T=f*A);var _=(r-T)/2>>0,j={offset:_-x,size:0};b=n.reduce((F,U)=>{var V,q={stackId:U.stackId,dataKeys:U.dataKeys,position:{offset:j.offset+j.size+x,size:w?A:(V=U.barSize)!==null&&V!==void 0?V:0}},Y=[...F,q];return j=q.position,Y},y)}else{var M=Pi(t,r,0,!0);r-2*M-(f-1)*x<=0&&(x=0);var k=(r-2*M-(f-1)*x)/f;k>1&&(k>>=0);var R=Gt(l)?Math.min(k,l):k;b=n.reduce((F,U,V)=>[...F,{stackId:U.stackId,dataKeys:U.dataKeys,position:{offset:M+(k+x)*V+(k-R)/2,size:R}}],y)}return b}}var Vq=(e,t,r,n,l,c,f)=>{var x=rn(f)?t:f,b=Gq(r,n,l!==c?l:c,e,x);return l!==c&&b!=null&&(b=b.map(y=>X0(X0({},y),{},{position:X0(X0({},y.position),{},{offset:y.position.offset-l/2})}))),b},Yq=(e,t)=>{var r=Qm(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var l=e[n];if(l){var{stackedData:c}=l;if(c)return c.find(f=>f.key===r)}}}},qq=(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}};function Xq(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Gt(e.zIndex)?e.zIndex:t}var Wq=e=>{var{chartData:t}=e,r=fn(),n=ia();return O.useEffect(()=>n?()=>{}:(r(KN(t)),()=>{r(KN(void 0))}),[t,r,n]),null},FC={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},X6=ka({name:"brush",initialState:FC,reducers:{setBrushSettings(e,t){return t.payload==null?FC:t.payload}}}),{setBrushSettings:hQ}=X6.actions,Kq=X6.reducer;function Zq(e){return(e%180+180)%180}var $q=function(t){var{width:r,height:n}=t,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=Zq(l),f=c*Math.PI/180,x=Math.atan(n/r),b=f>x&&f<Math.PI-x?n/Math.sin(f):r/Math.cos(f);return Math.abs(b)},Qq={dots:[],areas:[],lines:[]},W6=ka({name:"referenceElements",initialState:Qq,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Di(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Di(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Di(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:mQ,removeDot:pQ,addArea:xQ,removeArea:gQ,addLine:yQ,removeLine:vQ}=W6.actions,Jq=W6.reducer,eX=O.createContext(void 0),tX=e=>{var{children:t}=e,[r]=O.useState("".concat(Id("recharts"),"-clip")),n=Bb();if(n==null)return null;var{x:l,y:c,width:f,height:x}=n;return O.createElement(eX.Provider,{value:r},O.createElement("defs",null,O.createElement("clipPath",{id:r},O.createElement("rect",{x:l,y:c,height:x,width:f}))),t)};function K6(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var l=e[n];l!==void 0&&r.push(l)}return r}function rX(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return $q(n,r)}function nX(e,t,r){var n=r==="width",{x:l,y:c,width:f,height:x}=e;return t===1?{start:n?l:c,end:n?l+f:c+x}:{start:n?l+f:c+x,end:n?l:c}}function Gd(e,t,r,n,l){if(e*t<e*n||e*t>e*l)return!1;var c=r();return e*(t-e*c/2-n)>=0&&e*(t+e*c/2-l)<=0}function aX(e,t){return K6(e,t+1)}function iX(e,t,r,n,l){for(var c=(n||[]).slice(),{start:f,end:x}=t,b=0,y=1,w=f,A=function(){var j=n==null?void 0:n[b];if(j===void 0)return{v:K6(n,y)};var M=b,k,R=()=>(k===void 0&&(k=r(j,M)),k),F=j.coordinate,U=b===0||Gd(e,F,R,w,x);U||(b=0,w=f,y+=1),U&&(w=F+e*(R()/2+l),b+=y)},T;y<=c.length;)if(T=A(),T)return T.v;return[]}function sX(e,t,r,n,l){var c=(n||[]).slice(),f=c.length;if(f===0)return[];for(var{start:x,end:b}=t,y=1;y<=f;y++){for(var w=(f-1)%y,A=x,T=!0,_=function(){var V=n[M];if(V==null)return 0;var q=M,Y,L=()=>(Y===void 0&&(Y=r(V,q)),Y),J=V.coordinate,K=M===w||Gd(e,J,L,A,b);if(!K)return T=!1,1;K&&(A=J+e*(L()/2+l))},j,M=w;M<f&&(j=_(),!(j!==0&&j===1));M+=y);if(T){for(var k=[],R=w;R<f;R+=y){var F=n[R];F!=null&&k.push(F)}return k}}return[]}function HC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function ra(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HC(Object(r),!0).forEach(function(n){lX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lX(e,t,r){return(t=oX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oX(e){var t=cX(e,"string");return typeof t=="symbol"?t:t+""}function cX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uX(e,t,r,n,l){for(var c=(n||[]).slice(),f=c.length,{start:x}=t,{end:b}=t,y=function(T){var _=c[T];if(_==null)return 1;var j=_,M,k=()=>(M===void 0&&(M=r(_,T)),M);if(T===f-1){var R=e*(j.coordinate+e*k()/2-b);c[T]=j=ra(ra({},j),{},{tickCoord:R>0?j.coordinate-R*e:j.coordinate})}else c[T]=j=ra(ra({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var F=Gd(e,j.tickCoord,k,x,b);F&&(b=j.tickCoord-e*(k()/2+l),c[T]=ra(ra({},j),{},{isShow:!0}))}},w=f-1;w>=0;w--)y(w);return c}function dX(e,t,r,n,l,c){var f=(n||[]).slice(),x=f.length,{start:b,end:y}=t;if(c){var w=n[x-1];if(w!=null){var A=r(w,x-1),T=e*(w.coordinate+e*A/2-y);if(f[x-1]=w=ra(ra({},w),{},{tickCoord:T>0?w.coordinate-T*e:w.coordinate}),w.tickCoord!=null){var _=Gd(e,w.tickCoord,()=>A,b,y);_&&(y=w.tickCoord-e*(A/2+l),f[x-1]=ra(ra({},w),{},{isShow:!0}))}}}for(var j=c?x-1:x,M=function(F){var U=f[F];if(U==null)return 1;var V=U,q,Y=()=>(q===void 0&&(q=r(U,F)),q);if(F===0){var L=e*(V.coordinate-e*Y()/2-b);f[F]=V=ra(ra({},V),{},{tickCoord:L<0?V.coordinate-L*e:V.coordinate})}else f[F]=V=ra(ra({},V),{},{tickCoord:V.coordinate});if(V.tickCoord!=null){var J=Gd(e,V.tickCoord,Y,b,y);J&&(b=V.tickCoord+e*(Y()/2+l),f[F]=ra(ra({},V),{},{isShow:!0}))}},k=0;k<j;k++)M(k);return f}function zb(e,t,r){var{tick:n,ticks:l,viewBox:c,minTickGap:f,orientation:x,interval:b,tickFormatter:y,unit:w,angle:A}=e;if(!l||!l.length||!n)return[];if(tt(b)||rf.isSsr){var T;return(T=aX(l,tt(b)?b:0))!==null&&T!==void 0?T:[]}var _=[],j=x==="top"||x==="bottom"?"width":"height",M=w&&j==="width"?Ad(w,{fontSize:t,letterSpacing:r}):{width:0,height:0},k=(q,Y)=>{var L=typeof y=="function"?y(q.value,Y):q.value;return j==="width"?rX(Ad(L,{fontSize:t,letterSpacing:r}),M,A):Ad(L,{fontSize:t,letterSpacing:r})[j]},R=l[0],F=l[1],U=l.length>=2&&R!=null&&F!=null?Oa(F.coordinate-R.coordinate):1,V=nX(c,U,j);return b==="equidistantPreserveStart"?iX(U,V,k,l,f):b==="equidistantPreserveEnd"?sX(U,V,k,l,f):(b==="preserveStart"||b==="preserveStartEnd"?_=dX(U,V,k,l,f,b==="preserveStartEnd"):_=uX(U,V,k,l,f),_.filter(q=>q.isShow))}var fX=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:l=0,tickMargin:c=0}=e,f=0;if(t){Array.from(t).forEach(w=>{if(w){var A=w.getBoundingClientRect();A.width>f&&(f=A.width)}});var x=r?r.getBoundingClientRect().width:0,b=l+c,y=f+b+x+(r?n:0);return Math.round(y)}return 0},hX=["axisLine","width","height","className","hide","ticks","axisType"];function mX(e,t){if(e==null)return{};var r,n,l=pX(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function pX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Xo(){return Xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xo.apply(null,arguments)}function GC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function en(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GC(Object(r),!0).forEach(function(n){xX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xX(e,t,r){return(t=gX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gX(e){var t=yX(e,"string");return typeof t=="symbol"?t:t+""}function yX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vs={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Pn.axis};function vX(e){var{x:t,y:r,width:n,height:l,orientation:c,mirror:f,axisLine:x,otherSvgProps:b}=e;if(!x)return null;var y=en(en(en({},b),xi(x)),{},{fill:"none"});if(c==="top"||c==="bottom"){var w=+(c==="top"&&!f||c==="bottom"&&f);y=en(en({},y),{},{x1:t,y1:r+w*l,x2:t+n,y2:r+w*l})}else{var A=+(c==="left"&&!f||c==="right"&&f);y=en(en({},y),{},{x1:t+A*n,y1:r,x2:t+A*n,y2:r+l})}return O.createElement("line",Xo({},y,{className:Nr("recharts-cartesian-axis-line",Zc(x,"className"))}))}function bX(e,t,r,n,l,c,f,x,b){var y,w,A,T,_,j,M=x?-1:1,k=e.tickSize||f,R=tt(e.tickCoord)?e.tickCoord:e.coordinate;switch(c){case"top":y=w=e.coordinate,T=r+ +!x*l,A=T-M*k,j=A-M*b,_=R;break;case"left":A=T=e.coordinate,w=t+ +!x*n,y=w-M*k,_=y-M*b,j=R;break;case"right":A=T=e.coordinate,w=t+ +x*n,y=w+M*k,_=y+M*b,j=R;break;default:y=w=e.coordinate,T=r+ +x*l,A=T+M*k,j=A+M*b,_=R;break}return{line:{x1:y,y1:A,x2:w,y2:T},tick:{x:_,y:j}}}function wX(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function AX(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function SX(e){var{option:t,tickProps:r,value:n}=e,l,c=Nr(r.className,"recharts-cartesian-axis-tick-value");if(O.isValidElement(t))l=O.cloneElement(t,en(en({},r),{},{className:c}));else if(typeof t=="function")l=t(en(en({},r),{},{className:c}));else{var f="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(f=Nr(f,MY(t))),l=O.createElement(Pb,Xo({},r,{className:f}),n)}return l}var EX=O.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:l,stroke:c,tickFormatter:f,unit:x,padding:b,tickTextProps:y,orientation:w,mirror:A,x:T,y:_,width:j,height:M,tickSize:k,tickMargin:R,fontSize:F,letterSpacing:U,getTicksConfig:V,events:q,axisType:Y}=e,L=zb(en(en({},V),{},{ticks:r}),F,U),J=wX(w,A),K=AX(w,A),Ce=xi(V),oe=Kd(n),ee={};typeof l=="object"&&(ee=l);var ce=en(en({},Ce),{},{fill:"none"},ee),fe=L.map(ie=>en({entry:ie},bX(ie,T,_,j,M,w,k,A,R))),Z=fe.map(ie=>{var{entry:ne,line:pe}=ie;return O.createElement(ma,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ne.value,"-").concat(ne.coordinate,"-").concat(ne.tickCoord)},l&&O.createElement("line",Xo({},ce,pe,{className:Nr("recharts-cartesian-axis-tick-line",Zc(l,"className"))})))}),te=fe.map((ie,ne)=>{var pe,Oe,{entry:$,tick:de}=ie,Te=en(en(en(en({verticalAnchor:K},Ce),{},{textAnchor:J,stroke:"none",fill:c},de),{},{index:ne,payload:$,visibleTicksCount:L.length,tickFormatter:f,padding:b},y),{},{angle:(pe=(Oe=y==null?void 0:y.angle)!==null&&Oe!==void 0?Oe:Ce.angle)!==null&&pe!==void 0?pe:0}),ke=en(en({},Te),oe);return O.createElement(ma,Xo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},Ev(q,$,ne)),n&&O.createElement(SX,{option:n,tickProps:ke,value:"".concat(typeof f=="function"?f($.value,ne):$.value).concat(x||"")}))});return O.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(Y,"-ticks")},te.length>0&&O.createElement(wi,{zIndex:Pn.label},O.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(Y,"-tick-labels"),ref:t},te)),Z.length>0&&O.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(Y,"-tick-lines")},Z))}),NX=O.forwardRef((e,t)=>{var{axisLine:r,width:n,height:l,className:c,hide:f,ticks:x,axisType:b}=e,y=mX(e,hX),[w,A]=O.useState(""),[T,_]=O.useState(""),j=O.useRef(null);O.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var k;return fX({ticks:j.current,label:(k=e.labelRef)===null||k===void 0?void 0:k.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var M=O.useCallback(k=>{if(k){var R=k.getElementsByClassName("recharts-cartesian-axis-tick-value");j.current=R;var F=R[0];if(F){var U=window.getComputedStyle(F),V=U.fontSize,q=U.letterSpacing;(V!==w||q!==T)&&(A(V),_(q))}}},[w,T]);return f||n!=null&&n<=0||l!=null&&l<=0?null:O.createElement(wi,{zIndex:e.zIndex},O.createElement(ma,{className:Nr("recharts-cartesian-axis",c)},O.createElement(vX,{x:e.x,y:e.y,width:n,height:l,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:xi(e)}),O.createElement(EX,{ref:M,axisType:b,events:y,fontSize:w,getTicksConfig:e,height:e.height,letterSpacing:T,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:x,unit:e.unit,width:e.width,x:e.x,y:e.y}),O.createElement(sY,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},O.createElement(xY,{label:e.label,labelRef:e.labelRef}),e.children)))}),Ub=O.forwardRef((e,t)=>{var r=ga(e,Vs);return O.createElement(NX,Xo({},r,{ref:t}))});Ub.displayName="CartesianAxis";var CX=["x1","y1","x2","y2","key"],TX=["offset"],OX=["xAxisId","yAxisId"],IX=["xAxisId","yAxisId"];function VC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function na(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VC(Object(r),!0).forEach(function(n){_X(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _X(e,t,r){return(t=MX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MX(e){var t=jX(e,"string");return typeof t=="symbol"?t:t+""}function jX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jo(){return jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jo.apply(null,arguments)}function tm(e,t){if(e==null)return{};var r,n,l=kX(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function kX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var DX=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:l,width:c,height:f,ry:x}=e;return O.createElement("rect",{x:n,y:l,ry:x,width:c,height:f,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Z6(e){var{option:t,lineItemProps:r}=e,n;if(O.isValidElement(t))n=O.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var l,{x1:c,y1:f,x2:x,y2:b,key:y}=r,w=tm(r,CX),A=(l=xi(w))!==null&&l!==void 0?l:{},{offset:T}=A,_=tm(A,TX);n=O.createElement("line",jo({},_,{x1:c,y1:f,x2:x,y2:b,fill:"none",key:y}))}return n}function RX(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:l}=e;if(!n||!l||!l.length)return null;var{xAxisId:c,yAxisId:f}=e,x=tm(e,OX),b=l.map((y,w)=>{var A=na(na({},x),{},{x1:t,y1:y,x2:t+r,y2:y,key:"line-".concat(w),index:w});return O.createElement(Z6,{key:"line-".concat(w),option:n,lineItemProps:A})});return O.createElement("g",{className:"recharts-cartesian-grid-horizontal"},b)}function PX(e){var{y:t,height:r,vertical:n=!0,verticalPoints:l}=e;if(!n||!l||!l.length)return null;var{xAxisId:c,yAxisId:f}=e,x=tm(e,IX),b=l.map((y,w)=>{var A=na(na({},x),{},{x1:y,y1:t,x2:y,y2:t+r,key:"line-".concat(w),index:w});return O.createElement(Z6,{option:n,lineItemProps:A,key:"line-".concat(w)})});return O.createElement("g",{className:"recharts-cartesian-grid-vertical"},b)}function LX(e){var{horizontalFill:t,fillOpacity:r,x:n,y:l,width:c,height:f,horizontalPoints:x,horizontal:b=!0}=e;if(!b||!t||!t.length||x==null)return null;var y=x.map(A=>Math.round(A+l-l)).sort((A,T)=>A-T);l!==y[0]&&y.unshift(0);var w=y.map((A,T)=>{var _=y[T+1],j=_==null,M=j?l+f-A:_-A;if(M<=0)return null;var k=T%t.length;return O.createElement("rect",{key:"react-".concat(T),y:A,x:n,height:M,width:c,stroke:"none",fill:t[k],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},w)}function BX(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:l,y:c,width:f,height:x,verticalPoints:b}=e;if(!t||!r||!r.length)return null;var y=b.map(A=>Math.round(A+l-l)).sort((A,T)=>A-T);l!==y[0]&&y.unshift(0);var w=y.map((A,T)=>{var _=y[T+1],j=_==null,M=j?l+f-A:_-A;if(M<=0)return null;var k=T%r.length;return O.createElement("rect",{key:"react-".concat(T),x:A,y:c,width:M,height:x,stroke:"none",fill:r[k],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},w)}var zX=(e,t)=>{var{xAxis:r,width:n,height:l,offset:c}=e;return TO(zb(na(na(na({},Vs),r),{},{ticks:OO(r),viewBox:{x:0,y:0,width:n,height:l}})),c.left,c.left+c.width,t)},UX=(e,t)=>{var{yAxis:r,width:n,height:l,offset:c}=e;return TO(zb(na(na(na({},Vs),r),{},{ticks:OO(r),viewBox:{x:0,y:0,width:n,height:l}})),c.top,c.top+c.height,t)},FX={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Pn.grid};function Sd(e){var t=RO(),r=PO(),n=DO(),l=na(na({},ga(e,FX)),{},{x:tt(e.x)?e.x:n.left,y:tt(e.y)?e.y:n.top,width:tt(e.width)?e.width:n.width,height:tt(e.height)?e.height:n.height}),{xAxisId:c,yAxisId:f,x,y:b,width:y,height:w,syncWithTicks:A,horizontalValues:T,verticalValues:_}=l,j=ia(),M=gt(K=>LN(K,"xAxis",c,j)),k=gt(K=>LN(K,"yAxis",f,j));if(!is(y)||!is(w)||!tt(x)||!tt(b))return null;var R=l.verticalCoordinatesGenerator||zX,F=l.horizontalCoordinatesGenerator||UX,{horizontalPoints:U,verticalPoints:V}=l;if((!U||!U.length)&&typeof F=="function"){var q=T&&T.length,Y=F({yAxis:k?na(na({},k),{},{ticks:q?T:k.ticks}):void 0,width:t??y,height:r??w,offset:n},q?!0:A);Ch(Array.isArray(Y),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof Y,"]")),Array.isArray(Y)&&(U=Y)}if((!V||!V.length)&&typeof R=="function"){var L=_&&_.length,J=R({xAxis:M?na(na({},M),{},{ticks:L?_:M.ticks}):void 0,width:t??y,height:r??w,offset:n},L?!0:A);Ch(Array.isArray(J),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof J,"]")),Array.isArray(J)&&(V=J)}return O.createElement(wi,{zIndex:l.zIndex},O.createElement("g",{className:"recharts-cartesian-grid"},O.createElement(DX,{fill:l.fill,fillOpacity:l.fillOpacity,x:l.x,y:l.y,width:l.width,height:l.height,ry:l.ry}),O.createElement(LX,jo({},l,{horizontalPoints:U})),O.createElement(BX,jo({},l,{verticalPoints:V})),O.createElement(RX,jo({},l,{offset:n,horizontalPoints:U,xAxis:M,yAxis:k})),O.createElement(PX,jo({},l,{offset:n,verticalPoints:V,xAxis:M,yAxis:k}))))}Sd.displayName="CartesianGrid";var HX={},$6=ka({name:"errorBars",initialState:HX,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:l}=t.payload;e[r]&&(e[r]=e[r].map(c=>c.dataKey===n.dataKey&&c.direction===n.direction?l:c))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(l=>l.dataKey!==n.dataKey||l.direction!==n.direction))}}}),{addErrorBar:bQ,replaceErrorBar:wQ,removeErrorBar:AQ}=$6.actions,GX=$6.reducer,VX=["children"];function YX(e,t){if(e==null)return{};var r,n,l=qX(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function qX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var XX={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},WX=O.createContext(XX);function KX(e){var{children:t}=e,r=YX(e,VX);return O.createElement(WX.Provider,{value:r},t)}function Fb(e,t){var r,n,l=gt(y=>al(y,e)),c=gt(y=>il(y,t)),f=(r=l==null?void 0:l.allowDataOverflow)!==null&&r!==void 0?r:kn.allowDataOverflow,x=(n=c==null?void 0:c.allowDataOverflow)!==null&&n!==void 0?n:Dn.allowDataOverflow,b=f||x;return{needClip:b,needClipX:f,needClipY:x}}function Q6(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,l=Bb(),{needClipX:c,needClipY:f,needClip:x}=Fb(t,r);if(!x||!l)return null;var{x:b,y,width:w,height:A}=l;return O.createElement("clipPath",{id:"clipPath-".concat(n)},O.createElement("rect",{x:c?b:b-w/2,y:f?y:y-A/2,width:c?w:w*2,height:f?A:A*2}))}function ZX(e){var t=Kd(e),r=3,n=2;if(t!=null){var{r:l,strokeWidth:c}=t,f=Number(l),x=Number(c);return(Number.isNaN(f)||f<0)&&(f=r),(Number.isNaN(x)||x<0)&&(x=n),{r:f,strokeWidth:x}}return{r,strokeWidth:n}}var Fg={exports:{}},Hg={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YC;function $X(){if(YC)return Hg;YC=1;var e=nu();function t(b,y){return b===y&&(b!==0||1/b===1/y)||b!==b&&y!==y}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,l=e.useRef,c=e.useEffect,f=e.useMemo,x=e.useDebugValue;return Hg.useSyncExternalStoreWithSelector=function(b,y,w,A,T){var _=l(null);if(_.current===null){var j={hasValue:!1,value:null};_.current=j}else j=_.current;_=f(function(){function k(q){if(!R){if(R=!0,F=q,q=A(q),T!==void 0&&j.hasValue){var Y=j.value;if(T(Y,q))return U=Y}return U=q}if(Y=U,r(F,q))return Y;var L=A(q);return T!==void 0&&T(Y,L)?(F=q,Y):(F=q,U=L)}var R=!1,F,U,V=w===void 0?null:w;return[function(){return k(y())},V===null?void 0:function(){return k(V())}]},[y,w,A,T]);var M=n(b,_[0],_[1]);return c(function(){j.hasValue=!0,j.value=M},[M]),x(M),M},Hg}var qC;function QX(){return qC||(qC=1,Fg.exports=$X()),Fg.exports}QX();function JX(e){e()}function eW(){let e=null,t=null;return{clear(){e=null,t=null},notify(){JX(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const l=t={callback:r,next:null,prev:t};return l.prev?l.prev.next=l:e=l,function(){!n||e===null||(n=!1,l.next?l.next.prev=l.prev:t=l.prev,l.prev?l.prev.next=l.next:e=l.next)}}}}var XC={notify(){},get:()=>[]};function tW(e,t){let r,n=XC,l=0,c=!1;function f(M){w();const k=n.subscribe(M);let R=!1;return()=>{R||(R=!0,k(),A())}}function x(){n.notify()}function b(){j.onStateChange&&j.onStateChange()}function y(){return c}function w(){l++,r||(r=e.subscribe(b),n=eW())}function A(){l--,r&&l===0&&(r(),r=void 0,n.clear(),n=XC)}function T(){c||(c=!0,w())}function _(){c&&(c=!1,A())}const j={addNestedSub:f,notifyNestedSubs:x,handleChangeWrapper:b,isSubscribed:y,trySubscribe:T,tryUnsubscribe:_,getListeners:()=>n};return j}var rW=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nW=rW(),aW=()=>typeof navigator<"u"&&navigator.product==="ReactNative",iW=aW(),sW=()=>nW||iW?O.useLayoutEffect:O.useEffect,lW=sW();function WC(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function oW(e,t){if(WC(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let l=0;l<r.length;l++)if(!Object.prototype.hasOwnProperty.call(t,r[l])||!WC(e[r[l]],t[r[l]]))return!1;return!0}var Gg=Symbol.for("react-redux-context"),Vg=typeof globalThis<"u"?globalThis:{};function cW(){if(!O.createContext)return{};const e=Vg[Gg]??(Vg[Gg]=new Map);let t=e.get(O.createContext);return t||(t=O.createContext(null),e.set(O.createContext,t)),t}var uW=cW();function dW(e){const{children:t,context:r,serverState:n,store:l}=e,c=O.useMemo(()=>{const b=tW(l);return{store:l,subscription:b,getServerState:n?()=>n:void 0}},[l,n]),f=O.useMemo(()=>l.getState(),[l]);lW(()=>{const{subscription:b}=c;return b.onStateChange=b.notifyNestedSubs,b.trySubscribe(),f!==l.getState()&&b.notifyNestedSubs(),()=>{b.tryUnsubscribe(),b.onStateChange=void 0}},[c,f]);const x=r||uW;return O.createElement(x.Provider,{value:c},t)}var fW=dW,hW=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function mW(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function l1(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(hW.has(n)){if(e[n]==null&&t[n]==null)continue;if(!oW(e[n],t[n]))return!1}else if(!mW(e[n],t[n]))return!1;return!0}function us(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(l=>l.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:Y6}function ds(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(l=>l.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:Y6}var J6=(e,t,r)=>Zl(e,"xAxis",us(e,t),r),eI=(e,t,r)=>Kl(e,"xAxis",us(e,t),r),tI=(e,t,r)=>Zl(e,"yAxis",ds(e,t),r),rI=(e,t,r)=>Kl(e,"yAxis",ds(e,t),r),pW=Se([fr,J6,tI,eI,rI],(e,t,r,n,l)=>cs(e,"xAxis")?Qc(t,n,!1):Qc(r,l,!1)),xW=(e,t)=>t,nI=Se([r1,xW],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),aI=e=>{var t=fr(e),r=cs(t,"xAxis");return r?"yAxis":"xAxis"},gW=(e,t)=>{var r=aI(e);return r==="yAxis"?ds(e,t):us(e,t)},yW=(e,t,r)=>Wh(e,aI(e),gW(e,t),r),vW=Se([nI,yW],(e,t)=>{var r;if(!(e==null||t==null)){var{stackId:n}=e,l=Qm(e);if(!(n==null||l==null)){var c=(r=t[n])===null||r===void 0?void 0:r.stackedData,f=c==null?void 0:c.find(x=>x.key===l);if(f!=null)return f.map(x=>[x[0],x[1]])}}}),bW=Se([fr,J6,tI,eI,rI,vW,P5,pW,nI,tF],(e,t,r,n,l,c,f,x,b,y)=>{var{chartData:w,dataStartIndex:A,dataEndIndex:T}=f;if(!(b==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||l==null||n.length===0||l.length===0||x==null)){var{data:_}=b,j;if(_&&_.length>0?j=_:j=w==null?void 0:w.slice(A,T+1),j!=null)return zW({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:l,dataStartIndex:A,areaSettings:b,stackedData:c,displayedData:j,chartBaseValue:y,bandSize:x})}}),wW=["id"],AW=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Lo(){return Lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lo.apply(null,arguments)}function iI(e,t){if(e==null)return{};var r,n,l=SW(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function SW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function KC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function Vc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KC(Object(r),!0).forEach(function(n){EW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EW(e,t,r){return(t=NW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NW(e){var t=CW(e,"string");return typeof t=="symbol"?t:t+""}function CW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rm(e,t){return e&&e!=="none"?e:t}var TW=e=>{var{dataKey:t,name:r,stroke:n,fill:l,legendType:c,hide:f}=e;return[{inactive:f,dataKey:t,type:c,color:rm(n,l),value:_m(r,t),payload:e}]},OW=O.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:l,fill:c,name:f,hide:x,unit:b,tooltipType:y,id:w}=e,A={dataDefinedOnItem:r,getPosition:Zo,settings:{stroke:n,strokeWidth:l,fill:c,dataKey:t,nameKey:void 0,name:_m(f,t),hide:x,type:y,color:rm(n,c),unit:b,graphicalItemId:w}};return O.createElement(U6,{tooltipEntrySettings:A})});function IW(e){var{clipPathId:t,points:r,props:n}=e,{needClip:l,dot:c,dataKey:f}=n,x=xi(n);return O.createElement(vq,{points:r,dot:c,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:f,baseProps:x,needClip:l,clipPathId:t})}function _W(e){var{showLabels:t,children:r,points:n}=e,l=n.map(c=>{var f,x,b={x:(f=c.x)!==null&&f!==void 0?f:0,y:(x=c.y)!==null&&x!==void 0?x:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Vc(Vc({},b),{},{value:c.value,payload:c.payload,parentViewBox:void 0,viewBox:b,fill:void 0})});return O.createElement(_6,{value:t?l:void 0},r)}function ZC(e){var{points:t,baseLine:r,needClip:n,clipPathId:l,props:c}=e,{layout:f,type:x,stroke:b,connectNulls:y,isRange:w}=c,{id:A}=c,T=iI(c,wW),_=xi(T),j=ha(T);return O.createElement(O.Fragment,null,(t==null?void 0:t.length)>1&&O.createElement(ma,{clipPath:n?"url(#clipPath-".concat(l,")"):void 0},O.createElement(wd,Lo({},j,{id:A,points:t,connectNulls:y,type:x,baseLine:r,layout:f,stroke:"none",className:"recharts-area-area"})),b!=="none"&&O.createElement(wd,Lo({},_,{className:"recharts-area-curve",layout:f,type:x,connectNulls:y,fill:"none",points:t})),b!=="none"&&w&&O.createElement(wd,Lo({},_,{className:"recharts-area-curve",layout:f,type:x,connectNulls:y,fill:"none",points:r}))),O.createElement(IW,{points:t,props:T,clipPathId:l}))}function MW(e){var t,r,{alpha:n,baseLine:l,points:c,strokeWidth:f}=e,x=(t=c[0])===null||t===void 0?void 0:t.y,b=(r=c[c.length-1])===null||r===void 0?void 0:r.y;if(!Gt(x)||!Gt(b))return null;var y=n*Math.abs(x-b),w=Math.max(...c.map(A=>A.x||0));return tt(l)?w=Math.max(l,w):l&&Array.isArray(l)&&l.length&&(w=Math.max(...l.map(A=>A.x||0),w)),tt(w)?O.createElement("rect",{x:0,y:x<b?x:x-y,width:w+(f?parseInt("".concat(f),10):1),height:Math.floor(y)}):null}function jW(e){var t,r,{alpha:n,baseLine:l,points:c,strokeWidth:f}=e,x=(t=c[0])===null||t===void 0?void 0:t.x,b=(r=c[c.length-1])===null||r===void 0?void 0:r.x;if(!Gt(x)||!Gt(b))return null;var y=n*Math.abs(x-b),w=Math.max(...c.map(A=>A.y||0));return tt(l)?w=Math.max(l,w):l&&Array.isArray(l)&&l.length&&(w=Math.max(...l.map(A=>A.y||0),w)),tt(w)?O.createElement("rect",{x:x<b?x:x-y,y:0,width:y,height:Math.floor(w+(f?parseInt("".concat(f),10):1))}):null}function kW(e){var{alpha:t,layout:r,points:n,baseLine:l,strokeWidth:c}=e;return r==="vertical"?O.createElement(MW,{alpha:t,points:n,baseLine:l,strokeWidth:c}):O.createElement(jW,{alpha:t,points:n,baseLine:l,strokeWidth:c})}function DW(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:l,previousBaselineRef:c}=e,{points:f,baseLine:x,isAnimationActive:b,animationBegin:y,animationDuration:w,animationEasing:A,onAnimationStart:T,onAnimationEnd:_}=n,j=O.useMemo(()=>({points:f,baseLine:x}),[f,x]),M=Um(j,"recharts-area-"),k=Lv(),[R,F]=O.useState(!1),U=!R,V=O.useCallback(()=>{typeof _=="function"&&_(),F(!1)},[_]),q=O.useCallback(()=>{typeof T=="function"&&T(),F(!0)},[T]);if(k==null)return null;var Y=l.current,L=c.current;return O.createElement(_W,{showLabels:U,points:f},n.children,O.createElement(zm,{animationId:M,begin:y,duration:w,isActive:b,easing:A,onAnimationEnd:V,onAnimationStart:q,key:M},J=>{if(Y){var K=Y.length/f.length,Ce=J===1?f:f.map((ee,ce)=>{var fe=Math.floor(ce*K);if(Y[fe]){var Z=Y[fe];return Vc(Vc({},ee),{},{x:Xr(Z.x,ee.x,J),y:Xr(Z.y,ee.y,J)})}return ee}),oe;return tt(x)?oe=Xr(L,x,J):rn(x)||Ri(x)?oe=Xr(L,0,J):oe=x.map((ee,ce)=>{var fe=Math.floor(ce*K);if(Array.isArray(L)&&L[fe]){var Z=L[fe];return Vc(Vc({},ee),{},{x:Xr(Z.x,ee.x,J),y:Xr(Z.y,ee.y,J)})}return ee}),J>0&&(l.current=Ce,c.current=oe),O.createElement(ZC,{points:Ce,baseLine:oe,needClip:t,clipPathId:r,props:n})}return J>0&&(l.current=f,c.current=x),O.createElement(ma,null,b&&O.createElement("defs",null,O.createElement("clipPath",{id:"animationClipPath-".concat(r)},O.createElement(kW,{alpha:J,points:f,baseLine:x,layout:k,strokeWidth:n.strokeWidth}))),O.createElement(ma,{clipPath:"url(#animationClipPath-".concat(r,")")},O.createElement(ZC,{points:f,baseLine:x,needClip:t,clipPathId:r,props:n})))}),O.createElement(j6,{label:n.label}))}function RW(e){var{needClip:t,clipPathId:r,props:n}=e,l=O.useRef(null),c=O.useRef();return O.createElement(DW,{needClip:t,clipPathId:r,props:n,previousPointsRef:l,previousBaselineRef:c})}class PW extends O.PureComponent{render(){var{hide:t,dot:r,points:n,className:l,top:c,left:f,needClip:x,xAxisId:b,yAxisId:y,width:w,height:A,id:T,baseLine:_,zIndex:j}=this.props;if(t)return null;var M=Nr("recharts-area",l),k=T,{r:R,strokeWidth:F}=ZX(r),U=P6(r),V=R*2+F,q=x?"url(#clipPath-".concat(U?"":"dots-").concat(k,")"):void 0;return O.createElement(wi,{zIndex:j},O.createElement(ma,{className:M},x&&O.createElement("defs",null,O.createElement(Q6,{clipPathId:k,xAxisId:b,yAxisId:y}),!U&&O.createElement("clipPath",{id:"clipPath-dots-".concat(k)},O.createElement("rect",{x:f-V/2,y:c-V/2,width:w+V,height:A+V}))),O.createElement(RW,{needClip:x,clipPathId:k,props:this.props})),O.createElement(BC,{points:n,mainColor:rm(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:q}),this.props.isRange&&Array.isArray(_)&&O.createElement(BC,{points:_,mainColor:rm(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:q}))}}var sI={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Pn.area};function LW(e){var t,r=ga(e,sI),{activeDot:n,animationBegin:l,animationDuration:c,animationEasing:f,connectNulls:x,dot:b,fill:y,fillOpacity:w,hide:A,isAnimationActive:T,legendType:_,stroke:j,xAxisId:M,yAxisId:k}=r,R=iI(r,AW),F=$o(),U=c6(),{needClip:V}=Fb(M,k),q=ia(),{points:Y,isRange:L,baseLine:J}=(t=gt(fe=>bW(fe,e.id,q)))!==null&&t!==void 0?t:{},K=Bb();if(F!=="horizontal"&&F!=="vertical"||K==null||U!=="AreaChart"&&U!=="ComposedChart")return null;var{height:Ce,width:oe,x:ee,y:ce}=K;return!Y||!Y.length?null:O.createElement(PW,Lo({},R,{activeDot:n,animationBegin:l,animationDuration:c,animationEasing:f,baseLine:J,connectNulls:x,dot:b,fill:y,fillOpacity:w,height:Ce,hide:A,layout:F,isAnimationActive:T==="auto"?!rf.isSsr:T,isRange:L,legendType:_,needClip:V,points:Y,stroke:j,width:oe,left:ee,top:ce,xAxisId:M,yAxisId:k}))}var BW=(e,t,r,n,l)=>{var c=r??t;if(tt(c))return c;var f=e==="horizontal"?l:n,x=f.scale.domain();if(f.type==="number"){var b=Math.max(x[0],x[1]),y=Math.min(x[0],x[1]);return c==="dataMin"?y:c==="dataMax"||b<0?b:Math.max(Math.min(x[0],x[1]),0)}return c==="dataMin"?x[0]:c==="dataMax"?x[1]:x[0]};function zW(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:l,layout:c,chartBaseValue:f,xAxis:x,yAxis:b,displayedData:y,dataStartIndex:w,xAxisTicks:A,yAxisTicks:T,bandSize:_}=e,j=l&&l.length,M=BW(c,f,r,x,b),k=c==="horizontal",R=!1,F=y.map((V,q)=>{var Y,L,J,K;if(j)K=l[w+q];else{var Ce=vn(V,n);Array.isArray(Ce)?(K=Ce,R=!0):K=[M,Ce]}var oe=(Y=(L=K)===null||L===void 0?void 0:L[1])!==null&&Y!==void 0?Y:null,ee=oe==null||j&&!t&&vn(V,n)==null;if(k){var ce;return{x:P3({axis:x,ticks:A,bandSize:_,entry:V,index:q}),y:ee?null:(ce=b.scale.map(oe))!==null&&ce!==void 0?ce:null,value:K,payload:V}}return{x:ee?null:(J=x.scale.map(oe))!==null&&J!==void 0?J:null,y:P3({axis:b,ticks:T,bandSize:_,entry:V,index:q}),value:K,payload:V}}),U;return j||R?U=F.map(V=>{var q,Y=Array.isArray(V.value)?V.value[0]:null;if(k){var L;return{x:V.x,y:Y!=null&&V.y!=null&&(L=b.scale.map(Y))!==null&&L!==void 0?L:null,payload:V.payload}}return{x:Y!=null&&(q=x.scale.map(Y))!==null&&q!==void 0?q:null,y:V.y,payload:V.payload}}):U=k?b.scale.map(M):x.scale.map(M),{points:F,baseLine:U??0,isRange:R}}function UW(e){var t=ga(e,sI),r=ia();return O.createElement(H6,{id:t.id,type:"area"},n=>O.createElement(O.Fragment,null,O.createElement(F6,{legendPayload:TW(t)}),O.createElement(OW,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),O.createElement(V6,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:IO(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),O.createElement(LW,Lo({},t,{id:n}))))}var lI=O.memo(UW,l1);lI.displayName="Area";var FW="Invariant failed";function HW(e,t){throw new Error(FW)}function Vy(){return Vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vy.apply(null,arguments)}function nm(e){return O.createElement(eq,Vy({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var GW=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,l)=>{if(tt(t))return t;var c=tt(n)||rn(n);return c?t(n,l):(c||HW(),r)}},VW=(e,t,r)=>r,YW=(e,t)=>t,mf=Se([r1,YW],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),qW=Se([mf],e=>e==null?void 0:e.maxBarSize),XW=(e,t,r,n)=>n,WW=Se([fr,r1,us,ds,VW],(e,t,r,n,l)=>t.filter(c=>e==="horizontal"?c.xAxisId===r:c.yAxisId===n).filter(c=>c.isPanorama===l).filter(c=>c.hide===!1).filter(c=>c.type==="bar")),KW=(e,t,r)=>{var n=fr(e),l=us(e,t),c=ds(e,t);if(!(l==null||c==null))return n==="horizontal"?Wh(e,"yAxis",c,r):Wh(e,"xAxis",l,r)},ZW=(e,t)=>{var r=fr(e),n=us(e,t),l=ds(e,t);if(!(n==null||l==null))return r==="horizontal"?PN(e,"xAxis",n):PN(e,"yAxis",l)},$W=Se([WW,eF,ZW],zq),QW=(e,t,r)=>{var n,l,c=mf(e,t);if(c==null)return 0;var f=us(e,t),x=ds(e,t);if(f==null||x==null)return 0;var b=fr(e),y=W5(e),{maxBarSize:w}=c,A=rn(w)?y:w,T,_;return b==="horizontal"?(T=Zl(e,"xAxis",f,r),_=Kl(e,"xAxis",f,r)):(T=Zl(e,"yAxis",x,r),_=Kl(e,"yAxis",x,r)),(n=(l=Qc(T,_,!0))!==null&&l!==void 0?l:A)!==null&&n!==void 0?n:0},oI=(e,t,r)=>{var n=fr(e),l=us(e,t),c=ds(e,t);if(!(l==null||c==null)){var f,x;return n==="horizontal"?(f=Zl(e,"xAxis",l,r),x=Kl(e,"xAxis",l,r)):(f=Zl(e,"yAxis",c,r),x=Kl(e,"yAxis",c,r)),Qc(f,x)}},JW=Se([$W,W5,JU,K5,QW,oI,qW],Vq),eK=(e,t,r)=>{var n=us(e,t);if(n!=null)return Zl(e,"xAxis",n,r)},tK=(e,t,r)=>{var n=ds(e,t);if(n!=null)return Zl(e,"yAxis",n,r)},rK=(e,t,r)=>{var n=us(e,t);if(n!=null)return Kl(e,"xAxis",n,r)},nK=(e,t,r)=>{var n=ds(e,t);if(n!=null)return Kl(e,"yAxis",n,r)},aK=Se([JW,mf],qq),iK=Se([KW,mf],Yq),sK=Se([Bn,Dv,eK,tK,rK,nK,aK,fr,P5,oI,iK,mf,XW],(e,t,r,n,l,c,f,x,b,y,w,A,T)=>{var{chartData:_,dataStartIndex:j,dataEndIndex:M}=b;if(!(A==null||f==null||t==null||x!=="horizontal"&&x!=="vertical"||r==null||n==null||l==null||c==null||y==null)){var{data:k}=A,R;if(k!=null&&k.length>0?R=k:R=_==null?void 0:_.slice(j,M+1),R!=null)return DK({layout:x,barSettings:A,pos:f,parentViewBox:t,bandSize:y,xAxis:r,yAxis:n,xAxisTicks:l,yAxisTicks:c,stackedData:w,displayedData:R,offset:e,cells:T,dataStartIndex:j})}}),lK=["index"];function Yy(){return Yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yy.apply(null,arguments)}function oK(e,t){if(e==null)return{};var r,n,l=cK(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function cK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cI=O.createContext(void 0),uK=e=>{var t=O.useContext(cI);if(t!=null)return t.stackId;if(e!=null)return IO(e)},dK=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),fK=e=>{var t=O.useContext(cI);if(t!=null){var{stackId:r}=t;return"url(#".concat(dK(r,e),")")}},uI=e=>{var{index:t}=e,r=oK(e,lK),n=fK(t);return O.createElement(ma,Yy({className:"recharts-bar-stack-layer",clipPath:n},r))},hK=["onMouseEnter","onMouseLeave","onClick"],mK=["value","background","tooltipPosition"],pK=["id"],xK=["onMouseEnter","onClick","onMouseLeave"];function Js(){return Js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Js.apply(null,arguments)}function $C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function da(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$C(Object(r),!0).forEach(function(n){gK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$C(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gK(e,t,r){return(t=yK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yK(e){var t=vK(e,"string");return typeof t=="symbol"?t:t+""}function vK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function am(e,t){if(e==null)return{};var r,n,l=bK(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function bK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wK=e=>{var{dataKey:t,name:r,fill:n,legendType:l,hide:c}=e;return[{inactive:c,dataKey:t,type:l,color:n,value:_m(r,t),payload:e}]},AK=O.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:l,name:c,hide:f,unit:x,tooltipType:b,id:y}=e,w={dataDefinedOnItem:void 0,getPosition:Zo,settings:{stroke:r,strokeWidth:n,fill:l,dataKey:t,nameKey:void 0,name:_m(c,t),hide:f,type:b,color:l,unit:x,graphicalItemId:y}};return O.createElement(U6,{tooltipEntrySettings:w})});function SK(e){var t=gt(qo),{data:r,dataKey:n,background:l,allOtherBarProps:c}=e,{onMouseEnter:f,onMouseLeave:x,onClick:b}=c,y=am(c,hK),w=L6(f,n,c.id),A=B6(x),T=z6(b,n,c.id);if(!l||r==null)return null;var _=Kd(l);return O.createElement(wi,{zIndex:Xq(l,Pn.barBackground)},r.map((j,M)=>{var{value:k,background:R,tooltipPosition:F}=j,U=am(j,mK);if(!R)return null;var V=w(j,M),q=A(j,M),Y=T(j,M),L=da(da(da(da(da({option:l,isActive:String(M)===t},U),{},{fill:"#eee"},R),_),Ev(y,j,M)),{},{onMouseEnter:V,onMouseLeave:q,onClick:Y,dataKey:n,index:M,className:"recharts-bar-background-rectangle"});return O.createElement(nm,Js({key:"background-bar-".concat(M)},L))}))}function EK(e){var{showLabels:t,children:r,rects:n}=e,l=n==null?void 0:n.map(c=>{var f={x:c.x,y:c.y,width:c.width,lowerWidth:c.width,upperWidth:c.width,height:c.height};return da(da({},f),{},{value:c.value,payload:c.payload,parentViewBox:c.parentViewBox,viewBox:f,fill:c.fill})});return O.createElement(_6,{value:t?l:void 0},r)}function NK(e){var{shape:t,activeBar:r,baseProps:n,entry:l,index:c,dataKey:f}=e,x=gt(qo),b=gt(s6),y=r&&String(c)===x&&(b==null||f===b),w=y?r:t;return y?O.createElement(wi,{zIndex:Pn.activeBar},O.createElement(uI,{index:c},O.createElement(nm,Js({},n,{name:String(n.name)},l,{isActive:y,option:w,index:c,dataKey:f})))):O.createElement(nm,Js({},n,{name:String(n.name)},l,{isActive:y,option:w,index:c,dataKey:f}))}function CK(e){var{shape:t,baseProps:r,entry:n,index:l,dataKey:c}=e;return O.createElement(nm,Js({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:l,dataKey:c}))}function TK(e){var t,{data:r,props:n}=e,l=(t=xi(n))!==null&&t!==void 0?t:{},{id:c}=l,f=am(l,pK),{shape:x,dataKey:b,activeBar:y}=n,{onMouseEnter:w,onClick:A,onMouseLeave:T}=n,_=am(n,xK),j=L6(w,b,c),M=B6(T),k=z6(A,b,c);return r?O.createElement(O.Fragment,null,r.map((R,F)=>O.createElement(uI,Js({index:F,key:"rectangle-".concat(R==null?void 0:R.x,"-").concat(R==null?void 0:R.y,"-").concat(R==null?void 0:R.value,"-").concat(F),className:"recharts-bar-rectangle"},Ev(_,R,F),{onMouseEnter:j(R,F),onMouseLeave:M(R,F),onClick:k(R,F)}),y?O.createElement(NK,{shape:x,activeBar:y,baseProps:f,entry:R,index:F,dataKey:b}):O.createElement(CK,{shape:x,baseProps:f,entry:R,index:F,dataKey:b})))):null}function OK(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:l,isAnimationActive:c,animationBegin:f,animationDuration:x,animationEasing:b,onAnimationEnd:y,onAnimationStart:w}=t,A=r.current,T=Um(t,"recharts-bar-"),[_,j]=O.useState(!1),M=!_,k=O.useCallback(()=>{typeof y=="function"&&y(),j(!1)},[y]),R=O.useCallback(()=>{typeof w=="function"&&w(),j(!0)},[w]);return O.createElement(EK,{showLabels:M,rects:n},O.createElement(zm,{animationId:T,begin:f,duration:x,isActive:c,easing:b,onAnimationEnd:k,onAnimationStart:R,key:T},F=>{var U=F===1?n:n==null?void 0:n.map((V,q)=>{var Y=A&&A[q];if(Y)return da(da({},V),{},{x:Xr(Y.x,V.x,F),y:Xr(Y.y,V.y,F),width:Xr(Y.width,V.width,F),height:Xr(Y.height,V.height,F)});if(l==="horizontal"){var L=Xr(0,V.height,F),J=Xr(V.stackedBarStart,V.y,F);return da(da({},V),{},{y:J,height:L})}var K=Xr(0,V.width,F),Ce=Xr(V.stackedBarStart,V.x,F);return da(da({},V),{},{width:K,x:Ce})});return F>0&&(r.current=U??null),U==null?null:O.createElement(ma,null,O.createElement(TK,{props:t,data:U}))}),O.createElement(j6,{label:t.label}),t.children)}function IK(e){var t=O.useRef(null);return O.createElement(OK,{previousRectanglesRef:t,props:e})}var dI=0,_K=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:vn(e,t)}};class MK extends O.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:l,xAxisId:c,yAxisId:f,needClip:x,background:b,id:y}=this.props;if(t||r==null)return null;var w=Nr("recharts-bar",l),A=y;return O.createElement(ma,{className:w,id:y},x&&O.createElement("defs",null,O.createElement(Q6,{clipPathId:A,xAxisId:c,yAxisId:f})),O.createElement(ma,{className:"recharts-bar-rectangles",clipPath:x?"url(#clipPath-".concat(A,")"):void 0},O.createElement(SK,{data:r,dataKey:n,background:b,allOtherBarProps:this.props}),O.createElement(IK,this.props)))}}var jK={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:dI,xAxisId:0,yAxisId:0,zIndex:Pn.bar};function kK(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:l,minPointSize:c,activeBar:f,animationBegin:x,animationDuration:b,animationEasing:y,isAnimationActive:w}=e,{needClip:A}=Fb(t,r),T=$o(),_=ia(),j=RY(e.children,y6),M=gt(F=>sK(F,e.id,_,j));if(T!=="vertical"&&T!=="horizontal")return null;var k,R=M==null?void 0:M[0];return R==null||R.height==null||R.width==null?k=0:k=T==="vertical"?R.height/2:R.width/2,O.createElement(KX,{xAxisId:t,yAxisId:r,data:M,dataPointFormatter:_K,errorBarOffset:k},O.createElement(MK,Js({},e,{layout:T,needClip:A,data:M,xAxisId:t,yAxisId:r,hide:n,legendType:l,minPointSize:c,activeBar:f,animationBegin:x,animationDuration:b,animationEasing:y,isAnimationActive:w})))}function DK(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:l,bandSize:c,xAxis:f,yAxis:x,xAxisTicks:b,yAxisTicks:y,stackedData:w,displayedData:A,offset:T,cells:_,parentViewBox:j,dataStartIndex:M}=e,k=t==="horizontal"?x:f,R=w?k.scale.domain():null,F=Z9({numericAxis:k}),U=k.scale.map(F);return A.map((V,q)=>{var Y,L,J,K,Ce,oe;if(w){var ee=w[q+M];if(ee==null)return null;Y=Y9(ee,R)}else Y=vn(V,r),Array.isArray(Y)||(Y=[F,Y]);var ce=GW(n,dI)(Y[1],q);if(t==="horizontal"){var fe,Z=x.scale.map(Y[0]),te=x.scale.map(Y[1]);if(Z==null||te==null)return null;L=L3({axis:f,ticks:b,bandSize:c,offset:l.offset,entry:V,index:q}),J=(fe=te??Z)!==null&&fe!==void 0?fe:void 0,K=l.size;var ie=Z-te;if(Ce=Ri(ie)?0:ie,oe={x:L,y:T.top,width:K,height:T.height},Math.abs(ce)>0&&Math.abs(Ce)<Math.abs(ce)){var ne=Oa(Ce||ce)*(Math.abs(ce)-Math.abs(Ce));J-=ne,Ce+=ne}}else{var pe=f.scale.map(Y[0]),Oe=f.scale.map(Y[1]);if(pe==null||Oe==null)return null;if(L=pe,J=L3({axis:x,ticks:y,bandSize:c,offset:l.offset,entry:V,index:q}),K=Oe-pe,Ce=l.size,oe={x:T.left,y:J,width:T.width,height:Ce},Math.abs(ce)>0&&Math.abs(K)<Math.abs(ce)){var $=Oa(K||ce)*(Math.abs(ce)-Math.abs(K));K+=$}}if(L==null||J==null||K==null||Ce==null)return null;var de=da(da({},V),{},{stackedBarStart:U,x:L,y:J,width:K,height:Ce,value:w?Y:Y[1],payload:V,background:oe,tooltipPosition:{x:L+K/2,y:J+Ce/2},parentViewBox:j},_&&_[q]&&_[q].props);return de}).filter(Boolean)}function RK(e){var t=ga(e,jK),r=uK(t.stackId),n=ia();return O.createElement(H6,{id:t.id,type:"bar"},l=>O.createElement(O.Fragment,null,O.createElement(F6,{legendPayload:wK(t)}),O.createElement(AK,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:l}),O.createElement(V6,{type:"bar",id:l,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),O.createElement(wi,{zIndex:t.zIndex},O.createElement(kK,Js({},t,{id:l})))))}var im=O.memo(RK,l1);im.displayName="Bar";var PK=["domain","range"],LK=["domain","range"];function QC(e,t){if(e==null)return{};var r,n,l=BK(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function BK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function JC(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function fI(e,t){if(e===t)return!0;var{domain:r,range:n}=e,l=QC(e,PK),{domain:c,range:f}=t,x=QC(t,LK);return!JC(r,c)||!JC(n,f)?!1:l1(l,x)}var zK=["type"],UK=["dangerouslySetInnerHTML","ticks","scale"],FK=["id","scale"];function qy(){return qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qy.apply(null,arguments)}function e4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function t4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e4(Object(r),!0).forEach(function(n){HK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HK(e,t,r){return(t=GK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GK(e){var t=VK(e,"string");return typeof t=="symbol"?t:t+""}function VK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xy(e,t){if(e==null)return{};var r,n,l=YK(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function YK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function qK(e){var t=fn(),r=O.useRef(null),n=Lv(),{type:l}=e,c=Xy(e,zK),f=Km(n,"xAxis",l),x=O.useMemo(()=>{if(f!=null)return t4(t4({},c),{},{type:f})},[c,f]);return O.useLayoutEffect(()=>{x!=null&&(r.current===null?t(Eq(x)):r.current!==x&&t(Nq({prev:r.current,next:x})),r.current=x)},[x,t]),O.useLayoutEffect(()=>()=>{r.current&&(t(Cq(r.current)),r.current=null)},[t]),null}var XK=e=>{var{xAxisId:t,className:r}=e,n=gt(Dv),l=ia(),c="xAxis",f=gt(R=>z8(R,c,t,l)),x=gt(R=>R8(R,t)),b=gt(R=>rH(R,t)),y=gt(R=>a8(R,t));if(x==null||b==null||y==null)return null;var{dangerouslySetInnerHTML:w,ticks:A,scale:T}=e,_=Xy(e,UK),{id:j,scale:M}=y,k=Xy(y,FK);return O.createElement(Ub,qy({},_,k,{x:b.x,y:b.y,width:x.width,height:x.height,className:Nr("recharts-".concat(c," ").concat(c),r),viewBox:n,ticks:f,axisType:c}))},WK={allowDataOverflow:kn.allowDataOverflow,allowDecimals:kn.allowDecimals,allowDuplicatedCategory:kn.allowDuplicatedCategory,angle:kn.angle,axisLine:Vs.axisLine,height:kn.height,hide:!1,includeHidden:kn.includeHidden,interval:kn.interval,label:!1,minTickGap:kn.minTickGap,mirror:kn.mirror,orientation:kn.orientation,padding:kn.padding,reversed:kn.reversed,scale:kn.scale,tick:kn.tick,tickCount:kn.tickCount,tickLine:Vs.tickLine,tickSize:Vs.tickSize,type:kn.type,xAxisId:0},KK=e=>{var t=ga(e,WK);return O.createElement(O.Fragment,null,O.createElement(qK,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),O.createElement(XK,t))},Ed=O.memo(KK,fI);Ed.displayName="XAxis";var ZK=["type"],$K=["dangerouslySetInnerHTML","ticks","scale"],QK=["id","scale"];function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wy.apply(null,arguments)}function r4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function n4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r4(Object(r),!0).forEach(function(n){JK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JK(e,t,r){return(t=eZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eZ(e){var t=tZ(e,"string");return typeof t=="symbol"?t:t+""}function tZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ky(e,t){if(e==null)return{};var r,n,l=rZ(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function rZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nZ(e){var t=fn(),r=O.useRef(null),n=Lv(),{type:l}=e,c=Ky(e,ZK),f=Km(n,"yAxis",l),x=O.useMemo(()=>{if(f!=null)return n4(n4({},c),{},{type:f})},[f,c]);return O.useLayoutEffect(()=>{x!=null&&(r.current===null?t(Tq(x)):r.current!==x&&t(Oq({prev:r.current,next:x})),r.current=x)},[x,t]),O.useLayoutEffect(()=>()=>{r.current&&(t(Iq(r.current)),r.current=null)},[t]),null}function aZ(e){var{yAxisId:t,className:r,width:n,label:l}=e,c=O.useRef(null),f=O.useRef(null),x=gt(Dv),b=ia(),y=fn(),w="yAxis",A=gt(Y=>P8(Y,t)),T=gt(Y=>aH(Y,t)),_=gt(Y=>z8(Y,w,t,b)),j=gt(Y=>i8(Y,t));if(O.useLayoutEffect(()=>{if(!(n!=="auto"||!A||Lb(l)||O.isValidElement(l)||j==null)){var Y=c.current;if(Y){var L=Y.getCalculatedWidth();Math.round(A.width)!==Math.round(L)&&y(_q({id:t,width:L}))}}},[_,A,y,l,t,n,j]),A==null||T==null||j==null)return null;var{dangerouslySetInnerHTML:M,ticks:k,scale:R}=e,F=Ky(e,$K),{id:U,scale:V}=j,q=Ky(j,QK);return O.createElement(Ub,Wy({},F,q,{ref:c,labelRef:f,x:T.x,y:T.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:A.width,height:A.height,className:Nr("recharts-".concat(w," ").concat(w),r),viewBox:x,ticks:_,axisType:w}))}var iZ={allowDataOverflow:Dn.allowDataOverflow,allowDecimals:Dn.allowDecimals,allowDuplicatedCategory:Dn.allowDuplicatedCategory,angle:Dn.angle,axisLine:Vs.axisLine,hide:!1,includeHidden:Dn.includeHidden,interval:Dn.interval,label:!1,minTickGap:Dn.minTickGap,mirror:Dn.mirror,orientation:Dn.orientation,padding:Dn.padding,reversed:Dn.reversed,scale:Dn.scale,tick:Dn.tick,tickCount:Dn.tickCount,tickLine:Vs.tickLine,tickSize:Vs.tickSize,type:Dn.type,width:Dn.width,yAxisId:0},sZ=e=>{var t=ga(e,iZ);return O.createElement(O.Fragment,null,O.createElement(nZ,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),O.createElement(aZ,t))},Nd=O.memo(sZ,fI);Nd.displayName="YAxis";var lZ=(e,t)=>t,Hb=Se([lZ,fr,r8,Fn,r6,sl,yG,Bn],NG),Gb=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},hI=gi("mouseClick"),mI=Qd();mI.startListening({actionCreator:hI,effect:(e,t)=>{var r=e.payload,n=Hb(t.getState(),Gb(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(yH({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Zy=gi("mouseMove"),pI=Qd(),W0=null;pI.startListening({actionCreator:Zy,effect:(e,t)=>{var r=e.payload;W0!==null&&cancelAnimationFrame(W0);var n=Gb(r);W0=requestAnimationFrame(()=>{var l=t.getState(),c=Cb(l,l.tooltip.settings.shared);if(c==="axis"){var f=Hb(l,n);(f==null?void 0:f.activeIndex)!=null?t.dispatch(X8({activeIndex:f.activeIndex,activeDataKey:void 0,activeCoordinate:f.activeCoordinate})):t.dispatch(q8())}W0=null})}});function oZ(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var a4={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},xI=ka({name:"rootProps",initialState:a4,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:a4.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),cZ=xI.reducer,{updateOptions:uZ}=xI.actions,dZ=null,fZ={updatePolarOptions:(e,t)=>t.payload},gI=ka({name:"polarOptions",initialState:dZ,reducers:fZ}),{updatePolarOptions:SQ}=gI.actions,hZ=gI.reducer,yI=gi("keyDown"),vI=gi("focus"),Vb=Qd();Vb.startListening({actionCreator:yI,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:l}=r.tooltip,c=e.payload;if(!(c!=="ArrowRight"&&c!=="ArrowLeft"&&c!=="Enter")){var f=Tb(l,pu(r),uf(r),ff(r)),x=f==null?-1:Number(f);if(!(!Number.isFinite(x)||x<0)){var b=sl(r);if(c==="Enter"){var y=Zh(r,"axis","hover",String(l.index));t.dispatch(zy({active:!l.active,activeIndex:l.index,activeCoordinate:y}));return}var w=oH(r),A=w==="left-to-right"?1:-1,T=c==="ArrowRight"?1:-1,_=x+T*A;if(!(b==null||_>=b.length||_<0)){var j=Zh(r,"axis","hover",String(_));t.dispatch(zy({active:!0,activeIndex:_.toString(),activeCoordinate:j}))}}}}}});Vb.startListening({actionCreator:vI,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:l}=r.tooltip;if(!l.active&&l.index==null){var c="0",f=Zh(r,"axis","hover",String(c));t.dispatch(zy({active:!0,activeIndex:c,activeCoordinate:f}))}}}});var mi=gi("externalEvent"),bI=Qd(),Yg=new Map;bI.startListening({actionCreator:mi,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var l=n.type,c=Yg.get(l);c!==void 0&&cancelAnimationFrame(c);var f=requestAnimationFrame(()=>{try{var x=t.getState(),b={activeCoordinate:nG(x),activeDataKey:s6(x),activeIndex:qo(x),activeLabel:i6(x),activeTooltipIndex:qo(x),isTooltipActive:aG(x)};r(b,n)}finally{Yg.delete(l)}});Yg.set(l,f)}}});var mZ=Se([hu],e=>e.tooltipItemPayloads),pZ=Se([mZ,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(c=>c.settings.graphicalItemId===r);if(n!=null){var{getPosition:l}=n;if(l!=null)return l(t)}}}),wI=gi("touchMove"),AI=Qd();AI.startListening({actionCreator:wI,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),l=Cb(n,n.tooltip.settings.shared);if(l==="axis"){var c=r.touches[0];if(c==null)return;var f=Hb(n,Gb({clientX:c.clientX,clientY:c.clientY,currentTarget:r.currentTarget}));(f==null?void 0:f.activeIndex)!=null&&t.dispatch(X8({activeIndex:f.activeIndex,activeDataKey:void 0,activeCoordinate:f.activeCoordinate}))}else if(l==="item"){var x,b=r.touches[0];if(document.elementFromPoint==null||b==null)return;var y=document.elementFromPoint(b.clientX,b.clientY);if(!y||!y.getAttribute)return;var w=y.getAttribute(nP),A=(x=y.getAttribute(aP))!==null&&x!==void 0?x:void 0,T=mu(n).find(M=>M.id===A);if(w==null||T==null||A==null)return;var{dataKey:_}=T,j=pZ(n,w,A);t.dispatch(Y8({activeDataKey:_,activeIndex:w,activeCoordinate:j,activeGraphicalItemId:A}))}}}});var xZ=QT({brush:Kq,cartesianAxis:Mq,chartData:rV,errorBars:GX,graphicalItems:cq,layout:U9,legend:KP,options:$G,polarAxis:_Y,polarOptions:hZ,referenceElements:Jq,rootProps:cZ,tooltip:vH,zIndex:zG}),gZ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return d9({reducer:xZ,preloadedState:t,middleware:n=>{var l;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((l="es6")!==null&&l!==void 0?l:"")}).concat([mI.middleware,pI.middleware,Vb.middleware,bI.middleware,AI.middleware])},enhancers:n=>{var l=n;return typeof n=="function"&&(l=n()),l.concat(hO({type:"raf"}))},devTools:{serialize:{replacer:oZ},name:"recharts-".concat(r)}})};function yZ(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,l=ia(),c=O.useRef(null);if(l)return r;c.current==null&&(c.current=gZ(t,n));var f=Tv;return O.createElement(fW,{context:f,store:c.current},r)}function vZ(e){var{layout:t,margin:r}=e,n=fn(),l=ia();return O.useEffect(()=>{l||(n(L9(t)),n(P9(r)))},[n,l,t,r]),null}var bZ=O.memo(vZ,l1);function wZ(e){var t=fn();return O.useEffect(()=>{t(uZ(e))},[t,e]),null}function i4(e){var{zIndex:t,isPanorama:r}=e,n=O.useRef(null),l=fn();return O.useLayoutEffect(()=>(n.current&&l(LG({zIndex:t,element:n.current,isPanorama:r})),()=>{l(BG({zIndex:t,isPanorama:r}))}),[l,t,r]),O.createElement("g",{tabIndex:-1,ref:n})}function s4(e){var{children:t,isPanorama:r}=e,n=gt(TG);if(!n||n.length===0)return t;var l=n.filter(f=>f<0),c=n.filter(f=>f>0);return O.createElement(O.Fragment,null,l.map(f=>O.createElement(i4,{key:f,zIndex:f,isPanorama:r})),t,c.map(f=>O.createElement(i4,{key:f,zIndex:f,isPanorama:r})))}var AZ=["children"];function SZ(e,t){if(e==null)return{};var r,n,l=EZ(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function EZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function sm(){return sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sm.apply(null,arguments)}var NZ={width:"100%",height:"100%",display:"block"},CZ=O.forwardRef((e,t)=>{var r=RO(),n=PO(),l=YO();if(!is(r)||!is(n))return null;var{children:c,otherAttributes:f,title:x,desc:b}=e,y,w;return f!=null&&(typeof f.tabIndex=="number"?y=f.tabIndex:y=l?0:void 0,typeof f.role=="string"?w=f.role:w=l?"application":void 0),O.createElement(xT,sm({},f,{title:x,desc:b,role:w,tabIndex:y,width:r,height:n,style:NZ,ref:t}),c)}),TZ=e=>{var{children:t}=e,r=gt(Dm);if(!r)return null;var{width:n,height:l,y:c,x:f}=r;return O.createElement(xT,{width:n,height:l,x:f,y:c},t)},l4=O.forwardRef((e,t)=>{var{children:r}=e,n=SZ(e,AZ),l=ia();return l?O.createElement(TZ,null,O.createElement(s4,{isPanorama:!0},r)):O.createElement(CZ,sm({ref:t},n),O.createElement(s4,{isPanorama:!1},r))});function OZ(){var e=fn(),[t,r]=O.useState(null),n=gt(rP);return O.useEffect(()=>{if(t!=null){var l=t.getBoundingClientRect(),c=l.width/t.offsetWidth;Gt(c)&&c!==n&&e(z9(c))}},[t,e,n]),r}function o4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function IZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o4(Object(r),!0).forEach(function(n){_Z(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Z(e,t,r){return(t=MZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MZ(e){var t=jZ(e,"string");return typeof t=="symbol"?t:t+""}function jZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xl(){return Xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xl.apply(null,arguments)}var kZ=()=>(dV(),null);function lm(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var DZ=O.forwardRef((e,t)=>{var r,n,l=O.useRef(null),[c,f]=O.useState({containerWidth:lm((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:lm((n=e.style)===null||n===void 0?void 0:n.height)}),x=O.useCallback((y,w)=>{f(A=>{var T=Math.round(y),_=Math.round(w);return A.containerWidth===T&&A.containerHeight===_?A:{containerWidth:T,containerHeight:_}})},[]),b=O.useCallback(y=>{if(typeof t=="function"&&t(y),y!=null&&typeof ResizeObserver<"u"){var{width:w,height:A}=y.getBoundingClientRect();x(w,A);var T=j=>{var M=j[0];if(M!=null){var{width:k,height:R}=M.contentRect;x(k,R)}},_=new ResizeObserver(T);_.observe(y),l.current=_}},[t,x]);return O.useEffect(()=>()=>{var y=l.current;y!=null&&y.disconnect()},[x]),O.createElement(O.Fragment,null,O.createElement(ef,{width:c.containerWidth,height:c.containerHeight}),O.createElement("div",Xl({ref:b},e)))}),RZ=O.forwardRef((e,t)=>{var{width:r,height:n}=e,[l,c]=O.useState({containerWidth:lm(r),containerHeight:lm(n)}),f=O.useCallback((b,y)=>{c(w=>{var A=Math.round(b),T=Math.round(y);return w.containerWidth===A&&w.containerHeight===T?w:{containerWidth:A,containerHeight:T}})},[]),x=O.useCallback(b=>{if(typeof t=="function"&&t(b),b!=null){var{width:y,height:w}=b.getBoundingClientRect();f(y,w)}},[t,f]);return O.createElement(O.Fragment,null,O.createElement(ef,{width:l.containerWidth,height:l.containerHeight}),O.createElement("div",Xl({ref:x},e)))}),PZ=O.forwardRef((e,t)=>{var{width:r,height:n}=e;return O.createElement(O.Fragment,null,O.createElement(ef,{width:r,height:n}),O.createElement("div",Xl({ref:t},e)))}),LZ=O.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?O.createElement(RZ,Xl({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?O.createElement(PZ,Xl({},e,{width:r,height:n,ref:t})):O.createElement(O.Fragment,null,O.createElement(ef,{width:r,height:n}),O.createElement("div",Xl({ref:t},e)))});function BZ(e){return e?DZ:LZ}var zZ=O.forwardRef((e,t)=>{var{children:r,className:n,height:l,onClick:c,onContextMenu:f,onDoubleClick:x,onMouseDown:b,onMouseEnter:y,onMouseLeave:w,onMouseMove:A,onMouseUp:T,onTouchEnd:_,onTouchMove:j,onTouchStart:M,style:k,width:R,responsive:F,dispatchTouchEvents:U=!0}=e,V=O.useRef(null),q=fn(),[Y,L]=O.useState(null),[J,K]=O.useState(null),Ce=OZ(),oe=Rv(),ee=(oe==null?void 0:oe.width)>0?oe.width:R,ce=(oe==null?void 0:oe.height)>0?oe.height:l,fe=O.useCallback(me=>{Ce(me),typeof t=="function"&&t(me),L(me),K(me),me!=null&&(V.current=me)},[Ce,t,L,K]),Z=O.useCallback(me=>{q(hI(me)),q(mi({handler:c,reactEvent:me}))},[q,c]),te=O.useCallback(me=>{q(Zy(me)),q(mi({handler:y,reactEvent:me}))},[q,y]),ie=O.useCallback(me=>{q(q8()),q(mi({handler:w,reactEvent:me}))},[q,w]),ne=O.useCallback(me=>{q(Zy(me)),q(mi({handler:A,reactEvent:me}))},[q,A]),pe=O.useCallback(()=>{q(vI())},[q]),Oe=O.useCallback(me=>{q(yI(me.key))},[q]),$=O.useCallback(me=>{q(mi({handler:f,reactEvent:me}))},[q,f]),de=O.useCallback(me=>{q(mi({handler:x,reactEvent:me}))},[q,x]),Te=O.useCallback(me=>{q(mi({handler:b,reactEvent:me}))},[q,b]),ke=O.useCallback(me=>{q(mi({handler:T,reactEvent:me}))},[q,T]),Qe=O.useCallback(me=>{q(mi({handler:M,reactEvent:me}))},[q,M]),Q=O.useCallback(me=>{U&&q(wI(me)),q(mi({handler:j,reactEvent:me}))},[q,U,j]),Pe=O.useCallback(me=>{q(mi({handler:_,reactEvent:me}))},[q,_]),Ze=BZ(F);return O.createElement(m6.Provider,{value:Y},O.createElement(YD.Provider,{value:J},O.createElement(Ze,{width:ee??(k==null?void 0:k.width),height:ce??(k==null?void 0:k.height),className:Nr("recharts-wrapper",n),style:IZ({position:"relative",cursor:"default",width:ee,height:ce},k),onClick:Z,onContextMenu:$,onDoubleClick:de,onFocus:pe,onKeyDown:Oe,onMouseDown:Te,onMouseEnter:te,onMouseLeave:ie,onMouseMove:ne,onMouseUp:ke,onTouchEnd:Pe,onTouchMove:Q,onTouchStart:Qe,ref:fe},O.createElement(kZ,null),r)))}),UZ=["width","height","responsive","children","className","style","compact","title","desc"];function FZ(e,t){if(e==null)return{};var r,n,l=HZ(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function HZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var GZ=O.forwardRef((e,t)=>{var{width:r,height:n,responsive:l,children:c,className:f,style:x,compact:b,title:y,desc:w}=e,A=FZ(e,UZ),T=xi(A);return b?O.createElement(O.Fragment,null,O.createElement(ef,{width:r,height:n}),O.createElement(l4,{otherAttributes:T,title:y,desc:w},c)):O.createElement(zZ,{className:f,style:x,width:r,height:n,responsive:l??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},O.createElement(l4,{otherAttributes:T,title:y,desc:w,ref:t},O.createElement(tX,null,c)))});function $y(){return $y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$y.apply(null,arguments)}var VZ={top:5,right:5,bottom:5,left:5},YZ={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:VZ,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},SI=O.forwardRef(function(t,r){var n,l=ga(t.categoricalChartProps,YZ),{chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:x,tooltipPayloadSearcher:b,categoricalChartProps:y}=t,w={chartName:c,defaultTooltipEventType:f,validateTooltipEventTypes:x,tooltipPayloadSearcher:b,eventEmitter:void 0};return O.createElement(yZ,{preloadedState:{options:w},reduxStoreName:(n=y.id)!==null&&n!==void 0?n:c},O.createElement(Wq,{chartData:y.data}),O.createElement(bZ,{layout:l.layout,margin:l.margin}),O.createElement(wZ,{baseValue:l.baseValue,accessibilityLayer:l.accessibilityLayer,barCategoryGap:l.barCategoryGap,maxBarSize:l.maxBarSize,stackOffset:l.stackOffset,barGap:l.barGap,barSize:l.barSize,syncId:l.syncId,syncMethod:l.syncMethod,className:l.className,reverseStackOrder:l.reverseStackOrder}),O.createElement(GZ,$y({},l,{ref:r})))}),qZ=["axis","item"],Qy=O.forwardRef((e,t)=>O.createElement(SI,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:qZ,tooltipPayloadSearcher:p6,categoricalChartProps:e,ref:t})),XZ=["axis"],WZ=O.forwardRef((e,t)=>O.createElement(SI,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:XZ,tooltipPayloadSearcher:p6,categoricalChartProps:e,ref:t}));const Ul=({title:e,value:t,change:r,icon:n,colorClass:l,isPremium:c=!0,footer:f})=>m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 md:p-6 rounded-xl md:rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-md transition-shadow h-full flex flex-col",children:[m.jsxs("div",{className:"flex items-start justify-between mb-3 md:mb-4",children:[m.jsx("div",{className:`p-2 md:p-3 rounded-lg md:rounded-xl ${l} bg-opacity-10 dark:bg-opacity-20`,children:m.jsx(n,{className:`w-5 h-5 md:w-6 md:h-6 ${l.replace("bg-","text-")}`})}),r&&m.jsx("span",{className:"flex items-center text-[10px] md:text-xs font-bold text-emerald-600 dark:text-emerald-400 bg-emerald-50 dark:bg-emerald-900/30 px-1.5 py-0.5 md:px-2 md:py-1 rounded-full",children:r})]}),m.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-xs md:text-sm font-medium mb-1",children:e}),m.jsx("div",{className:"text-xl md:text-2xl font-bold text-slate-900 dark:text-white flex-1",children:c?t:m.jsxs("span",{className:"flex items-center gap-2 text-slate-400 text-base md:text-lg blur-[2px] hover:blur-0 transition-all cursor-help",title:"Upgrade to see totals",children:[m.jsx(Wl,{className:"w-3 h-3 md:w-4 md:h-4"})," Hidden"]})}),f&&m.jsx("div",{className:"mt-2 md:mt-3 pt-2 md:pt-3 border-t border-slate-100 dark:border-slate-700 text-[10px] md:text-xs",children:f})]}),KZ=()=>{const{invoices:e,customers:t,products:r,workers:n,salaryRecords:l,customerPayments:c,businessProfile:f,isLoading:x}=Ln(),{theme:b}=fT(),[y,w]=O.useState("month"),[A,T]=O.useState(!0);xa();const _=f.plan!==Er.FREE,j=f.includeNonGstInReports!==!1;if(x)return m.jsx("div",{className:"p-10 text-center text-slate-500 dark:text-slate-400 animate-pulse",children:"Loading dashboard..."});const M=(fe,Z)=>{if(!fe)return!1;const te=fe.split("T")[0],ie=new Date,ne=ie.getFullYear(),pe=ie.getMonth()+1,Oe=ie.getDate(),[$,de,Te]=te.split("-").map(Number);switch(Z){case"today":return $===ne&&de===pe&&Te===Oe;case"month":return $===ne&&de===pe;case"year":return $===ne;case"all":return!0;default:return!0}},k=O.useMemo(()=>e.filter(fe=>!fe.isDeleted&&(j||fe.billingType!=="NON_GST")&&M(fe.date,y)),[e,y,j]),R=O.useMemo(()=>{let fe=0,Z=0;return k.forEach(te=>{te.returns&&te.returns.forEach(ie=>{fe+=ie.totalRefundAmount,Z++})}),{count:Z,total:fe}},[k]),F=O.useMemo(()=>{const fe=k.reduce((ie,ne)=>ie+(ne.paidAmount||0),0),Z=k.reduce((ie,ne)=>ie+ne.grandTotal,0),te=R.total;return{net:fe,billed:Z,refunds:te}},[k,R]),U=O.useMemo(()=>{let fe=0,Z=0,te=0,ie=0,ne=0,pe=0;return k.forEach(Oe=>{Oe.excludeFromReports||(fe+=Oe.paidAmount,Oe.status===Ot.OVERDUE?(te+=Oe.balanceAmount,pe++):Oe.balanceAmount>0&&(Z+=Oe.balanceAmount,ne++),Oe.status===Ot.PAID&&ie++)}),{collected:{count:ie,amount:fe},pending:{count:ne,amount:Z},overdue:{count:pe,amount:te}}},[k]),V=O.useMemo(()=>{const fe={},Z=new Date,te=[];if(y==="year"||y==="all")for(let ne=5;ne>=0;ne--){const Oe=new Date(Z.getFullYear(),Z.getMonth()-ne,1).toLocaleString("default",{month:"short",year:"2-digit"});te.push(Oe),fe[Oe]=0}else for(let ne=6;ne>=0;ne--){const pe=new Date(Z);pe.setDate(pe.getDate()-ne);const Oe=pe.toLocaleDateString("default",{day:"numeric",month:"short"});te.push(Oe),fe[Oe]=0}const ie=(ne,pe)=>{const[Oe,$,de]=ne.split("T")[0].split("-").map(Number),Te=new Date(Oe,$-1,de);let ke="";y==="year"||y==="all"?ke=Te.toLocaleString("default",{month:"short",year:"2-digit"}):ke=Te.toLocaleDateString("default",{day:"numeric",month:"short"}),fe[ke]!==void 0&&(fe[ke]+=pe)};return e.forEach(ne=>{if(!ne.isDeleted&&!ne.excludeFromReports){if(!j&&ne.billingType==="NON_GST")return;ie(ne.date,ne.paidAmount||0)}}),te.map(ne=>({name:ne,revenue:fe[ne]||0}))},[e,y,j]),q=O.useMemo(()=>{var ie;const fe=((ie=f.stockSettings)==null?void 0:ie.lowStockThreshold)??5,Z=r.filter(ne=>(ne.stock||0)<=fe),te=Z.reduce((ne,pe)=>ne+pe.price*(pe.stock||0),0);return{count:Z.length,value:te}},[r,f.stockSettings]),Y=O.useMemo(()=>{const fe=n.filter(te=>te.advanceBalance>0),Z=fe.reduce((te,ie)=>te+ie.advanceBalance,0);return{count:fe.length,total:Z}},[n]),L=O.useMemo(()=>{const fe=new Date().toISOString().slice(0,7),Z=l.filter(ne=>ne.month===fe),te=Z.filter(ne=>ne.status==="Paid").reduce((ne,pe)=>ne+pe.amount,0),ie=Z.filter(ne=>ne.status==="Unpaid").reduce((ne,pe)=>ne+pe.amount,0);return{paid:te,pending:ie}},[l]),J=O.useMemo(()=>{const fe=k.filter(te=>te.billingType==="NON_GST"),Z=fe.reduce((te,ie)=>te+(ie.paidAmount||0),0);return{count:fe.length,total:Z}},[k]),K=b==="dark"||b==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches,Ce=K?"#334155":"#e2e8f0",oe=K?"#94a3b8":"#64748b",ee=K?"#1e293b":"#ffffff",ce=K?"#f8fafc":"#0f172a";return m.jsxs("div",{className:"animate-in fade-in duration-500",children:[m.jsxs("div",{className:"sticky top-0 z-20 bg-slate-50 dark:bg-slate-900 px-3 md:px-4 lg:px-10 pt-3 md:pt-4 lg:pt-10 pb-3 md:pb-4",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 md:gap-4",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl md:text-2xl font-bold text-slate-900 dark:text-white",children:"Overview"}),m.jsx("p",{className:"text-xs md:text-base text-slate-500 dark:text-slate-400",children:"Welcome back, here is your business summary."})]}),m.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[m.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[m.jsxs("select",{value:y,onChange:fe=>w(fe.target.value),className:"appearance-none w-full sm:w-auto bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200 py-2 md:py-2.5 pl-3 md:pl-4 pr-8 md:pr-10 rounded-lg md:rounded-xl text-sm font-medium focus:outline-none focus:ring-2 focus:ring-primary-500 cursor-pointer shadow-sm",children:[m.jsx("option",{value:"today",children:"Today"}),m.jsx("option",{value:"month",children:"This Month"}),m.jsx("option",{value:"year",children:"This Year"}),m.jsx("option",{value:"all",children:"All Time"})]}),m.jsx($4,{className:"w-3.5 h-3.5 md:w-4 md:h-4 text-slate-400 absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"})]}),m.jsxs(Ma,{to:"/invoices/new",className:"bg-primary-600 hover:bg-primary-700 text-white px-3 md:px-5 py-2 md:py-2.5 rounded-lg md:rounded-xl text-sm font-medium flex items-center gap-1.5 md:gap-2 shadow-lg shadow-primary-600/30 transition-all whitespace-nowrap",children:[m.jsx(Hs,{className:"w-4 h-4 md:w-5 md:h-5"}),"Create Invoice"]})]})]}),!j&&A&&m.jsxs("div",{className:"mt-2 flex flex-wrap sm:inline-flex items-center gap-2 bg-blue-50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-800 rounded-lg px-3 py-1.5 text-xs text-blue-700 dark:text-blue-300 animate-in fade-in slide-in-from-top-1",children:[m.jsx(nT,{className:"w-3.5 h-3.5 shrink-0"}),m.jsxs("span",{children:["Non-GST excluded. ",m.jsx(Ma,{to:"/profile",className:"underline font-bold hover:text-blue-800 dark:hover:text-blue-200",children:"Enable in Settings"})]}),m.jsx("button",{onClick:()=>T(!1),className:"ml-auto sm:ml-2 p-0.5 hover:bg-blue-200 dark:hover:bg-blue-800 rounded-full transition-colors","aria-label":"Dismiss",children:m.jsx(qs,{className:"w-3 h-3"})})]})]}),m.jsxs("div",{className:"px-3 md:px-4 lg:px-10 pb-10 space-y-4 md:space-y-8",children:[m.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-6",children:[m.jsx(Ul,{title:"Revenue (Paid)",value:$e(F.net),change:y==="all"?"":"Net Collected",icon:uh,colorClass:"bg-emerald-500 text-emerald-600",footer:m.jsxs("div",{className:"flex justify-between text-xs text-slate-500",children:[m.jsxs("span",{children:["Billed: ",$e(F.billed)]}),m.jsxs("span",{children:["Refunds: -",$e(F.refunds)]})]})}),m.jsx(Ul,{title:"Customers",value:t.length,icon:su,colorClass:"bg-blue-500 text-blue-600"}),m.jsx(Ul,{title:"Invoices Generated",value:k.length,icon:$g,colorClass:"bg-indigo-500 text-indigo-600"}),m.jsx(Ul,{title:"Refunds & Returns",value:$e(R.total),icon:Oo,colorClass:"bg-red-500 text-red-600",footer:m.jsxs("div",{className:"text-xs text-slate-500",children:[R.count," items returned in period"]})})]}),m.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-3 ${j?"lg:grid-cols-4":""} gap-3 md:gap-6`,children:[j&&m.jsx(Ul,{title:"Non-GST Revenue",value:$e(J.total),icon:zo,colorClass:"bg-teal-500 text-teal-600",footer:m.jsxs("div",{className:"flex justify-between items-center text-slate-500 dark:text-slate-400",children:[m.jsx("span",{children:"Invoices:"}),m.jsx("span",{className:"font-bold text-teal-600 dark:text-teal-400",children:J.count})]})}),m.jsx(Ul,{title:"Low Stock Products",value:q.count,icon:Xd,colorClass:"bg-orange-500 text-orange-600",isPremium:!0,footer:m.jsxs("div",{className:"flex justify-between items-center text-slate-500 dark:text-slate-400",children:[m.jsx("span",{children:"Value at Risk:"}),m.jsx("span",{className:"font-bold text-orange-600 dark:text-orange-400",children:_?$e(q.value):"Upgrade"})]})}),m.jsx(Ul,{title:"Workers Advance",value:$e(Y.total),icon:ch,colorClass:"bg-purple-500 text-purple-600",isPremium:_,footer:m.jsxs("div",{className:"flex justify-between items-center text-slate-500 dark:text-slate-400",children:[m.jsx("span",{children:"Workers with Advance:"}),m.jsx("span",{className:"font-bold text-purple-600 dark:text-purple-400",children:Y.count})]})}),m.jsx(Ul,{title:"This Month Salaries",value:$e(L.paid),icon:tT,colorClass:"bg-blue-500 text-blue-600",isPremium:_,footer:m.jsxs("div",{className:"flex justify-between items-center text-slate-500 dark:text-slate-400",children:[m.jsx("span",{children:"Pending Payment:"}),m.jsx("span",{className:"font-bold text-blue-600 dark:text-blue-400",children:_?$e(L.pending):"Upgrade"})]})})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 md:p-6 rounded-xl md:rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsx("h3",{className:"text-base md:text-lg font-bold text-slate-900 dark:text-white mb-4 md:mb-6",children:"Invoice Status (Created in Period)"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-4",children:[m.jsxs("div",{className:"p-4 rounded-xl bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-100 dark:border-emerald-800",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsx("div",{className:"p-2 bg-emerald-100 dark:bg-emerald-800/50 rounded-lg text-emerald-600 dark:text-emerald-400",children:m.jsx(Bo,{className:"w-5 h-5"})}),m.jsxs("span",{className:"text-xs font-bold bg-white dark:bg-slate-800 px-2 py-1 rounded-full text-emerald-600 dark:text-emerald-400 shadow-sm",children:[U.collected.count," Invoices"]})]}),m.jsx("p",{className:"text-xs text-emerald-600/80 dark:text-emerald-400/80 font-medium",children:"Collected"}),m.jsx("p",{className:"text-xl font-bold text-emerald-700 dark:text-emerald-300",children:$e(U.collected.amount)})]}),m.jsxs("div",{className:"p-4 rounded-xl bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-100 dark:border-yellow-800",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsx("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-800/50 rounded-lg text-yellow-600 dark:text-yellow-400",children:m.jsx(fv,{className:"w-5 h-5"})}),m.jsxs("span",{className:"text-xs font-bold bg-white dark:bg-slate-800 px-2 py-1 rounded-full text-yellow-600 dark:text-yellow-400 shadow-sm",children:[U.pending.count," Invoices"]})]}),m.jsx("p",{className:"text-xs text-yellow-600/80 dark:text-yellow-400/80 font-medium",children:"Pending"}),m.jsx("p",{className:"text-xl font-bold text-yellow-700 dark:text-yellow-300",children:$e(U.pending.amount)})]}),m.jsxs("div",{className:"p-4 rounded-xl bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-800",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-800/50 rounded-lg text-red-600 dark:text-red-400",children:m.jsx(fm,{className:"w-5 h-5"})}),m.jsxs("span",{className:"text-xs font-bold bg-white dark:bg-slate-800 px-2 py-1 rounded-full text-red-600 dark:text-red-400 shadow-sm",children:[U.overdue.count," Invoices"]})]}),m.jsx("p",{className:"text-xs text-red-600/80 dark:text-red-400/80 font-medium",children:"Overdue"}),m.jsx("p",{className:"text-xl font-bold text-red-700 dark:text-red-300",children:$e(U.overdue.amount)})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-8",children:[m.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-4 md:p-6 rounded-xl md:rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsx("h3",{className:"text-base md:text-lg font-bold text-slate-900 dark:text-white mb-4 md:mb-6",children:"Revenue Trend (Based on Invoice Date)"}),m.jsx("div",{className:"h-72 w-full",children:m.jsx(eh,{width:"100%",height:"100%",children:m.jsxs(Qy,{data:V,children:[m.jsx(Sd,{strokeDasharray:"3 3",vertical:!1,stroke:Ce}),m.jsx(Ed,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:oe,fontSize:12},dy:10}),m.jsx(Nd,{axisLine:!1,tickLine:!1,tick:{fill:oe,fontSize:12},tickFormatter:fe=>`${fe>=1e3?fe/1e3+"k":fe}`}),m.jsx(rh,{cursor:{fill:K?"#334155":"#f1f5f9"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)",backgroundColor:ee,color:ce},itemStyle:{color:ce},labelStyle:{color:oe},formatter:fe=>[`${fe}`,"Revenue"]}),m.jsx(im,{dataKey:"revenue",fill:"#4f46e5",radius:[6,6,0,0],barSize:32})]})})})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 md:p-6 rounded-xl md:rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm flex flex-col",children:[m.jsx("h3",{className:"text-base md:text-lg font-bold text-slate-900 dark:text-white mb-3 md:mb-4",children:"Recent Invoices"}),m.jsxs("div",{className:"space-y-4 flex-1 overflow-auto",children:[e.filter(fe=>!fe.isDeleted).slice(0,5).map(fe=>m.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-slate-50 dark:hover:bg-slate-700/50 rounded-xl transition-colors group cursor-pointer border border-transparent hover:border-slate-100 dark:hover:border-slate-700",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center text-slate-500 dark:text-slate-400 group-hover:bg-white dark:group-hover:bg-slate-600 group-hover:shadow-sm",children:m.jsx($g,{className:"w-5 h-5"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:fe.customerName}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:fe.invoiceNumber})]})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white",children:$e(fe.grandTotal)}),m.jsx("p",{className:`text-[10px] font-bold uppercase tracking-wider ${fe.status==="Paid"?"text-emerald-500":fe.status==="Partially Paid"?"text-orange-500":fe.status==="Returned"?"text-slate-500":"text-red-500"}`,children:fe.status})]})]},fe.id)),e.length===0&&m.jsx("div",{className:"text-center text-slate-400 py-8 text-sm",children:"No recent invoices."})]}),m.jsx(Ma,{to:"/invoices",className:"block text-center text-sm font-semibold text-primary-600 dark:text-primary-400 mt-6 hover:text-primary-700 dark:hover:text-primary-300",children:"View All Invoices"})]})]})]})]})},It=({label:e,error:t,className:r="",...n})=>m.jsxs("div",{className:"w-full",children:[e&&m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:e}),m.jsx("input",{className:`w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 
        bg-white dark:bg-slate-800 
        text-slate-900 dark:text-white 
        placeholder:text-slate-400 dark:placeholder:text-slate-500
        focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400
        disabled:opacity-50 disabled:bg-slate-100 dark:disabled:bg-slate-900 disabled:cursor-not-allowed
        [color-scheme:light] dark:[color-scheme:dark]
        transition-all duration-200 ${t?"border-red-500 focus:ring-red-500":""} ${r}`,...n}),t&&m.jsx("p",{className:"mt-1 text-xs text-red-500",children:t})]}),Wo=({label:e,options:t,placeholder:r,className:n="",...l})=>m.jsxs("div",{className:"w-full",children:[e&&m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:e}),m.jsxs("select",{className:`w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 
        bg-white dark:bg-slate-800 
        text-slate-900 dark:text-white 
        focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400
        disabled:opacity-50 disabled:bg-slate-100 dark:disabled:bg-slate-900
        [color-scheme:light] dark:[color-scheme:dark]
        transition-all duration-200 ${n}`,...l,children:[r&&m.jsx("option",{value:"",className:"text-slate-500",children:r}),t.map(c=>m.jsx("option",{value:c.value,children:c.label},c.value))]})]}),ZZ=()=>{const{invoices:e,softDeleteInvoice:t,restoreInvoice:r,permanentDeleteInvoice:n,processSalesReturn:l}=Ln(),{showAlert:c}=Ql(),[f]=Y4(),[x,b]=O.useState(""),[y,w]=O.useState(f.get("status")||"All"),[A,T]=O.useState("active"),[_,j]=O.useState(!1),[M,k]=O.useState("date"),[R,F]=O.useState("desc"),[U,V]=O.useState(!1),[q,Y]=O.useState(null),[L,J]=O.useState(!1),[K,Ce]=O.useState(null),[oe,ee]=O.useState({}),[ce,fe]=O.useState({}),[Z,te]=O.useState(new Date().toISOString().split("T")[0]),[ie,ne]=O.useState(""),[pe,Oe]=O.useState("ADJUST"),[$,de]=O.useState("Cash"),Te=Ie=>{M===Ie?F(R==="asc"?"desc":"asc"):(k(Ie),F("asc"))},ke=Ie=>{Y(Ie),V(!0)},Qe=()=>{q&&(t(q),V(!1),Y(null))},Q=()=>{q&&(n(q),V(!1),Y(null))},Pe=Ie=>{Ce(Ie),ee({}),fe({}),te(new Date().toISOString().split("T")[0]),ne(""),Oe("ADJUST"),de("Cash"),J(!0)},Ze=O.useMemo(()=>{if(!K)return{totalRefundValue:0,newGrandTotal:0,excessPayment:0};let Ie=0;K.items.forEach(lt=>{const wn=oe[lt.id]||0;if(wn>0){const Da=lt.amount/lt.quantity*wn*(1+lt.gstRate/100);Ie+=Da}});const Nt=Math.max(0,K.grandTotal-Ie),bt=K.paidAmount||0,Ct=Math.max(0,bt-Nt);return{totalRefundValue:Ie,newGrandTotal:Nt,excessPayment:Ct}},[K,oe]);O.useEffect(()=>{Ze.excessPayment<=0?Oe("ADJUST"):pe==="ADJUST"&&Oe("CASH")},[Ze.excessPayment,pe]);const me=async()=>{if(!K)return;const Ie=[];if(Object.keys(oe).forEach(Ct=>{const lt=oe[Ct];lt>0&&Ie.push({itemId:Ct,quantity:lt,condition:ce[Ct]||qc.GOOD})}),Ie.length===0){c({title:"No Items",message:"Please select at least one item to return.",type:"warning"});return}let Nt=ie;pe==="CASH"&&Ze.excessPayment>0&&(Nt=`${ie?ie+" | ":""}Refunded via ${$}`);const bt=await l(K.id,{items:Ie,date:Z,reason:Nt,refundMethod:pe});bt.success?(c({title:"Return Processed",message:bt.message||"Success",type:"success"}),J(!1),Ce(null)):c({title:"Failed",message:bt.message||"Could not process return",type:"error"})},nt=e.filter(Ie=>{if(A==="active"&&Ie.isDeleted||A==="deleted"&&!Ie.isDeleted)return!1;const Nt=Ie.invoiceNumber.toLowerCase().includes(x.toLowerCase())||Ie.customerName.toLowerCase().includes(x.toLowerCase()),bt=y==="All"||Ie.status===y;return A==="active"&&!_&&Ie.isCustomerInactive?!1:Nt&&bt}),st=e.filter(Ie=>!Ie.isDeleted&&Ie.isCustomerInactive&&(y==="All"||Ie.status===y)&&(Ie.invoiceNumber.toLowerCase().includes(x.toLowerCase())||Ie.customerName.toLowerCase().includes(x.toLowerCase()))).length,Be=[...nt].sort((Ie,Nt)=>{let bt,Ct;return M==="amount"?(bt=Ie.grandTotal,Ct=Nt.grandTotal):(bt=Ie[M],Ct=Nt[M]),bt<Ct?R==="asc"?-1:1:bt>Ct?R==="asc"?1:-1:0}),Je=({column:Ie})=>M!==Ie?m.jsx(tk,{className:"w-4 h-4 text-slate-300"}):R==="asc"?m.jsx(Z4,{className:"w-4 h-4 text-primary-600"}):m.jsx(W4,{className:"w-4 h-4 text-primary-600"}),Et=({status:Ie})=>{let Nt="";switch(Ie){case Ot.PAID:Nt="bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800";break;case Ot.PENDING:Nt="bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 border-blue-200 dark:border-blue-800";break;case Ot.PARTIALLY_PAID:Nt="bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 border-orange-200 dark:border-orange-800";break;case Ot.OVERDUE:Nt="bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 border-red-200 dark:border-red-800";break;case Ot.RETURNED:Nt="bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-200 dark:border-gray-600";break;case Ot.PARTIALLY_RETURNED:Nt="bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400 border-purple-200 dark:border-purple-800";break;default:Nt="bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 border-slate-200"}return m.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold border ${Nt}`,children:Ie})};return m.jsxs("div",{children:[m.jsxs("div",{className:"sticky top-0 z-20 bg-slate-50 dark:bg-slate-900 px-3 md:px-4 lg:px-10 pt-3 md:pt-4 lg:pt-10 pb-3 md:pb-4",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 md:gap-4 mb-3 md:mb-4",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl md:text-2xl font-bold text-slate-900 dark:text-white",children:"Invoices"}),m.jsx("p",{className:"text-xs md:text-base text-slate-500 dark:text-slate-400",children:"Manage and track your billings"})]}),m.jsxs(Ma,{to:"/invoices/new",className:"bg-primary-600 hover:bg-primary-700 text-white px-3 md:px-5 py-2 md:py-2.5 rounded-lg md:rounded-xl text-sm font-medium flex items-center gap-1.5 md:gap-2 shadow-lg shadow-primary-600/30 transition-all w-full sm:w-auto justify-center",children:[m.jsx(Hs,{className:"w-4 h-4 md:w-5 md:h-5"}),"Create Invoice"]})]}),m.jsxs("div",{className:"flex flex-col gap-3 md:gap-4",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 md:gap-4",children:[m.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-lg md:rounded-xl w-fit",children:[m.jsxs("button",{onClick:()=>T("active"),className:`flex items-center gap-1.5 md:gap-2 px-3 md:px-4 py-1.5 md:py-2 rounded-md md:rounded-lg text-xs md:text-sm font-bold transition-all ${A==="active"?"bg-white dark:bg-slate-700 text-primary-600 dark:text-primary-400 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:[m.jsx($g,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})," Active"]}),m.jsxs("button",{onClick:()=>T("deleted"),className:`flex items-center gap-1.5 md:gap-2 px-3 md:px-4 py-1.5 md:py-2 rounded-md md:rounded-lg text-xs md:text-sm font-bold transition-all ${A==="deleted"?"bg-white dark:bg-slate-700 text-red-500 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:[m.jsx(ko,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})," Bin"]})]}),A==="active"&&m.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none bg-slate-50 dark:bg-slate-800/50 px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-700 hover:border-slate-300 transition-colors",children:[m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"checkbox",checked:_,onChange:Ie=>j(Ie.target.checked),className:"sr-only peer"}),m.jsx("div",{className:"w-9 h-5 bg-slate-200 peer-focus:outline-none rounded-full peer dark:bg-slate-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-slate-600"})]}),m.jsxs("span",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 flex items-center gap-1 whitespace-nowrap",children:[m.jsx(mm,{className:"w-3 h-3"})," Show Inactive Invoices"]})]})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 md:gap-4",children:[m.jsxs("div",{className:"relative flex-1",children:[m.jsx(Wd,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-4 h-4 md:w-5 md:h-5"}),m.jsx("input",{type:"text",placeholder:"Search...",value:x,onChange:Ie=>b(Ie.target.value),className:"w-full pl-9 md:pl-10 pr-4 py-2.5 md:py-3 rounded-lg md:rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-sm text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 transition-colors"})]}),m.jsxs("div",{className:"relative w-full sm:w-48",children:[m.jsx(Lk,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-3.5 h-3.5 md:w-4 md:h-4"}),m.jsxs("select",{value:y,onChange:Ie=>w(Ie.target.value),className:"w-full pl-9 md:pl-10 pr-4 py-2.5 md:py-3 rounded-lg md:rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-sm text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 appearance-none cursor-pointer",children:[m.jsx("option",{value:"All",children:"All Status"}),m.jsx("option",{value:Ot.PAID,children:"Paid"}),m.jsx("option",{value:Ot.PENDING,children:"Pending"}),m.jsx("option",{value:Ot.PARTIALLY_PAID,children:"Partially Paid"}),m.jsx("option",{value:Ot.OVERDUE,children:"Overdue"}),m.jsx("option",{value:Ot.RETURNED,children:"Returned"}),m.jsx("option",{value:Ot.PARTIALLY_RETURNED,children:"Partially Returned"})]})]})]}),A==="active"&&!_&&st>0&&m.jsxs("div",{className:"flex items-center gap-2 px-1 animate-in fade-in slide-in-from-left-2",children:[m.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-orange-400"}),m.jsxs("p",{className:"text-xs text-slate-400 font-medium",children:[st," invoices hidden from inactive customers."]})]})]})]}),m.jsx("div",{className:"px-3 md:px-4 lg:px-10 pb-10 space-y-4 md:space-y-6",children:m.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl md:rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-3 md:px-6 py-3 md:py-4 text-[10px] md:text-xs font-bold text-slate-500 dark:text-slate-400 uppercase cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700/50 transition-colors select-none",onClick:()=>Te("invoiceNumber"),children:m.jsxs("div",{className:"flex items-center gap-1",children:["Details ",m.jsx(Je,{column:"invoiceNumber"})]})}),m.jsx("th",{className:"px-3 md:px-6 py-3 md:py-4 text-[10px] md:text-xs font-bold text-slate-500 dark:text-slate-400 uppercase cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700/50 transition-colors select-none hidden sm:table-cell",onClick:()=>Te("date"),children:m.jsxs("div",{className:"flex items-center gap-1",children:["Date ",m.jsx(Je,{column:"date"})]})}),m.jsx("th",{className:"px-3 md:px-6 py-3 md:py-4 text-[10px] md:text-xs font-bold text-slate-500 dark:text-slate-400 uppercase",children:"Status"}),m.jsx("th",{className:"px-3 md:px-6 py-3 md:py-4 text-[10px] md:text-xs font-bold text-slate-500 dark:text-slate-400 uppercase text-right cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700/50 transition-colors select-none",onClick:()=>Te("amount"),children:m.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Amt ",m.jsx(Je,{column:"amount"})]})}),m.jsx("th",{className:"px-3 md:px-6 py-3 md:py-4 text-[10px] md:text-xs font-bold text-slate-500 dark:text-slate-400 uppercase text-right",children:"Action"})]})}),m.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[Be.map(Ie=>{const Nt=Ie.returns&&Ie.returns.length>0;return m.jsxs("tr",{className:`hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors group ${Ie.isCustomerInactive?"opacity-75 bg-slate-50/50 dark:bg-slate-800/50":""}`,children:[m.jsx("td",{className:"px-3 md:px-6 py-3 md:py-4",children:m.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[m.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center shrink-0 ${A==="deleted"?"bg-red-50 text-red-500":"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400"}`,children:A==="deleted"?m.jsx(ko,{className:"w-4 h-4 md:w-5 md:h-5"}):m.jsx(zo,{className:"w-4 h-4 md:w-5 md:h-5"})}),m.jsxs("div",{className:"min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[m.jsx("p",{className:"font-bold text-xs md:text-base text-slate-900 dark:text-white truncate",children:Ie.invoiceNumber}),Ie.isCustomerInactive&&m.jsx("span",{className:"text-[8px] md:text-[10px] bg-slate-100 dark:bg-slate-700 text-slate-500 px-1 md:px-1.5 py-0.5 rounded border border-slate-200 dark:border-slate-600 shrink-0",children:"Inactive"})]}),m.jsx("p",{className:"text-[10px] md:text-sm text-slate-500 dark:text-slate-400 truncate max-w-[100px] sm:max-w-none",children:Ie.customerName}),m.jsx("p",{className:"text-[10px] text-slate-400 sm:hidden",children:ja(Ie.date)})]})]})}),m.jsxs("td",{className:"px-3 md:px-6 py-3 md:py-4 hidden sm:table-cell",children:[m.jsx("p",{className:"text-sm text-slate-900 dark:text-white font-medium",children:ja(Ie.date)}),m.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Due: ",ja(Ie.dueDate)]})]}),m.jsx("td",{className:"px-3 md:px-6 py-3 md:py-4",children:m.jsx(Et,{status:Ie.status})}),m.jsxs("td",{className:"px-3 md:px-6 py-3 md:py-4 text-right",children:[m.jsx("p",{className:"font-bold text-xs md:text-base text-slate-900 dark:text-white",children:$e(Ie.grandTotal)}),Ie.balanceAmount>0&&m.jsxs("p",{className:"text-[10px] md:text-xs text-orange-500 font-bold",children:["Bal: ",$e(Ie.balanceAmount)]}),Nt&&m.jsxs("div",{className:"flex items-center justify-end gap-1 text-[8px] md:text-[10px] text-red-500 font-bold mt-0.5 md:mt-1",children:[m.jsx(Oo,{className:"w-2.5 h-2.5 md:w-3 md:h-3"}),"Ret: ",$e(Ie.returns.reduce((bt,Ct)=>bt+Ct.totalRefundAmount,0))]})]}),m.jsx("td",{className:"px-3 md:px-6 py-3 md:py-4 text-right",children:m.jsx("div",{className:"flex items-center justify-end gap-1 md:gap-2",children:A==="active"?m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>Pe(Ie),className:"text-slate-400 hover:text-red-500 p-1.5 md:p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Return Items",children:m.jsx(Oo,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})}),m.jsx(Ma,{to:`/invoices/${Ie.id}?mode=view`,className:"text-slate-400 hover:text-primary-500 p-1.5 md:p-2 hover:bg-primary-50 dark:hover:bg-primary-900/30 rounded-lg transition-colors",title:"View Invoice",children:m.jsx(qd,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})}),m.jsx(Ma,{to:`/invoices/${Ie.id}`,className:"text-slate-400 hover:text-indigo-500 p-1.5 md:p-2 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded-lg transition-colors",title:Nt?"Edit Invoice (Restricted)":"Edit Invoice",children:m.jsx(pm,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})}),m.jsx("button",{onClick:()=>ke(Ie.id),className:"text-slate-400 hover:text-red-500 p-1.5 md:p-2 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Delete Invoice",children:m.jsx(ko,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})})]}):m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:()=>r(Ie.id),className:"text-emerald-500 hover:text-emerald-700 bg-emerald-50 hover:bg-emerald-100 p-2 rounded-lg transition-colors flex items-center gap-1 text-xs font-bold px-3",children:[m.jsx(Oo,{className:"w-3.5 h-3.5"})," Restore"]}),m.jsx("button",{onClick:()=>ke(Ie.id),className:"text-red-500 hover:text-red-700 bg-red-50 hover:bg-red-100 p-2 rounded-lg transition-colors text-xs font-bold px-3",children:"Permanent Delete"})]})})})]},Ie.id)}),Be.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-slate-400 dark:text-slate-500",children:A==="active"?"No active invoices found.":"Recycle bin is empty."})})]})]})})})}),U&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-2xl overflow-hidden p-6 text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx(Kc,{className:"w-8 h-8 text-red-500"})}),m.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Delete Invoice?"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:A==="active"?"Do you want to temporarily move this to the recycle bin or delete it permanently?":"Permanent deletion cannot be undone. Are you sure?"}),m.jsxs("div",{className:"space-y-3",children:[A==="active"&&m.jsxs("button",{onClick:Qe,className:"w-full py-3 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300 font-bold rounded-xl hover:bg-indigo-100 dark:hover:bg-indigo-900/40 transition-colors flex items-center justify-center gap-2",children:[m.jsx(Zj,{className:"w-4 h-4"})," Move to Recycle Bin (Soft Delete)"]}),m.jsx("button",{onClick:Q,className:"w-full py-3 bg-red-500 hover:bg-red-600 text-white font-bold rounded-xl transition-colors shadow-lg shadow-red-500/30",children:A==="active"?"Delete Permanently":"Yes, Delete Permanently"}),m.jsx("button",{onClick:()=>V(!1),className:"w-full py-3 text-slate-500 hover:text-slate-700 font-bold",children:"Cancel"})]})]})}),L&&K&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4 animate-in fade-in zoom-in-95",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-2xl shadow-2xl overflow-hidden border border-slate-200 dark:border-slate-700 flex flex-col max-h-[90vh]",children:[m.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-900/50",children:[m.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[m.jsx(Oo,{className:"w-5 h-5 text-red-500"})," Return Items  ",K.invoiceNumber]}),m.jsx("button",{onClick:()=>J(!1),className:"text-slate-400 hover:text-slate-600",children:m.jsx(qs,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"p-6 overflow-y-auto",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[m.jsx(It,{type:"date",label:"Return Date",value:Z,onChange:Ie=>te(Ie.target.value)}),m.jsx(It,{label:"Reason / Note",value:ie,onChange:Ie=>ne(Ie.target.value),placeholder:"e.g. Defective, Wrong Size"})]}),m.jsxs("table",{className:"w-full text-sm text-left mb-6",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"text-xs text-slate-500 uppercase border-b border-slate-200 dark:border-slate-700",children:[m.jsx("th",{className:"pb-2",children:"Product"}),m.jsx("th",{className:"pb-2 text-right",children:"Sold"}),m.jsx("th",{className:"pb-2 text-right",children:"Returnable"}),m.jsx("th",{className:"pb-2 w-24",children:"Return Qty"}),m.jsx("th",{className:"pb-2 pl-2",children:"Condition"})]})}),m.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:K.items.map(Ie=>{const Nt=Ie.returnedQuantity||0,bt=Math.max(0,Ie.quantity-Nt),Ct=oe[Ie.id]||0;return Ie.quantity<=0?null:m.jsxs("tr",{children:[m.jsx("td",{className:"py-3 pr-2",children:m.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300 block",children:Ie.name})}),m.jsx("td",{className:"py-3 text-right text-slate-500",children:Ie.quantity}),m.jsx("td",{className:"py-3 text-right font-medium text-emerald-600",children:bt}),m.jsx("td",{className:"py-3",children:m.jsx(It,{type:"number",min:"0",max:bt,value:Ct||"",onChange:lt=>{const wn=Math.min(bt,Math.max(0,parseInt(lt.target.value)||0));ee(et=>({...et,[Ie.id]:wn}))},className:"!py-1 !px-2 text-right h-8",disabled:bt===0})}),m.jsx("td",{className:"py-3 pl-2",children:m.jsx("select",{value:ce[Ie.id]||qc.GOOD,onChange:lt=>fe(wn=>({...wn,[Ie.id]:lt.target.value})),className:"w-full text-xs border border-slate-200 dark:border-slate-700 rounded-lg px-2 py-1.5 bg-white dark:bg-slate-800",disabled:Ct===0,children:Object.values(qc).map(lt=>m.jsx("option",{value:lt,children:lt},lt))})})]},Ie.id)})})]}),Ze.totalRefundValue>0&&m.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[m.jsxs("div",{className:"flex justify-between items-center mb-3",children:[m.jsx("span",{className:"text-sm font-bold text-slate-600 dark:text-slate-400",children:"Total Return Value:"}),m.jsx("span",{className:"text-lg font-bold text-red-600",children:$e(Ze.totalRefundValue)})]}),m.jsx("div",{className:"pt-3 border-t border-slate-200 dark:border-slate-700",children:Ze.excessPayment>0?m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center gap-2 text-sm text-orange-600 font-bold",children:[m.jsx(Kc,{className:"w-4 h-4"}),"Excess Payment: ",$e(Ze.excessPayment)]}),m.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"How do you want to handle this refund?"}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("label",{className:`cursor-pointer border p-3 rounded-xl flex flex-col items-center gap-2 transition-all ${pe==="CASH"?"bg-emerald-50 border-emerald-500 text-emerald-700 dark:bg-emerald-900/20 dark:border-emerald-500 dark:text-emerald-400":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-600 hover:border-emerald-300"}`,children:[m.jsx("input",{type:"radio",name:"refundMethod",value:"CASH",checked:pe==="CASH",onChange:()=>Oe("CASH"),className:"sr-only"}),m.jsx(tT,{className:"w-5 h-5"}),m.jsx("span",{className:"text-xs font-bold text-center",children:"Immediate Refund"})]}),m.jsxs("label",{className:`cursor-pointer border p-3 rounded-xl flex flex-col items-center gap-2 transition-all ${pe==="ADVANCE"?"bg-purple-50 border-purple-500 text-purple-700 dark:bg-purple-900/20 dark:border-purple-500 dark:text-purple-400":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-600 hover:border-purple-300"}`,children:[m.jsx("input",{type:"radio",name:"refundMethod",value:"ADVANCE",checked:pe==="ADVANCE",onChange:()=>Oe("ADVANCE"),className:"sr-only"}),m.jsx(xm,{className:"w-5 h-5"}),m.jsx("span",{className:"text-xs font-bold text-center",children:"Add to Advance"})]})]}),pe==="CASH"&&m.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[m.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1.5 ml-1",children:"Refund Mode"}),m.jsxs("div",{className:"relative",children:[m.jsxs("select",{value:$,onChange:Ie=>de(Ie.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm appearance-none focus:outline-none focus:ring-2 focus:ring-emerald-500 cursor-pointer",children:[m.jsx("option",{value:"Cash",children:"Cash"}),m.jsx("option",{value:"UPI",children:"UPI"}),m.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"})]}),m.jsx(hm,{className:"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2 pointer-events-none"})]})]})]}):m.jsxs("div",{className:"flex items-center justify-between text-sm",children:[m.jsx("span",{className:"text-slate-500",children:"Refund Action:"}),m.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300 bg-slate-200 dark:bg-slate-700 px-3 py-1 rounded-lg",children:"Adjust Outstanding Dues"})]})})]})]}),m.jsxs("div",{className:"p-6 border-t border-slate-100 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 flex justify-end gap-3",children:[m.jsx("button",{onClick:()=>J(!1),className:"px-4 py-2 text-slate-600 font-bold hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-200",children:"Cancel"}),m.jsxs("button",{onClick:me,className:"px-6 py-2 bg-red-600 text-white font-bold rounded-xl shadow-lg hover:bg-red-700 transition-all flex items-center gap-2",children:[m.jsx(Oo,{className:"w-4 h-4"})," Confirm Return"]})]})]})})]})},Jy=({label:e,options:t,value:r,onChange:n,onTextChange:l,placeholder:c="Select...",className:f="",error:x,disabled:b=!1})=>{const[y,w]=O.useState(!1),[A,T]=O.useState(""),_=O.useRef(null),j=t.find(F=>F.value===r),M=j?j.label:l?r:"";O.useEffect(()=>{const F=U=>{_.current&&!_.current.contains(U.target)&&w(!1)};return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[]);const k=t.filter(F=>F.label.toLowerCase().includes(A.toLowerCase())),R=F=>{n(F),w(!1),T("")};return m.jsxs("div",{className:`w-full relative ${f}`,ref:_,children:[e&&m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:e}),m.jsxs("div",{className:`w-full px-4 py-2.5 rounded-xl border bg-white dark:bg-slate-800 text-slate-900 dark:text-white 
        flex items-center justify-between cursor-pointer transition-all duration-200
        ${x?"border-red-500":"border-slate-200 dark:border-slate-700"}
        ${b?"opacity-50 cursor-not-allowed bg-slate-100 dark:bg-slate-900":"hover:border-primary-400"}
        ${y?"ring-2 ring-primary-500 border-primary-500":""}`,onClick:()=>!b&&w(!y),children:[m.jsx("span",{className:`block truncate ${M?"":"text-slate-400"}`,children:M||c}),m.jsx(eT,{className:`w-4 h-4 text-slate-400 transition-transform ${y?"rotate-180":""}`})]}),x&&m.jsx("p",{className:"mt-1 text-xs text-red-500",children:x}),y&&!b&&m.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-xl max-h-60 overflow-hidden flex flex-col animate-in fade-in zoom-in-95 duration-100",children:[m.jsx("div",{className:"p-2 border-b border-slate-100 dark:border-slate-700 sticky top-0 bg-white dark:bg-slate-800",children:m.jsxs("div",{className:"relative",children:[m.jsx(Wd,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-slate-400"}),m.jsx("input",{autoFocus:!0,type:"text",className:"w-full pl-9 pr-3 py-1.5 text-sm bg-slate-50 dark:bg-slate-700/50 border-none rounded-lg focus:ring-0 text-slate-900 dark:text-white placeholder:text-slate-400",placeholder:"Search...",value:A,onChange:F=>{T(F.target.value),l&&n(F.target.value)},onClick:F=>F.stopPropagation()})]})}),m.jsx("div",{className:"overflow-y-auto flex-1 p-1",children:k.length>0?k.map(F=>m.jsxs("div",{className:`px-3 py-2 rounded-lg text-sm cursor-pointer flex items-center justify-between
                    ${F.value===r?"bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 font-medium":"text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700"}`,onClick:()=>R(F.value),children:[F.label,F.value===r&&m.jsx(J4,{className:"w-3.5 h-3.5"})]},F.value)):m.jsx("div",{className:"px-4 py-3 text-sm text-slate-400 text-center",children:l?"Type to add custom...":"No results found"})})]})]})};var at;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(at||(at={}));var c4=new Map([[at.QR_CODE,"QR_CODE"],[at.AZTEC,"AZTEC"],[at.CODABAR,"CODABAR"],[at.CODE_39,"CODE_39"],[at.CODE_93,"CODE_93"],[at.CODE_128,"CODE_128"],[at.DATA_MATRIX,"DATA_MATRIX"],[at.MAXICODE,"MAXICODE"],[at.ITF,"ITF"],[at.EAN_13,"EAN_13"],[at.EAN_8,"EAN_8"],[at.PDF_417,"PDF_417"],[at.RSS_14,"RSS_14"],[at.RSS_EXPANDED,"RSS_EXPANDED"],[at.UPC_A,"UPC_A"],[at.UPC_E,"UPC_E"],[at.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),u4;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(u4||(u4={}));function $Z(e){return Object.values(at).includes(e)}var $l;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})($l||($l={}));var _i=(function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[$l.SCAN_TYPE_CAMERA,$l.SCAN_TYPE_FILE],e})(),EI=(function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!c4.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,c4.get(t))},e})(),d4=(function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e})(),ev;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(ev||(ev={}));var NI=(function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:ev.UNKWOWN_ERROR}},e})(),CI=(function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e})();function es(e){return typeof e>"u"||e===null}function QZ(e,t,r){return e>r?r:e<t?t:e}var Yc=(function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e})(),yr=(function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e})(),f4=(function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e})(),TI=(function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var l=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],c=new Set(l),f=Object.keys(t),x=0,b=f;x<b.length;x++){var y=b[x];if(c.has(y))return r.logError("".concat(y," is not supported videoConstaints."),!0),!1}return!0},e})(),bd={exports:{}},JZ=bd.exports,h4;function e$(){return h4||(h4=1,(function(e,t){(function(r,n){n(t)})(JZ,(function(r){function n(B){return B==null}var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,i){B.__proto__=i}||function(B,i){for(var o in i)i.hasOwnProperty(o)&&(B[o]=i[o])};function c(B,i){l(B,i);function o(){this.constructor=B}B.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)}function f(B,i){var o=Object.setPrototypeOf;o?o(B,i):B.__proto__=i}function x(B,i){i===void 0&&(i=B.constructor);var o=Error.captureStackTrace;o&&o(B,i)}var b=(function(B){c(i,B);function i(o){var u=this.constructor,h=B.call(this,o)||this;return Object.defineProperty(h,"name",{value:u.name,enumerable:!1}),f(h,u.prototype),x(h),h}return i})(Error);class y extends b{constructor(i=void 0){super(i),this.message=i}getKind(){return this.constructor.kind}}y.kind="Exception";class w extends y{}w.kind="ArgumentException";class A extends y{}A.kind="IllegalArgumentException";class T{constructor(i){if(this.binarizer=i,i===null)throw new A("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,o){return this.binarizer.getBlackRow(i,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,o,u,h){const p=this.binarizer.getLuminanceSource().crop(i,o,u,h);return new T(this.binarizer.createBinarizer(p))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new T(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new T(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class _ extends y{static getChecksumInstance(){return new _}}_.kind="ChecksumException";class j{constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class M{static arraycopy(i,o,u,h,p){for(;p--;)u[h++]=i[o++]}static currentTimeMillis(){return Date.now()}}class k extends y{}k.kind="IndexOutOfBoundsException";class R extends k{constructor(i=void 0,o=void 0){super(o),this.index=i,this.message=o}}R.kind="ArrayIndexOutOfBoundsException";class F{static fill(i,o){for(let u=0,h=i.length;u<h;u++)i[u]=o}static fillWithin(i,o,u,h){F.rangeCheck(i.length,o,u);for(let p=o;p<u;p++)i[p]=h}static rangeCheck(i,o,u){if(o>u)throw new A("fromIndex("+o+") > toIndex("+u+")");if(o<0)throw new R(o);if(u>i)throw new R(u)}static asList(...i){return i}static create(i,o,u){return Array.from({length:i}).map(p=>Array.from({length:o}).fill(u))}static createInt32Array(i,o,u){return Array.from({length:i}).map(p=>Int32Array.from({length:o}).fill(u))}static equals(i,o){if(!i||!o||!i.length||!o.length||i.length!==o.length)return!1;for(let u=0,h=i.length;u<h;u++)if(i[u]!==o[u])return!1;return!0}static hashCode(i){if(i===null)return 0;let o=1;for(const u of i)o=31*o+u;return o}static fillUint8Array(i,o){for(let u=0;u!==i.length;u++)i[u]=o}static copyOf(i,o){return i.slice(0,o)}static copyOfUint8Array(i,o){if(i.length<=o){const u=new Uint8Array(o);return u.set(i),u}return i.slice(0,o)}static copyOfRange(i,o,u){const h=u-o,p=new Int32Array(h);return M.arraycopy(i,o,p,0,h),p}static binarySearch(i,o,u){u===void 0&&(u=F.numberComparator);let h=0,p=i.length-1;for(;h<=p;){const v=p+h>>1,S=u(o,i[v]);if(S>0)h=v+1;else if(S<0)p=v-1;else return v}return-h-1}static numberComparator(i,o){return i-o}}class U{static numberOfTrailingZeros(i){let o;if(i===0)return 32;let u=31;return o=i<<16,o!==0&&(u-=16,i=o),o=i<<8,o!==0&&(u-=8,i=o),o=i<<4,o!==0&&(u-=4,i=o),o=i<<2,o!==0&&(u-=2,i=o),u-(i<<1>>>31)}static numberOfLeadingZeros(i){if(i===0)return 32;let o=1;return i>>>16||(o+=16,i<<=16),i>>>24||(o+=8,i<<=8),i>>>28||(o+=4,i<<=4),i>>>30||(o+=2,i<<=2),o-=i>>>31,o}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),i=i+(i>>>4)&252645135,i=i+(i>>>8),i=i+(i>>>16),i&63}static truncDivision(i,o){return Math.trunc(i/o)}static parseInt(i,o=void 0){return parseInt(i,o)}}U.MIN_VALUE_32_BITS=-2147483648,U.MAX_VALUE=Number.MAX_SAFE_INTEGER;class V{constructor(i,o){i===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,o==null?this.bits=V.makeArray(i):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>this.bits.length*32){const o=V.makeArray(i);M.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(i){return(this.bits[Math.floor(i/32)]&1<<(i&31))!==0}set(i){this.bits[Math.floor(i/32)]|=1<<(i&31)}flip(i){this.bits[Math.floor(i/32)]^=1<<(i&31)}getNextSet(i){const o=this.size;if(i>=o)return o;const u=this.bits;let h=Math.floor(i/32),p=u[h];p&=~((1<<(i&31))-1);const v=u.length;for(;p===0;){if(++h===v)return o;p=u[h]}const S=h*32+U.numberOfTrailingZeros(p);return S>o?o:S}getNextUnset(i){const o=this.size;if(i>=o)return o;const u=this.bits;let h=Math.floor(i/32),p=~u[h];p&=~((1<<(i&31))-1);const v=u.length;for(;p===0;){if(++h===v)return o;p=~u[h]}const S=h*32+U.numberOfTrailingZeros(p);return S>o?o:S}setBulk(i,o){this.bits[Math.floor(i/32)]=o}setRange(i,o){if(o<i||i<0||o>this.size)throw new A;if(o===i)return;o--;const u=Math.floor(i/32),h=Math.floor(o/32),p=this.bits;for(let v=u;v<=h;v++){const S=v>u?0:i&31,I=(2<<(v<h?31:o&31))-(1<<S);p[v]|=I}}clear(){const i=this.bits.length,o=this.bits;for(let u=0;u<i;u++)o[u]=0}isRange(i,o,u){if(o<i||i<0||o>this.size)throw new A;if(o===i)return!0;o--;const h=Math.floor(i/32),p=Math.floor(o/32),v=this.bits;for(let S=h;S<=p;S++){const N=S>h?0:i&31,D=(2<<(S<p?31:o&31))-(1<<N)&4294967295;if((v[S]&D)!==(u?D:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(i,o){if(o<0||o>32)throw new A("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let u=o;u>0;u--)this.appendBit((i>>u-1&1)===1)}appendBitArray(i){const o=i.size;this.ensureCapacity(this.size+o);for(let u=0;u<o;u++)this.appendBit(i.get(u))}xor(i){if(this.size!==i.size)throw new A("Sizes don't match");const o=this.bits;for(let u=0,h=o.length;u<h;u++)o[u]^=i.bits[u]}toBytes(i,o,u,h){for(let p=0;p<h;p++){let v=0;for(let S=0;S<8;S++)this.get(i)&&(v|=1<<7-S),i++;o[u+p]=v}}getBitArray(){return this.bits}reverse(){const i=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),u=o+1,h=this.bits;for(let p=0;p<u;p++){let v=h[p];v=v>>1&1431655765|(v&1431655765)<<1,v=v>>2&858993459|(v&858993459)<<2,v=v>>4&252645135|(v&252645135)<<4,v=v>>8&16711935|(v&16711935)<<8,v=v>>16&65535|(v&65535)<<16,i[o-p]=v}if(this.size!==u*32){const p=u*32-this.size;let v=i[0]>>>p;for(let S=1;S<u;S++){const N=i[S];v|=N<<32-p,i[S-1]=v,v=N>>>p}i[u-1]=v}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){if(!(i instanceof V))return!1;const o=i;return this.size===o.size&&F.equals(this.bits,o.bits)}hashCode(){return 31*this.size+F.hashCode(this.bits)}toString(){let i="";for(let o=0,u=this.size;o<u;o++)(o&7)===0&&(i+=" "),i+=this.get(o)?"X":".";return i}clone(){return new V(this.size,this.bits.slice())}}var q;(function(B){B[B.OTHER=0]="OTHER",B[B.PURE_BARCODE=1]="PURE_BARCODE",B[B.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",B[B.TRY_HARDER=3]="TRY_HARDER",B[B.CHARACTER_SET=4]="CHARACTER_SET",B[B.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",B[B.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",B[B.ASSUME_GS1=7]="ASSUME_GS1",B[B.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",B[B.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",B[B.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(q||(q={}));var Y=q;class L extends y{static getFormatInstance(){return new L}}L.kind="FormatException";var J;(function(B){B[B.Cp437=0]="Cp437",B[B.ISO8859_1=1]="ISO8859_1",B[B.ISO8859_2=2]="ISO8859_2",B[B.ISO8859_3=3]="ISO8859_3",B[B.ISO8859_4=4]="ISO8859_4",B[B.ISO8859_5=5]="ISO8859_5",B[B.ISO8859_6=6]="ISO8859_6",B[B.ISO8859_7=7]="ISO8859_7",B[B.ISO8859_8=8]="ISO8859_8",B[B.ISO8859_9=9]="ISO8859_9",B[B.ISO8859_10=10]="ISO8859_10",B[B.ISO8859_11=11]="ISO8859_11",B[B.ISO8859_13=12]="ISO8859_13",B[B.ISO8859_14=13]="ISO8859_14",B[B.ISO8859_15=14]="ISO8859_15",B[B.ISO8859_16=15]="ISO8859_16",B[B.SJIS=16]="SJIS",B[B.Cp1250=17]="Cp1250",B[B.Cp1251=18]="Cp1251",B[B.Cp1252=19]="Cp1252",B[B.Cp1256=20]="Cp1256",B[B.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",B[B.UTF8=22]="UTF8",B[B.ASCII=23]="ASCII",B[B.Big5=24]="Big5",B[B.GB18030=25]="GB18030",B[B.EUC_KR=26]="EUC_KR"})(J||(J={}));class K{constructor(i,o,u,...h){this.valueIdentifier=i,this.name=u,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=h,K.VALUE_IDENTIFIER_TO_ECI.set(i,this),K.NAME_TO_ECI.set(u,this);const p=this.values;for(let v=0,S=p.length;v!==S;v++){const N=p[v];K.VALUES_TO_ECI.set(N,this)}for(const v of h)K.NAME_TO_ECI.set(v,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new L("incorect value");const o=K.VALUES_TO_ECI.get(i);if(o===void 0)throw new L("incorect value");return o}static getCharacterSetECIByName(i){const o=K.NAME_TO_ECI.get(i);if(o===void 0)throw new L("incorect value");return o}equals(i){if(!(i instanceof K))return!1;const o=i;return this.getName()===o.getName()}}K.VALUE_IDENTIFIER_TO_ECI=new Map,K.VALUES_TO_ECI=new Map,K.NAME_TO_ECI=new Map,K.Cp437=new K(J.Cp437,Int32Array.from([0,2]),"Cp437"),K.ISO8859_1=new K(J.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),K.ISO8859_2=new K(J.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),K.ISO8859_3=new K(J.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),K.ISO8859_4=new K(J.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),K.ISO8859_5=new K(J.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),K.ISO8859_6=new K(J.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),K.ISO8859_7=new K(J.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),K.ISO8859_8=new K(J.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),K.ISO8859_9=new K(J.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),K.ISO8859_10=new K(J.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),K.ISO8859_11=new K(J.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),K.ISO8859_13=new K(J.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),K.ISO8859_14=new K(J.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),K.ISO8859_15=new K(J.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),K.ISO8859_16=new K(J.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),K.SJIS=new K(J.SJIS,20,"SJIS","Shift_JIS"),K.Cp1250=new K(J.Cp1250,21,"Cp1250","windows-1250"),K.Cp1251=new K(J.Cp1251,22,"Cp1251","windows-1251"),K.Cp1252=new K(J.Cp1252,23,"Cp1252","windows-1252"),K.Cp1256=new K(J.Cp1256,24,"Cp1256","windows-1256"),K.UnicodeBigUnmarked=new K(J.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),K.UTF8=new K(J.UTF8,26,"UTF8","UTF-8"),K.ASCII=new K(J.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),K.Big5=new K(J.Big5,28,"Big5"),K.GB18030=new K(J.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),K.EUC_KR=new K(J.EUC_KR,30,"EUC_KR","EUC-KR");class Ce extends y{}Ce.kind="UnsupportedOperationException";class oe{static decode(i,o){const u=this.encodingName(o);return this.customDecoder?this.customDecoder(i,u):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(u)?this.decodeFallback(i,u):new TextDecoder(u).decode(i)}static shouldDecodeOnFallback(i){return!oe.isBrowser()&&i==="ISO-8859-1"}static encode(i,o){const u=this.encodingName(o);return this.customEncoder?this.customEncoder(i,u):typeof TextEncoder>"u"?this.encodeFallback(i):new TextEncoder().encode(i)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(i){return typeof i=="string"?i:i.getName()}static encodingCharacterSet(i){return i instanceof K?i:K.getCharacterSetECIByName(i)}static decodeFallback(i,o){const u=this.encodingCharacterSet(o);if(oe.isDecodeFallbackSupported(u)){let h="";for(let p=0,v=i.length;p<v;p++){let S=i[p].toString(16);S.length<2&&(S="0"+S),h+="%"+S}return decodeURIComponent(h)}if(u.equals(K.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new Ce(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals(K.UTF8)||i.equals(K.ISO8859_1)||i.equals(K.ASCII)}static encodeFallback(i){const u=btoa(unescape(encodeURIComponent(i))).split(""),h=[];for(let p=0;p<u.length;p++)h.push(u[p].charCodeAt(0));return new Uint8Array(h)}}class ee{static castAsNonUtf8Char(i,o=null){const u=o?o.getName():this.ISO88591;return oe.decode(new Uint8Array([i]),u)}static guessEncoding(i,o){if(o!=null&&o.get(Y.CHARACTER_SET)!==void 0)return o.get(Y.CHARACTER_SET).toString();const u=i.length;let h=!0,p=!0,v=!0,S=0,N=0,I=0,D=0,z=0,H=0,W=0,ae=0,se=0,xe=0,Ae=0;const Xe=i.length>3&&i[0]===239&&i[1]===187&&i[2]===191;for(let qe=0;qe<u&&(h||p||v);qe++){const Fe=i[qe]&255;v&&(S>0?(Fe&128)===0?v=!1:S--:(Fe&128)!==0&&((Fe&64)===0?v=!1:(S++,(Fe&32)===0?N++:(S++,(Fe&16)===0?I++:(S++,(Fe&8)===0?D++:v=!1))))),h&&(Fe>127&&Fe<160?h=!1:Fe>159&&(Fe<192||Fe===215||Fe===247)&&Ae++),p&&(z>0?Fe<64||Fe===127||Fe>252?p=!1:z--:Fe===128||Fe===160||Fe>239?p=!1:Fe>160&&Fe<224?(H++,ae=0,W++,W>se&&(se=W)):Fe>127?(z++,W=0,ae++,ae>xe&&(xe=ae)):(W=0,ae=0))}return v&&S>0&&(v=!1),p&&z>0&&(p=!1),v&&(Xe||N+I+D>0)?ee.UTF8:p&&(ee.ASSUME_SHIFT_JIS||se>=3||xe>=3)?ee.SHIFT_JIS:h&&p?se===2&&H===2||Ae*10>=u?ee.SHIFT_JIS:ee.ISO88591:h?ee.ISO88591:p?ee.SHIFT_JIS:v?ee.UTF8:ee.PLATFORM_DEFAULT_ENCODING}static format(i,...o){let u=-1;function h(v,S,N,I,D,z){if(v==="%%")return"%";if(o[++u]===void 0)return;v=I?parseInt(I.substr(1)):void 0;let H=D?parseInt(D.substr(1)):void 0,W;switch(z){case"s":W=o[u];break;case"c":W=o[u][0];break;case"f":W=parseFloat(o[u]).toFixed(v);break;case"p":W=parseFloat(o[u]).toPrecision(v);break;case"e":W=parseFloat(o[u]).toExponential(v);break;case"x":W=parseInt(o[u]).toString(H||16);break;case"d":W=parseFloat(parseInt(o[u],H||10).toPrecision(v)).toFixed(0);break}W=typeof W=="object"?JSON.stringify(W):(+W).toString(H);let ae=parseInt(N),se=N&&N[0]+""=="0"?"0":" ";for(;W.length<ae;)W=S!==void 0?W+se:se+W;return W}let p=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(p,h)}static getBytes(i,o){return oe.encode(i,o)}static getCharCode(i,o=0){return i.charCodeAt(o)}static getCharAt(i){return String.fromCharCode(i)}}ee.SHIFT_JIS=K.SJIS.getName(),ee.GB2312="GB2312",ee.ISO88591=K.ISO8859_1.getName(),ee.EUC_JP="EUC_JP",ee.UTF8=K.UTF8.getName(),ee.PLATFORM_DEFAULT_ENCODING=ee.UTF8,ee.ASSUME_SHIFT_JIS=!1;class ce{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return typeof i=="string"?this.value+=i.toString():this.encoding?this.value+=ee.castAsNonUtf8Char(i,this.encoding):this.value+=String.fromCharCode(i),this}appendChars(i,o,u){for(let h=o;o<o+u;h++)this.append(i[h]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,o){this.value=this.value.substr(0,i)+o+this.value.substr(i+1)}substring(i,o){return this.value.substring(i,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,o){this.value=this.value.substr(0,i)+o+this.value.substr(i+o.length)}}class fe{constructor(i,o,u,h){if(this.width=i,this.height=o,this.rowSize=u,this.bits=h,o==null&&(o=i),this.height=o,i<1||o<1)throw new A("Both dimensions must be greater than 0");u==null&&(u=Math.floor((i+31)/32)),this.rowSize=u,h==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){const o=i.length,u=i[0].length,h=new fe(u,o);for(let p=0;p<o;p++){const v=i[p];for(let S=0;S<u;S++)v[S]&&h.set(S,p)}return h}static parseFromString(i,o,u){if(i===null)throw new A("stringRepresentation cannot be null");const h=new Array(i.length);let p=0,v=0,S=-1,N=0,I=0;for(;I<i.length;)if(i.charAt(I)===`
`||i.charAt(I)==="\r"){if(p>v){if(S===-1)S=p-v;else if(p-v!==S)throw new A("row lengths do not match");v=p,N++}I++}else if(i.substring(I,I+o.length)===o)I+=o.length,h[p]=!0,p++;else if(i.substring(I,I+u.length)===u)I+=u.length,h[p]=!1,p++;else throw new A("illegal character encountered: "+i.substring(I));if(p>v){if(S===-1)S=p-v;else if(p-v!==S)throw new A("row lengths do not match");N++}const D=new fe(S,N);for(let z=0;z<p;z++)h[z]&&D.set(Math.floor(z%S),Math.floor(z/S));return D}get(i,o){const u=o*this.rowSize+Math.floor(i/32);return(this.bits[u]>>>(i&31)&1)!==0}set(i,o){const u=o*this.rowSize+Math.floor(i/32);this.bits[u]|=1<<(i&31)&4294967295}unset(i,o){const u=o*this.rowSize+Math.floor(i/32);this.bits[u]&=~(1<<(i&31)&4294967295)}flip(i,o){const u=o*this.rowSize+Math.floor(i/32);this.bits[u]^=1<<(i&31)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new A("input matrix dimensions do not match");const o=new V(Math.floor(this.width/32)+1),u=this.rowSize,h=this.bits;for(let p=0,v=this.height;p<v;p++){const S=p*u,N=i.getRow(p,o).getBitArray();for(let I=0;I<u;I++)h[S+I]^=N[I]}}clear(){const i=this.bits,o=i.length;for(let u=0;u<o;u++)i[u]=0}setRegion(i,o,u,h){if(o<0||i<0)throw new A("Left and top must be nonnegative");if(h<1||u<1)throw new A("Height and width must be at least 1");const p=i+u,v=o+h;if(v>this.height||p>this.width)throw new A("The region must fit inside the matrix");const S=this.rowSize,N=this.bits;for(let I=o;I<v;I++){const D=I*S;for(let z=i;z<p;z++)N[D+Math.floor(z/32)]|=1<<(z&31)&4294967295}}getRow(i,o){o==null||o.getSize()<this.width?o=new V(this.width):o.clear();const u=this.rowSize,h=this.bits,p=i*u;for(let v=0;v<u;v++)o.setBulk(v*32,h[p+v]);return o}setRow(i,o){M.arraycopy(o.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){const i=this.getWidth(),o=this.getHeight();let u=new V(i),h=new V(i);for(let p=0,v=Math.floor((o+1)/2);p<v;p++)u=this.getRow(p,u),h=this.getRow(o-1-p,h),u.reverse(),h.reverse(),this.setRow(p,h),this.setRow(o-1-p,u)}getEnclosingRectangle(){const i=this.width,o=this.height,u=this.rowSize,h=this.bits;let p=i,v=o,S=-1,N=-1;for(let I=0;I<o;I++)for(let D=0;D<u;D++){const z=h[I*u+D];if(z!==0){if(I<v&&(v=I),I>N&&(N=I),D*32<p){let H=0;for(;(z<<31-H&4294967295)===0;)H++;D*32+H<p&&(p=D*32+H)}if(D*32+31>S){let H=31;for(;!(z>>>H);)H--;D*32+H>S&&(S=D*32+H)}}}return S<p||N<v?null:Int32Array.from([p,v,S-p+1,N-v+1])}getTopLeftOnBit(){const i=this.rowSize,o=this.bits;let u=0;for(;u<o.length&&o[u]===0;)u++;if(u===o.length)return null;const h=u/i;let p=u%i*32;const v=o[u];let S=0;for(;(v<<31-S&4294967295)===0;)S++;return p+=S,Int32Array.from([p,h])}getBottomRightOnBit(){const i=this.rowSize,o=this.bits;let u=o.length-1;for(;u>=0&&o[u]===0;)u--;if(u<0)return null;const h=Math.floor(u/i);let p=Math.floor(u%i)*32;const v=o[u];let S=31;for(;!(v>>>S);)S--;return p+=S,Int32Array.from([p,h])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){if(!(i instanceof fe))return!1;const o=i;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&F.equals(this.bits,o.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+F.hashCode(this.bits),i}toString(i="X ",o="  ",u=`
`){return this.buildToString(i,o,u)}buildToString(i,o,u){let h=new ce;for(let p=0,v=this.height;p<v;p++){for(let S=0,N=this.width;S<N;S++)h.append(this.get(S,p)?i:o);h.append(u)}return h.toString()}clone(){return new fe(this.width,this.height,this.rowSize,this.bits.slice())}}class Z extends y{static getNotFoundInstance(){return new Z}}Z.kind="NotFoundException";class te extends j{constructor(i){super(i),this.luminances=te.EMPTY,this.buckets=new Int32Array(te.LUMINANCE_BUCKETS)}getBlackRow(i,o){const u=this.getLuminanceSource(),h=u.getWidth();o==null||o.getSize()<h?o=new V(h):o.clear(),this.initArrays(h);const p=u.getRow(i,this.luminances),v=this.buckets;for(let N=0;N<h;N++)v[(p[N]&255)>>te.LUMINANCE_SHIFT]++;const S=te.estimateBlackPoint(v);if(h<3)for(let N=0;N<h;N++)(p[N]&255)<S&&o.set(N);else{let N=p[0]&255,I=p[1]&255;for(let D=1;D<h-1;D++){const z=p[D+1]&255;(I*4-N-z)/2<S&&o.set(D),N=I,I=z}}return o}getBlackMatrix(){const i=this.getLuminanceSource(),o=i.getWidth(),u=i.getHeight(),h=new fe(o,u);this.initArrays(o);const p=this.buckets;for(let N=1;N<5;N++){const I=Math.floor(u*N/5),D=i.getRow(I,this.luminances),z=Math.floor(o*4/5);for(let H=Math.floor(o/5);H<z;H++){const W=D[H]&255;p[W>>te.LUMINANCE_SHIFT]++}}const v=te.estimateBlackPoint(p),S=i.getMatrix();for(let N=0;N<u;N++){const I=N*o;for(let D=0;D<o;D++)(S[I+D]&255)<v&&h.set(D,N)}return h}createBinarizer(i){return new te(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));const o=this.buckets;for(let u=0;u<te.LUMINANCE_BUCKETS;u++)o[u]=0}static estimateBlackPoint(i){const o=i.length;let u=0,h=0,p=0;for(let D=0;D<o;D++)i[D]>p&&(h=D,p=i[D]),i[D]>u&&(u=i[D]);let v=0,S=0;for(let D=0;D<o;D++){const z=D-h,H=i[D]*z*z;H>S&&(v=D,S=H)}if(h>v){const D=h;h=v,v=D}if(v-h<=o/16)throw new Z;let N=v-1,I=-1;for(let D=v-1;D>h;D--){const z=D-h,H=z*z*(v-D)*(u-i[D]);H>I&&(N=D,I=H)}return N<<te.LUMINANCE_SHIFT}}te.LUMINANCE_BITS=5,te.LUMINANCE_SHIFT=8-te.LUMINANCE_BITS,te.LUMINANCE_BUCKETS=1<<te.LUMINANCE_BITS,te.EMPTY=Uint8ClampedArray.from([0]);class ie extends te{constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const i=this.getLuminanceSource(),o=i.getWidth(),u=i.getHeight();if(o>=ie.MINIMUM_DIMENSION&&u>=ie.MINIMUM_DIMENSION){const h=i.getMatrix();let p=o>>ie.BLOCK_SIZE_POWER;(o&ie.BLOCK_SIZE_MASK)!==0&&p++;let v=u>>ie.BLOCK_SIZE_POWER;(u&ie.BLOCK_SIZE_MASK)!==0&&v++;const S=ie.calculateBlackPoints(h,p,v,o,u),N=new fe(o,u);ie.calculateThresholdForBlock(h,p,v,o,u,S,N),this.matrix=N}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new ie(i)}static calculateThresholdForBlock(i,o,u,h,p,v,S){const N=p-ie.BLOCK_SIZE,I=h-ie.BLOCK_SIZE;for(let D=0;D<u;D++){let z=D<<ie.BLOCK_SIZE_POWER;z>N&&(z=N);const H=ie.cap(D,2,u-3);for(let W=0;W<o;W++){let ae=W<<ie.BLOCK_SIZE_POWER;ae>I&&(ae=I);const se=ie.cap(W,2,o-3);let xe=0;for(let Xe=-2;Xe<=2;Xe++){const qe=v[H+Xe];xe+=qe[se-2]+qe[se-1]+qe[se]+qe[se+1]+qe[se+2]}const Ae=xe/25;ie.thresholdBlock(i,ae,z,Ae,h,S)}}}static cap(i,o,u){return i<o?o:i>u?u:i}static thresholdBlock(i,o,u,h,p,v){for(let S=0,N=u*p+o;S<ie.BLOCK_SIZE;S++,N+=p)for(let I=0;I<ie.BLOCK_SIZE;I++)(i[N+I]&255)<=h&&v.set(o+I,u+S)}static calculateBlackPoints(i,o,u,h,p){const v=p-ie.BLOCK_SIZE,S=h-ie.BLOCK_SIZE,N=new Array(u);for(let I=0;I<u;I++){N[I]=new Int32Array(o);let D=I<<ie.BLOCK_SIZE_POWER;D>v&&(D=v);for(let z=0;z<o;z++){let H=z<<ie.BLOCK_SIZE_POWER;H>S&&(H=S);let W=0,ae=255,se=0;for(let Ae=0,Xe=D*h+H;Ae<ie.BLOCK_SIZE;Ae++,Xe+=h){for(let qe=0;qe<ie.BLOCK_SIZE;qe++){const Fe=i[Xe+qe]&255;W+=Fe,Fe<ae&&(ae=Fe),Fe>se&&(se=Fe)}if(se-ae>ie.MIN_DYNAMIC_RANGE)for(Ae++,Xe+=h;Ae<ie.BLOCK_SIZE;Ae++,Xe+=h)for(let qe=0;qe<ie.BLOCK_SIZE;qe++)W+=i[Xe+qe]&255}let xe=W>>ie.BLOCK_SIZE_POWER*2;if(se-ae<=ie.MIN_DYNAMIC_RANGE&&(xe=ae/2,I>0&&z>0)){const Ae=(N[I-1][z]+2*N[I][z-1]+N[I-1][z-1])/4;ae<Ae&&(xe=Ae)}N[I][z]=xe}}return N}}ie.BLOCK_SIZE_POWER=3,ie.BLOCK_SIZE=1<<ie.BLOCK_SIZE_POWER,ie.BLOCK_SIZE_MASK=ie.BLOCK_SIZE-1,ie.MINIMUM_DIMENSION=ie.BLOCK_SIZE*5,ie.MIN_DYNAMIC_RANGE=24;class ne{constructor(i,o){this.width=i,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,o,u,h){throw new Ce("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Ce("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Ce("This luminance source does not support rotation by 45 degrees.")}toString(){const i=new Uint8ClampedArray(this.width);let o=new ce;for(let u=0;u<this.height;u++){const h=this.getRow(u,i);for(let p=0;p<this.width;p++){const v=h[p]&255;let S;v<64?S="#":v<128?S="+":v<192?S=".":S=" ",o.append(S)}o.append(`
`)}return o.toString()}}class pe extends ne{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,o){const u=this.delegate.getRow(i,o),h=this.getWidth();for(let p=0;p<h;p++)u[p]=255-(u[p]&255);return u}getMatrix(){const i=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),u=new Uint8ClampedArray(o);for(let h=0;h<o;h++)u[h]=255-(i[h]&255);return u}isCropSupported(){return this.delegate.isCropSupported()}crop(i,o,u,h){return new pe(this.delegate.crop(i,o,u,h))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new pe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new pe(this.delegate.rotateCounterClockwise45())}}class Oe extends ne{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=Oe.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){const o=i.getContext("2d").getImageData(0,0,i.width,i.height);return Oe.toGrayscaleBuffer(o.data,i.width,i.height)}static toGrayscaleBuffer(i,o,u){const h=new Uint8ClampedArray(o*u);for(let p=0,v=0,S=i.length;p<S;p+=4,v++){let N;if(i[p+3]===0)N=255;else{const D=i[p],z=i[p+1],H=i[p+2];N=306*D+601*z+117*H+512>>10}h[v]=N}return h}getRow(i,o){if(i<0||i>=this.getHeight())throw new A("Requested row is outside the image: "+i);const u=this.getWidth(),h=i*u;return o===null?o=this.buffer.slice(h,h+u):(o.length<u&&(o=new Uint8ClampedArray(u)),o.set(this.buffer.slice(h,h+u))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,o,u,h){return super.crop(i,o,u,h),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){const o=this.getTempCanvasElement(),u=o.getContext("2d"),h=i*Oe.DEGREE_TO_RADIANS,p=this.canvas.width,v=this.canvas.height,S=Math.ceil(Math.abs(Math.cos(h))*p+Math.abs(Math.sin(h))*v),N=Math.ceil(Math.abs(Math.sin(h))*p+Math.abs(Math.cos(h))*v);return o.width=S,o.height=N,u.translate(S/2,N/2),u.rotate(h),u.drawImage(this.canvas,p/-2,v/-2),this.buffer=Oe.makeBufferFromCanvasImageData(o),this}invert(){return new pe(this)}}Oe.DEGREE_TO_RADIANS=Math.PI/180;class ${constructor(i,o,u){this.deviceId=i,this.label=o,this.kind="videoinput",this.groupId=u||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var de=(globalThis||I0||self||window||void 0)&&(globalThis||I0||self||window||void 0).__awaiter||function(B,i,o,u){function h(p){return p instanceof o?p:new o(function(v){v(p)})}return new(o||(o=Promise))(function(p,v){function S(D){try{I(u.next(D))}catch(z){v(z)}}function N(D){try{I(u.throw(D))}catch(z){v(z)}}function I(D){D.done?p(D.value):h(D.value).then(S,N)}I((u=u.apply(B,i||[])).next())})};class Te{constructor(i,o=500,u){this.reader=i,this.timeBetweenScansMillis=o,this._hints=u,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return de(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const i=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const u of i){const h=u.kind==="video"?"videoinput":u.kind;if(h!=="videoinput")continue;const p=u.deviceId||u.id,v=u.label||`Video device ${o.length+1}`,S=u.groupId,N={deviceId:p,label:v,kind:h,groupId:S};o.push(N)}return o})}getVideoInputDevices(){return de(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new $(o.deviceId,o.label))})}findDeviceById(i){return de(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(u=>u.deviceId===i):null})}decodeFromInputVideoDevice(i,o){return de(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,o)})}decodeOnceFromVideoDevice(i,o){return de(this,void 0,void 0,function*(){this.reset();let u;i?u={deviceId:{exact:i}}:u={facingMode:"environment"};const h={video:u};return yield this.decodeOnceFromConstraints(h,o)})}decodeOnceFromConstraints(i,o){return de(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(u,o)})}decodeOnceFromStream(i,o){return de(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(i,o);return yield this.decodeOnce(u)})}decodeFromInputVideoDeviceContinuously(i,o,u){return de(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,o,u)})}decodeFromVideoDevice(i,o,u){return de(this,void 0,void 0,function*(){let h;i?h={deviceId:{exact:i}}:h={facingMode:"environment"};const p={video:h};return yield this.decodeFromConstraints(p,o,u)})}decodeFromConstraints(i,o,u){return de(this,void 0,void 0,function*(){const h=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(h,o,u)})}decodeFromStream(i,o,u){return de(this,void 0,void 0,function*(){this.reset();const h=yield this.attachStreamToVideo(i,o);return yield this.decodeContinuously(h,u)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,o){return de(this,void 0,void 0,function*(){const u=this.prepareVideoElement(o);return this.addVideoSource(u,i),this.videoElement=u,this.stream=i,yield this.playVideoOnLoadAsync(u),u})}playVideoOnLoadAsync(i){return new Promise((o,u)=>this.playVideoOnLoad(i,()=>o()))}playVideoOnLoad(i,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",o),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return de(this,void 0,void 0,function*(){if(this.isVideoPlaying(i)){console.warn("Trying to play video that is already playing.");return}try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,o){const u=document.getElementById(i);if(!u)throw new w(`element with id '${i}' not found`);if(u.nodeName.toLowerCase()!==o.toLowerCase())throw new w(`element with id '${i}' must be an ${o} element`);return u}decodeFromImage(i,o){if(!i&&!o)throw new w("either imageElement with a src set or an url must be provided");return o&&!i?this.decodeFromImageUrl(o):this.decodeFromImageElement(i)}decodeFromVideo(i,o){if(!i&&!o)throw new w("Either an element with a src set or an URL must be provided");return o&&!i?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,o,u){if(i===void 0&&o===void 0)throw new w("Either an element with a src set or an URL must be provided");return o&&!i?this.decodeFromVideoUrlContinuously(o,u):this.decodeFromVideoElementContinuously(i,u)}decodeFromImageElement(i){if(!i)throw new w("An image element must be provided.");this.reset();const o=this.prepareImageElement(i);this.imageElement=o;let u;return this.isImageLoaded(o)?u=this.decodeOnce(o,!1,!0):u=this._decodeOnLoadImage(o),u}decodeFromVideoElement(i){const o=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(i,o){const u=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(u,o)}_decodeFromVideoElementSetup(i){if(!i)throw new w("A video element must be provided.");this.reset();const o=this.prepareVideoElement(i);return this.videoElement=o,o}decodeFromImageUrl(i){if(!i)throw new w("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const u=this._decodeOnLoadImage(o);return o.src=i,u}decodeFromVideoUrl(i){if(!i)throw new w("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),u=this.decodeFromVideoElement(o);return o.src=i,u}decodeFromVideoUrlContinuously(i,o){if(!i)throw new w("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),h=this.decodeFromVideoElementContinuously(u,o);return u.src=i,h}_decodeOnLoadImage(i){return new Promise((o,u)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(o,u),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return de(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,o){return de(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,o)})}isImageLoaded(i){return!(!i.complete||i.naturalWidth===0)}prepareImageElement(i){let o;return typeof i>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof i=="string"&&(o=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(o=i),o}prepareVideoElement(i){let o;return!i&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof i=="string"&&(o=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(o=i),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(i,o=!0,u=!0){this._stopAsyncDecode=!1;const h=(p,v)=>{if(this._stopAsyncDecode){v(new Z("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const S=this.decode(i);p(S)}catch(S){const N=o&&S instanceof Z,D=(S instanceof _||S instanceof L)&&u;if(N||D)return setTimeout(h,this._timeBetweenDecodingAttempts,p,v);v(S)}};return new Promise((p,v)=>h(p,v))}decodeContinuously(i,o){this._stopContinuousDecode=!1;const u=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const h=this.decode(i);o(h,null),setTimeout(u,this.timeBetweenScansMillis)}catch(h){o(null,h);const p=h instanceof _||h instanceof L,v=h instanceof Z;(p||v)&&setTimeout(u,this._timeBetweenDecodingAttempts)}};u()}decode(i){const o=this.createBinaryBitmap(i);return this.decodeBitmap(o)}_isHTMLVideoElement(i){return i.videoWidth!==0}drawFrameOnCanvas(i,o,u){o||(o={sx:0,sy:0,sWidth:i.videoWidth,sHeight:i.videoHeight,dx:0,dy:0,dWidth:i.videoWidth,dHeight:i.videoHeight}),u||(u=this.captureCanvasContext),u.drawImage(i,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(i,o,u=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:i.naturalWidth,sHeight:i.naturalHeight,dx:0,dy:0,dWidth:i.naturalWidth,dHeight:i.naturalHeight}),u||(u=this.captureCanvasContext),u.drawImage(i,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(i){this.getCaptureCanvasContext(i),this._isHTMLVideoElement(i)?this.drawFrameOnCanvas(i):this.drawImageOnCanvas(i);const o=this.getCaptureCanvas(i),u=new Oe(o),h=new ie(u);return new T(h)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){const u=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=u}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){const o=this.createCaptureCanvas(i);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let u,h;return typeof i<"u"&&(i instanceof HTMLVideoElement?(u=i.videoWidth,h=i.videoHeight):i instanceof HTMLImageElement&&(u=i.naturalWidth||i.width,h=i.naturalHeight||i.height)),o.style.width=u+"px",o.style.height=h+"px",o.width=u,o.height=h,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,o){try{i.srcObject=o}catch{i.src=URL.createObjectURL(o)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class ke{constructor(i,o,u=o==null?0:8*o.length,h,p,v=M.currentTimeMillis()){this.text=i,this.rawBytes=o,this.numBits=u,this.resultPoints=h,this.format=p,this.timestamp=v,this.text=i,this.rawBytes=o,u==null?this.numBits=o==null?0:8*o.length:this.numBits=u,this.resultPoints=h,this.format=p,this.resultMetadata=null,v==null?this.timestamp=M.currentTimeMillis():this.timestamp=v}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(i,o)}putAllMetadata(i){i!==null&&(this.resultMetadata===null?this.resultMetadata=i:this.resultMetadata=new Map(i))}addResultPoints(i){const o=this.resultPoints;if(o===null)this.resultPoints=i;else if(i!==null&&i.length>0){const u=new Array(o.length+i.length);M.arraycopy(o,0,u,0,o.length),M.arraycopy(i,0,u,o.length,i.length),this.resultPoints=u}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Qe;(function(B){B[B.AZTEC=0]="AZTEC",B[B.CODABAR=1]="CODABAR",B[B.CODE_39=2]="CODE_39",B[B.CODE_93=3]="CODE_93",B[B.CODE_128=4]="CODE_128",B[B.DATA_MATRIX=5]="DATA_MATRIX",B[B.EAN_8=6]="EAN_8",B[B.EAN_13=7]="EAN_13",B[B.ITF=8]="ITF",B[B.MAXICODE=9]="MAXICODE",B[B.PDF_417=10]="PDF_417",B[B.QR_CODE=11]="QR_CODE",B[B.RSS_14=12]="RSS_14",B[B.RSS_EXPANDED=13]="RSS_EXPANDED",B[B.UPC_A=14]="UPC_A",B[B.UPC_E=15]="UPC_E",B[B.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Qe||(Qe={}));var Q=Qe,Pe;(function(B){B[B.OTHER=0]="OTHER",B[B.ORIENTATION=1]="ORIENTATION",B[B.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",B[B.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",B[B.ISSUE_NUMBER=4]="ISSUE_NUMBER",B[B.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",B[B.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",B[B.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",B[B.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",B[B.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",B[B.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Pe||(Pe={}));var Ze=Pe;class me{constructor(i,o,u,h,p=-1,v=-1){this.rawBytes=i,this.text=o,this.byteSegments=u,this.ecLevel=h,this.structuredAppendSequenceNumber=p,this.structuredAppendParity=v,this.numBits=i==null?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class nt{exp(i){return this.expTable[i]}log(i){if(i===0)throw new A;return this.logTable[i]}static addOrSubtract(i,o){return i^o}}class st{constructor(i,o){if(o.length===0)throw new A;this.field=i;const u=o.length;if(u>1&&o[0]===0){let h=1;for(;h<u&&o[h]===0;)h++;h===u?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(u-h),M.arraycopy(o,h,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);const o=this.coefficients;let u;if(i===1){u=0;for(let v=0,S=o.length;v!==S;v++){const N=o[v];u=nt.addOrSubtract(u,N)}return u}u=o[0];const h=o.length,p=this.field;for(let v=1;v<h;v++)u=nt.addOrSubtract(p.multiply(i,u),o[v]);return u}addOrSubtract(i){if(!this.field.equals(i.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let o=this.coefficients,u=i.coefficients;if(o.length>u.length){const v=o;o=u,u=v}let h=new Int32Array(u.length);const p=u.length-o.length;M.arraycopy(u,0,h,0,p);for(let v=p;v<u.length;v++)h[v]=nt.addOrSubtract(o[v-p],u[v]);return new st(this.field,h)}multiply(i){if(!this.field.equals(i.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();const o=this.coefficients,u=o.length,h=i.coefficients,p=h.length,v=new Int32Array(u+p-1),S=this.field;for(let N=0;N<u;N++){const I=o[N];for(let D=0;D<p;D++)v[N+D]=nt.addOrSubtract(v[N+D],S.multiply(I,h[D]))}return new st(S,v)}multiplyScalar(i){if(i===0)return this.field.getZero();if(i===1)return this;const o=this.coefficients.length,u=this.field,h=new Int32Array(o),p=this.coefficients;for(let v=0;v<o;v++)h[v]=u.multiply(p[v],i);return new st(u,h)}multiplyByMonomial(i,o){if(i<0)throw new A;if(o===0)return this.field.getZero();const u=this.coefficients,h=u.length,p=new Int32Array(h+i),v=this.field;for(let S=0;S<h;S++)p[S]=v.multiply(u[S],o);return new st(v,p)}divide(i){if(!this.field.equals(i.field))throw new A("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new A("Divide by 0");const o=this.field;let u=o.getZero(),h=this;const p=i.getCoefficient(i.getDegree()),v=o.inverse(p);for(;h.getDegree()>=i.getDegree()&&!h.isZero();){const S=h.getDegree()-i.getDegree(),N=o.multiply(h.getCoefficient(h.getDegree()),v),I=i.multiplyByMonomial(S,N),D=o.buildMonomial(S,N);u=u.addOrSubtract(D),h=h.addOrSubtract(I)}return[u,h]}toString(){let i="";for(let o=this.getDegree();o>=0;o--){let u=this.getCoefficient(o);if(u!==0){if(u<0?(i+=" - ",u=-u):i.length>0&&(i+=" + "),o===0||u!==1){const h=this.field.log(u);h===0?i+="1":h===1?i+="a":(i+="a^",i+=h)}o!==0&&(o===1?i+="x":(i+="x^",i+=o))}}return i}}class Be extends y{}Be.kind="ArithmeticException";class Je extends nt{constructor(i,o,u){super(),this.primitive=i,this.size=o,this.generatorBase=u;const h=new Int32Array(o);let p=1;for(let S=0;S<o;S++)h[S]=p,p*=2,p>=o&&(p^=i,p&=o-1);this.expTable=h;const v=new Int32Array(o);for(let S=0;S<o-1;S++)v[h[S]]=S;this.logTable=v,this.zero=new st(this,Int32Array.from([0])),this.one=new st(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,o){if(i<0)throw new A;if(o===0)return this.zero;const u=new Int32Array(i+1);return u[0]=o,new st(this,u)}inverse(i){if(i===0)throw new Be;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,o){return i===0||o===0?0:this.expTable[(this.logTable[i]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+U.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}Je.AZTEC_DATA_12=new Je(4201,4096,1),Je.AZTEC_DATA_10=new Je(1033,1024,1),Je.AZTEC_DATA_6=new Je(67,64,1),Je.AZTEC_PARAM=new Je(19,16,1),Je.QR_CODE_FIELD_256=new Je(285,256,0),Je.DATA_MATRIX_FIELD_256=new Je(301,256,1),Je.AZTEC_DATA_8=Je.DATA_MATRIX_FIELD_256,Je.MAXICODE_FIELD_64=Je.AZTEC_DATA_6;class Et extends y{}Et.kind="ReedSolomonException";class Ie extends y{}Ie.kind="IllegalStateException";class Nt{constructor(i){this.field=i}decode(i,o){const u=this.field,h=new st(u,i),p=new Int32Array(o);let v=!0;for(let W=0;W<o;W++){const ae=h.evaluateAt(u.exp(W+u.getGeneratorBase()));p[p.length-1-W]=ae,ae!==0&&(v=!1)}if(v)return;const S=new st(u,p),N=this.runEuclideanAlgorithm(u.buildMonomial(o,1),S,o),I=N[0],D=N[1],z=this.findErrorLocations(I),H=this.findErrorMagnitudes(D,z);for(let W=0;W<z.length;W++){const ae=i.length-1-u.log(z[W]);if(ae<0)throw new Et("Bad error location");i[ae]=Je.addOrSubtract(i[ae],H[W])}}runEuclideanAlgorithm(i,o,u){if(i.getDegree()<o.getDegree()){const W=i;i=o,o=W}const h=this.field;let p=i,v=o,S=h.getZero(),N=h.getOne();for(;v.getDegree()>=(u/2|0);){let W=p,ae=S;if(p=v,S=N,p.isZero())throw new Et("r_{i-1} was zero");v=W;let se=h.getZero();const xe=p.getCoefficient(p.getDegree()),Ae=h.inverse(xe);for(;v.getDegree()>=p.getDegree()&&!v.isZero();){const Xe=v.getDegree()-p.getDegree(),qe=h.multiply(v.getCoefficient(v.getDegree()),Ae);se=se.addOrSubtract(h.buildMonomial(Xe,qe)),v=v.addOrSubtract(p.multiplyByMonomial(Xe,qe))}if(N=se.multiply(S).addOrSubtract(ae),v.getDegree()>=p.getDegree())throw new Ie("Division algorithm failed to reduce polynomial?")}const I=N.getCoefficient(0);if(I===0)throw new Et("sigmaTilde(0) was zero");const D=h.inverse(I),z=N.multiplyScalar(D),H=v.multiplyScalar(D);return[z,H]}findErrorLocations(i){const o=i.getDegree();if(o===1)return Int32Array.from([i.getCoefficient(1)]);const u=new Int32Array(o);let h=0;const p=this.field;for(let v=1;v<p.getSize()&&h<o;v++)i.evaluateAt(v)===0&&(u[h]=p.inverse(v),h++);if(h!==o)throw new Et("Error locator degree does not match number of roots");return u}findErrorMagnitudes(i,o){const u=o.length,h=new Int32Array(u),p=this.field;for(let v=0;v<u;v++){const S=p.inverse(o[v]);let N=1;for(let I=0;I<u;I++)if(v!==I){const D=p.multiply(o[I],S),z=(D&1)===0?D|1:D&-2;N=p.multiply(N,z)}h[v]=p.multiply(i.evaluateAt(S),p.inverse(N)),p.getGeneratorBase()!==0&&(h[v]=p.multiply(h[v],S))}return h}}var bt;(function(B){B[B.UPPER=0]="UPPER",B[B.LOWER=1]="LOWER",B[B.MIXED=2]="MIXED",B[B.DIGIT=3]="DIGIT",B[B.PUNCT=4]="PUNCT",B[B.BINARY=5]="BINARY"})(bt||(bt={}));class Ct{decode(i){this.ddata=i;let o=i.getBits(),u=this.extractBits(o),h=this.correctBits(u),p=Ct.convertBoolArrayToByteArray(h),v=Ct.getEncodedData(h),S=new me(p,v,null,null);return S.setNumBits(h.length),S}static highLevelDecode(i){return this.getEncodedData(i)}static getEncodedData(i){let o=i.length,u=bt.UPPER,h=bt.UPPER,p="",v=0;for(;v<o;)if(h===bt.BINARY){if(o-v<5)break;let S=Ct.readCode(i,v,5);if(v+=5,S===0){if(o-v<11)break;S=Ct.readCode(i,v,11)+31,v+=11}for(let N=0;N<S;N++){if(o-v<8){v=o;break}const I=Ct.readCode(i,v,8);p+=ee.castAsNonUtf8Char(I),v+=8}h=u}else{let S=h===bt.DIGIT?4:5;if(o-v<S)break;let N=Ct.readCode(i,v,S);v+=S;let I=Ct.getCharacter(h,N);I.startsWith("CTRL_")?(u=h,h=Ct.getTable(I.charAt(5)),I.charAt(6)==="L"&&(u=h)):(p+=I,h=u)}return p}static getTable(i){switch(i){case"L":return bt.LOWER;case"P":return bt.PUNCT;case"M":return bt.MIXED;case"D":return bt.DIGIT;case"B":return bt.BINARY;case"U":default:return bt.UPPER}}static getCharacter(i,o){switch(i){case bt.UPPER:return Ct.UPPER_TABLE[o];case bt.LOWER:return Ct.LOWER_TABLE[o];case bt.MIXED:return Ct.MIXED_TABLE[o];case bt.PUNCT:return Ct.PUNCT_TABLE[o];case bt.DIGIT:return Ct.DIGIT_TABLE[o];default:throw new Ie("Bad table")}}correctBits(i){let o,u;this.ddata.getNbLayers()<=2?(u=6,o=Je.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(u=8,o=Je.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(u=10,o=Je.AZTEC_DATA_10):(u=12,o=Je.AZTEC_DATA_12);let h=this.ddata.getNbDatablocks(),p=i.length/u;if(p<h)throw new L;let v=i.length%u,S=new Int32Array(p);for(let H=0;H<p;H++,v+=u)S[H]=Ct.readCode(i,v,u);try{new Nt(o).decode(S,p-h)}catch(H){throw new L(H)}let N=(1<<u)-1,I=0;for(let H=0;H<h;H++){let W=S[H];if(W===0||W===N)throw new L;(W===1||W===N-1)&&I++}let D=new Array(h*u-I),z=0;for(let H=0;H<h;H++){let W=S[H];if(W===1||W===N-1)D.fill(W>1,z,z+u-1),z+=u-1;else for(let ae=u-1;ae>=0;--ae)D[z++]=(W&1<<ae)!==0}return D}extractBits(i){let o=this.ddata.isCompact(),u=this.ddata.getNbLayers(),h=(o?11:14)+u*4,p=new Int32Array(h),v=new Array(this.totalBitsInLayer(u,o));if(o)for(let S=0;S<p.length;S++)p[S]=S;else{let S=h+1+2*U.truncDivision(U.truncDivision(h,2)-1,15),N=h/2,I=U.truncDivision(S,2);for(let D=0;D<N;D++){let z=D+U.truncDivision(D,15);p[N-D-1]=I-z-1,p[N+D]=I+z+1}}for(let S=0,N=0;S<u;S++){let I=(u-S)*4+(o?9:12),D=S*2,z=h-1-D;for(let H=0;H<I;H++){let W=H*2;for(let ae=0;ae<2;ae++)v[N+W+ae]=i.get(p[D+ae],p[D+H]),v[N+2*I+W+ae]=i.get(p[D+H],p[z-ae]),v[N+4*I+W+ae]=i.get(p[z-ae],p[z-H]),v[N+6*I+W+ae]=i.get(p[z-H],p[D+ae])}N+=I*8}return v}static readCode(i,o,u){let h=0;for(let p=o;p<o+u;p++)h<<=1,i[p]&&(h|=1);return h}static readByte(i,o){let u=i.length-o;return u>=8?Ct.readCode(i,o,8):Ct.readCode(i,o,u)<<8-u}static convertBoolArrayToByteArray(i){let o=new Uint8Array((i.length+7)/8);for(let u=0;u<o.length;u++)o[u]=Ct.readByte(i,8*u);return o}totalBitsInLayer(i,o){return((o?88:112)+16*i)*i}}Ct.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ct.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ct.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ct.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ct.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class lt{constructor(){}static round(i){return i===NaN?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,o,u,h){const p=i-u,v=o-h;return Math.sqrt(p*p+v*v)}static sum(i){let o=0;for(let u=0,h=i.length;u!==h;u++){const p=i[u];o+=p}return o}}class wn{static floatToIntBits(i){return i}}wn.MAX_VALUE=Number.MAX_SAFE_INTEGER;class et{constructor(i,o){this.x=i,this.y=o}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof et){const o=i;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*wn.floatToIntBits(this.x)+wn.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){const o=this.distance(i[0],i[1]),u=this.distance(i[1],i[2]),h=this.distance(i[0],i[2]);let p,v,S;if(u>=o&&u>=h?(v=i[0],p=i[1],S=i[2]):h>=u&&h>=o?(v=i[1],p=i[0],S=i[2]):(v=i[2],p=i[0],S=i[1]),this.crossProductZ(p,v,S)<0){const N=p;p=S,S=N}i[0]=p,i[1]=v,i[2]=S}static distance(i,o){return lt.distance(i.x,i.y,o.x,o.y)}static crossProductZ(i,o,u){const h=o.x,p=o.y;return(u.x-h)*(i.y-p)-(u.y-p)*(i.x-h)}}class Da{constructor(i,o){this.bits=i,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class ll extends Da{constructor(i,o,u,h,p){super(i,o),this.compact=u,this.nbDatablocks=h,this.nbLayers=p}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class hr{constructor(i,o,u,h){this.image=i,this.height=i.getHeight(),this.width=i.getWidth(),o==null&&(o=hr.INIT_SIZE),u==null&&(u=i.getWidth()/2|0),h==null&&(h=i.getHeight()/2|0);const p=o/2|0;if(this.leftInit=u-p,this.rightInit=u+p,this.upInit=h-p,this.downInit=h+p,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Z}detect(){let i=this.leftInit,o=this.rightInit,u=this.upInit,h=this.downInit,p=!1,v=!0,S=!1,N=!1,I=!1,D=!1,z=!1;const H=this.width,W=this.height;for(;v;){v=!1;let ae=!0;for(;(ae||!N)&&o<H;)ae=this.containsBlackPoint(u,h,o,!1),ae?(o++,v=!0,N=!0):N||o++;if(o>=H){p=!0;break}let se=!0;for(;(se||!I)&&h<W;)se=this.containsBlackPoint(i,o,h,!0),se?(h++,v=!0,I=!0):I||h++;if(h>=W){p=!0;break}let xe=!0;for(;(xe||!D)&&i>=0;)xe=this.containsBlackPoint(u,h,i,!1),xe?(i--,v=!0,D=!0):D||i--;if(i<0){p=!0;break}let Ae=!0;for(;(Ae||!z)&&u>=0;)Ae=this.containsBlackPoint(i,o,u,!0),Ae?(u--,v=!0,z=!0):z||u--;if(u<0){p=!0;break}v&&(S=!0)}if(!p&&S){const ae=o-i;let se=null;for(let qe=1;se===null&&qe<ae;qe++)se=this.getBlackPointOnSegment(i,h-qe,i+qe,h);if(se==null)throw new Z;let xe=null;for(let qe=1;xe===null&&qe<ae;qe++)xe=this.getBlackPointOnSegment(i,u+qe,i+qe,u);if(xe==null)throw new Z;let Ae=null;for(let qe=1;Ae===null&&qe<ae;qe++)Ae=this.getBlackPointOnSegment(o,u+qe,o-qe,u);if(Ae==null)throw new Z;let Xe=null;for(let qe=1;Xe===null&&qe<ae;qe++)Xe=this.getBlackPointOnSegment(o,h-qe,o-qe,h);if(Xe==null)throw new Z;return this.centerEdges(Xe,se,Ae,xe)}else throw new Z}getBlackPointOnSegment(i,o,u,h){const p=lt.round(lt.distance(i,o,u,h)),v=(u-i)/p,S=(h-o)/p,N=this.image;for(let I=0;I<p;I++){const D=lt.round(i+I*v),z=lt.round(o+I*S);if(N.get(D,z))return new et(D,z)}return null}centerEdges(i,o,u,h){const p=i.getX(),v=i.getY(),S=o.getX(),N=o.getY(),I=u.getX(),D=u.getY(),z=h.getX(),H=h.getY(),W=hr.CORR;return p<this.width/2?[new et(z-W,H+W),new et(S+W,N+W),new et(I-W,D-W),new et(p+W,v-W)]:[new et(z+W,H+W),new et(S+W,N-W),new et(I-W,D+W),new et(p-W,v-W)]}containsBlackPoint(i,o,u,h){const p=this.image;if(h){for(let v=i;v<=o;v++)if(p.get(v,u))return!0}else for(let v=i;v<=o;v++)if(p.get(u,v))return!0;return!1}}hr.INIT_SIZE=10,hr.CORR=1;class zi{static checkAndNudgePoints(i,o){const u=i.getWidth(),h=i.getHeight();let p=!0;for(let v=0;v<o.length&&p;v+=2){const S=Math.floor(o[v]),N=Math.floor(o[v+1]);if(S<-1||S>u||N<-1||N>h)throw new Z;p=!1,S===-1?(o[v]=0,p=!0):S===u&&(o[v]=u-1,p=!0),N===-1?(o[v+1]=0,p=!0):N===h&&(o[v+1]=h-1,p=!0)}p=!0;for(let v=o.length-2;v>=0&&p;v-=2){const S=Math.floor(o[v]),N=Math.floor(o[v+1]);if(S<-1||S>u||N<-1||N>h)throw new Z;p=!1,S===-1?(o[v]=0,p=!0):S===u&&(o[v]=u-1,p=!0),N===-1?(o[v+1]=0,p=!0):N===h&&(o[v+1]=h-1,p=!0)}}}class In{constructor(i,o,u,h,p,v,S,N,I){this.a11=i,this.a21=o,this.a31=u,this.a12=h,this.a22=p,this.a32=v,this.a13=S,this.a23=N,this.a33=I}static quadrilateralToQuadrilateral(i,o,u,h,p,v,S,N,I,D,z,H,W,ae,se,xe){const Ae=In.quadrilateralToSquare(i,o,u,h,p,v,S,N);return In.squareToQuadrilateral(I,D,z,H,W,ae,se,xe).times(Ae)}transformPoints(i){const o=i.length,u=this.a11,h=this.a12,p=this.a13,v=this.a21,S=this.a22,N=this.a23,I=this.a31,D=this.a32,z=this.a33;for(let H=0;H<o;H+=2){const W=i[H],ae=i[H+1],se=p*W+N*ae+z;i[H]=(u*W+v*ae+I)/se,i[H+1]=(h*W+S*ae+D)/se}}transformPointsWithValues(i,o){const u=this.a11,h=this.a12,p=this.a13,v=this.a21,S=this.a22,N=this.a23,I=this.a31,D=this.a32,z=this.a33,H=i.length;for(let W=0;W<H;W++){const ae=i[W],se=o[W],xe=p*ae+N*se+z;i[W]=(u*ae+v*se+I)/xe,o[W]=(h*ae+S*se+D)/xe}}static squareToQuadrilateral(i,o,u,h,p,v,S,N){const I=i-u+p-S,D=o-h+v-N;if(I===0&&D===0)return new In(u-i,p-u,i,h-o,v-h,o,0,0,1);{const z=u-p,H=S-p,W=h-v,ae=N-v,se=z*ae-H*W,xe=(I*ae-H*D)/se,Ae=(z*D-I*W)/se;return new In(u-i+xe*u,S-i+Ae*S,i,h-o+xe*h,N-o+Ae*N,o,xe,Ae,1)}}static quadrilateralToSquare(i,o,u,h,p,v,S,N){return In.squareToQuadrilateral(i,o,u,h,p,v,S,N).buildAdjoint()}buildAdjoint(){return new In(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new In(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class fs extends zi{sampleGrid(i,o,u,h,p,v,S,N,I,D,z,H,W,ae,se,xe,Ae,Xe,qe){const Fe=In.quadrilateralToQuadrilateral(h,p,v,S,N,I,D,z,H,W,ae,se,xe,Ae,Xe,qe);return this.sampleGridWithTransform(i,o,u,Fe)}sampleGridWithTransform(i,o,u,h){if(o<=0||u<=0)throw new Z;const p=new fe(o,u),v=new Float32Array(2*o);for(let S=0;S<u;S++){const N=v.length,I=S+.5;for(let D=0;D<N;D+=2)v[D]=D/2+.5,v[D+1]=I;h.transformPoints(v),zi.checkAndNudgePoints(i,v);try{for(let D=0;D<N;D+=2)i.get(Math.floor(v[D]),Math.floor(v[D+1]))&&p.set(D/2,S)}catch{throw new Z}}return p}}class Hn{static setGridSampler(i){Hn.gridSampler=i}static getInstance(){return Hn.gridSampler}}Hn.gridSampler=new fs;class nn{constructor(i,o){this.x=i,this.y=o}toResultPoint(){return new et(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ai{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let o=this.getMatrixCenter(),u=this.getBullsEyeCorners(o);if(i){let v=u[0];u[0]=u[2],u[2]=v}this.extractParameters(u);let h=this.sampleGrid(this.image,u[this.shift%4],u[(this.shift+1)%4],u[(this.shift+2)%4],u[(this.shift+3)%4]),p=this.getMatrixCornerPoints(u);return new ll(h,p,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!this.isValidPoint(i[0])||!this.isValidPoint(i[1])||!this.isValidPoint(i[2])||!this.isValidPoint(i[3]))throw new Z;let o=2*this.nbCenterLayers,u=new Int32Array([this.sampleLine(i[0],i[1],o),this.sampleLine(i[1],i[2],o),this.sampleLine(i[2],i[3],o),this.sampleLine(i[3],i[0],o)]);this.shift=this.getRotation(u,o);let h=0;for(let v=0;v<4;v++){let S=u[(this.shift+v)%4];this.compact?(h<<=7,h+=S>>1&127):(h<<=10,h+=(S>>2&992)+(S>>1&31))}let p=this.getCorrectedParameterData(h,this.compact);this.compact?(this.nbLayers=(p>>6)+1,this.nbDataBlocks=(p&63)+1):(this.nbLayers=(p>>11)+1,this.nbDataBlocks=(p&2047)+1)}getRotation(i,o){let u=0;i.forEach((h,p,v)=>{let S=(h>>o-2<<1)+(h&1);u=(u<<3)+S}),u=((u&1)<<11)+(u>>1);for(let h=0;h<4;h++)if(U.bitCount(u^this.EXPECTED_CORNER_BITS[h])<=2)return h;throw new Z}getCorrectedParameterData(i,o){let u,h;o?(u=7,h=2):(u=10,h=4);let p=u-h,v=new Int32Array(u);for(let N=u-1;N>=0;--N)v[N]=i&15,i>>=4;try{new Nt(Je.AZTEC_PARAM).decode(v,p)}catch{throw new Z}let S=0;for(let N=0;N<h;N++)S=(S<<4)+v[N];return S}getBullsEyeCorners(i){let o=i,u=i,h=i,p=i,v=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let z=this.getFirstDifferent(o,v,1,-1),H=this.getFirstDifferent(u,v,1,1),W=this.getFirstDifferent(h,v,-1,1),ae=this.getFirstDifferent(p,v,-1,-1);if(this.nbCenterLayers>2){let se=this.distancePoint(ae,z)*this.nbCenterLayers/(this.distancePoint(p,o)*(this.nbCenterLayers+2));if(se<.75||se>1.25||!this.isWhiteOrBlackRectangle(z,H,W,ae))break}o=z,u=H,h=W,p=ae,v=!v}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Z;this.compact=this.nbCenterLayers===5;let S=new et(o.getX()+.5,o.getY()-.5),N=new et(u.getX()+.5,u.getY()+.5),I=new et(h.getX()-.5,h.getY()+.5),D=new et(p.getX()-.5,p.getY()-.5);return this.expandSquare([S,N,I,D],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,o,u,h;try{let S=new hr(this.image).detect();i=S[0],o=S[1],u=S[2],h=S[3]}catch{let N=this.image.getWidth()/2,I=this.image.getHeight()/2;i=this.getFirstDifferent(new nn(N+7,I-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new nn(N+7,I+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new nn(N-7,I+7),!1,-1,1).toResultPoint(),h=this.getFirstDifferent(new nn(N-7,I-7),!1,-1,-1).toResultPoint()}let p=lt.round((i.getX()+h.getX()+o.getX()+u.getX())/4),v=lt.round((i.getY()+h.getY()+o.getY()+u.getY())/4);try{let S=new hr(this.image,15,p,v).detect();i=S[0],o=S[1],u=S[2],h=S[3]}catch{i=this.getFirstDifferent(new nn(p+7,v-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new nn(p+7,v+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new nn(p-7,v+7),!1,-1,1).toResultPoint(),h=this.getFirstDifferent(new nn(p-7,v-7),!1,-1,-1).toResultPoint()}return p=lt.round((i.getX()+h.getX()+o.getX()+u.getX())/4),v=lt.round((i.getY()+h.getY()+o.getY()+u.getY())/4),new nn(p,v)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,o,u,h,p){let v=Hn.getInstance(),S=this.getDimension(),N=S/2-this.nbCenterLayers,I=S/2+this.nbCenterLayers;return v.sampleGrid(i,S,S,N,N,I,N,I,I,N,I,o.getX(),o.getY(),u.getX(),u.getY(),h.getX(),h.getY(),p.getX(),p.getY())}sampleLine(i,o,u){let h=0,p=this.distanceResultPoint(i,o),v=p/u,S=i.getX(),N=i.getY(),I=v*(o.getX()-i.getX())/p,D=v*(o.getY()-i.getY())/p;for(let z=0;z<u;z++)this.image.get(lt.round(S+z*I),lt.round(N+z*D))&&(h|=1<<u-z-1);return h}isWhiteOrBlackRectangle(i,o,u,h){let p=3;i=new nn(i.getX()-p,i.getY()+p),o=new nn(o.getX()-p,o.getY()-p),u=new nn(u.getX()+p,u.getY()-p),h=new nn(h.getX()+p,h.getY()+p);let v=this.getColor(h,i);if(v===0)return!1;let S=this.getColor(i,o);return S!==v||(S=this.getColor(o,u),S!==v)?!1:(S=this.getColor(u,h),S===v)}getColor(i,o){let u=this.distancePoint(i,o),h=(o.getX()-i.getX())/u,p=(o.getY()-i.getY())/u,v=0,S=i.getX(),N=i.getY(),I=this.image.get(i.getX(),i.getY()),D=Math.ceil(u);for(let H=0;H<D;H++)S+=h,N+=p,this.image.get(lt.round(S),lt.round(N))!==I&&v++;let z=v/u;return z>.1&&z<.9?0:z<=.1===I?1:-1}getFirstDifferent(i,o,u,h){let p=i.getX()+u,v=i.getY()+h;for(;this.isValid(p,v)&&this.image.get(p,v)===o;)p+=u,v+=h;for(p-=u,v-=h;this.isValid(p,v)&&this.image.get(p,v)===o;)p+=u;for(p-=u;this.isValid(p,v)&&this.image.get(p,v)===o;)v+=h;return v-=h,new nn(p,v)}expandSquare(i,o,u){let h=u/(2*o),p=i[0].getX()-i[2].getX(),v=i[0].getY()-i[2].getY(),S=(i[0].getX()+i[2].getX())/2,N=(i[0].getY()+i[2].getY())/2,I=new et(S+h*p,N+h*v),D=new et(S-h*p,N-h*v);p=i[1].getX()-i[3].getX(),v=i[1].getY()-i[3].getY(),S=(i[1].getX()+i[3].getX())/2,N=(i[1].getY()+i[3].getY())/2;let z=new et(S+h*p,N+h*v),H=new et(S-h*p,N-h*v);return[I,z,D,H]}isValid(i,o){return i>=0&&i<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(i){let o=lt.round(i.getX()),u=lt.round(i.getY());return this.isValid(o,u)}distancePoint(i,o){return lt.distance(i.getX(),i.getY(),o.getX(),o.getY())}distanceResultPoint(i,o){return lt.distance(i.getX(),i.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(U.truncDivision(this.nbLayers-4,8)+1)+15}}class Ui{decode(i,o=null){let u=null,h=new Ai(i.getBlackMatrix()),p=null,v=null;try{let D=h.detectMirror(!1);p=D.getPoints(),this.reportFoundResultPoints(o,p),v=new Ct().decode(D)}catch(D){u=D}if(v==null)try{let D=h.detectMirror(!0);p=D.getPoints(),this.reportFoundResultPoints(o,p),v=new Ct().decode(D)}catch(D){throw u??D}let S=new ke(v.getText(),v.getRawBytes(),v.getNumBits(),p,Q.AZTEC,M.currentTimeMillis()),N=v.getByteSegments();N!=null&&S.putMetadata(Ze.BYTE_SEGMENTS,N);let I=v.getECLevel();return I!=null&&S.putMetadata(Ze.ERROR_CORRECTION_LEVEL,I),S}reportFoundResultPoints(i,o){if(i!=null){let u=i.get(Y.NEED_RESULT_POINT_CALLBACK);u!=null&&o.forEach((h,p,v)=>{u.foundPossibleResultPoint(h)})}}reset(){}}class to extends Te{constructor(i=500){super(new Ui,i)}}class Qt{decode(i,o){try{return this.doDecode(i,o)}catch{if(o&&o.get(Y.TRY_HARDER)===!0&&i.isRotateSupported()){const p=i.rotateCounterClockwise(),v=this.doDecode(p,o),S=v.getResultMetadata();let N=270;S!==null&&S.get(Ze.ORIENTATION)===!0&&(N=N+S.get(Ze.ORIENTATION)%360),v.putMetadata(Ze.ORIENTATION,N);const I=v.getResultPoints();if(I!==null){const D=p.getHeight();for(let z=0;z<I.length;z++)I[z]=new et(D-I[z].getY()-1,I[z].getX())}return v}else throw new Z}}reset(){}doDecode(i,o){const u=i.getWidth(),h=i.getHeight();let p=new V(u);const v=o&&o.get(Y.TRY_HARDER)===!0,S=Math.max(1,h>>(v?8:5));let N;v?N=h:N=15;const I=Math.trunc(h/2);for(let D=0;D<N;D++){const z=Math.trunc((D+1)/2),H=(D&1)===0,W=I+S*(H?z:-z);if(W<0||W>=h)break;try{p=i.getBlackRow(W,p)}catch{continue}for(let ae=0;ae<2;ae++){if(ae===1&&(p.reverse(),o&&o.get(Y.NEED_RESULT_POINT_CALLBACK)===!0)){const se=new Map;o.forEach((xe,Ae)=>se.set(Ae,xe)),se.delete(Y.NEED_RESULT_POINT_CALLBACK),o=se}try{const se=this.decodeRow(W,p,o);if(ae===1){se.putMetadata(Ze.ORIENTATION,180);const xe=se.getResultPoints();xe!==null&&(xe[0]=new et(u-xe[0].getX()-1,xe[0].getY()),xe[1]=new et(u-xe[1].getX()-1,xe[1].getY()))}return se}catch{}}}throw new Z}static recordPattern(i,o,u){const h=u.length;for(let I=0;I<h;I++)u[I]=0;const p=i.getSize();if(o>=p)throw new Z;let v=!i.get(o),S=0,N=o;for(;N<p;){if(i.get(N)!==v)u[S]++;else{if(++S===h)break;u[S]=1,v=!v}N++}if(!(S===h||S===h-1&&N===p))throw new Z}static recordPatternInReverse(i,o,u){let h=u.length,p=i.get(o);for(;o>0&&h>=0;)i.get(--o)!==p&&(h--,p=!p);if(h>=0)throw new Z;Qt.recordPattern(i,o+1,u)}static patternMatchVariance(i,o,u){const h=i.length;let p=0,v=0;for(let I=0;I<h;I++)p+=i[I],v+=o[I];if(p<v)return Number.POSITIVE_INFINITY;const S=p/v;u*=S;let N=0;for(let I=0;I<h;I++){const D=i[I],z=o[I]*S,H=D>z?D-z:z-D;if(H>u)return Number.POSITIVE_INFINITY;N+=H}return N/p}}class He extends Qt{static findStartPattern(i){const o=i.getSize(),u=i.getNextSet(0);let h=0,p=Int32Array.from([0,0,0,0,0,0]),v=u,S=!1;const N=6;for(let I=u;I<o;I++)if(i.get(I)!==S)p[h]++;else{if(h===N-1){let D=He.MAX_AVG_VARIANCE,z=-1;for(let H=He.CODE_START_A;H<=He.CODE_START_C;H++){const W=Qt.patternMatchVariance(p,He.CODE_PATTERNS[H],He.MAX_INDIVIDUAL_VARIANCE);W<D&&(D=W,z=H)}if(z>=0&&i.isRange(Math.max(0,v-(I-v)/2),v,!1))return Int32Array.from([v,I,z]);v+=p[0]+p[1],p=p.slice(2,p.length-1),p[h-1]=0,p[h]=0,h--}else h++;p[h]=1,S=!S}throw new Z}static decodeCode(i,o,u){Qt.recordPattern(i,u,o);let h=He.MAX_AVG_VARIANCE,p=-1;for(let v=0;v<He.CODE_PATTERNS.length;v++){const S=He.CODE_PATTERNS[v],N=this.patternMatchVariance(o,S,He.MAX_INDIVIDUAL_VARIANCE);N<h&&(h=N,p=v)}if(p>=0)return p;throw new Z}decodeRow(i,o,u){const h=u&&u.get(Y.ASSUME_GS1)===!0,p=He.findStartPattern(o),v=p[2];let S=0;const N=new Uint8Array(20);N[S++]=v;let I;switch(v){case He.CODE_START_A:I=He.CODE_CODE_A;break;case He.CODE_START_B:I=He.CODE_CODE_B;break;case He.CODE_START_C:I=He.CODE_CODE_C;break;default:throw new L}let D=!1,z=!1,H="",W=p[0],ae=p[1];const se=Int32Array.from([0,0,0,0,0,0]);let xe=0,Ae=0,Xe=v,qe=0,Fe=!0,Ft=!1,Pt=!1;for(;!D;){const vs=z;switch(z=!1,xe=Ae,Ae=He.decodeCode(o,se,ae),N[S++]=Ae,Ae!==He.CODE_STOP&&(Fe=!0),Ae!==He.CODE_STOP&&(qe++,Xe+=qe*Ae),W=ae,ae+=se.reduce((Cf,Nu)=>Cf+Nu,0),Ae){case He.CODE_START_A:case He.CODE_START_B:case He.CODE_START_C:throw new L}switch(I){case He.CODE_CODE_A:if(Ae<64)Pt===Ft?H+=String.fromCharCode(32+Ae):H+=String.fromCharCode(32+Ae+128),Pt=!1;else if(Ae<96)Pt===Ft?H+=String.fromCharCode(Ae-64):H+=String.fromCharCode(Ae+64),Pt=!1;else switch(Ae!==He.CODE_STOP&&(Fe=!1),Ae){case He.CODE_FNC_1:h&&(H.length===0?H+="]C1":H+="");break;case He.CODE_FNC_2:case He.CODE_FNC_3:break;case He.CODE_FNC_4_A:!Ft&&Pt?(Ft=!0,Pt=!1):Ft&&Pt?(Ft=!1,Pt=!1):Pt=!0;break;case He.CODE_SHIFT:z=!0,I=He.CODE_CODE_B;break;case He.CODE_CODE_B:I=He.CODE_CODE_B;break;case He.CODE_CODE_C:I=He.CODE_CODE_C;break;case He.CODE_STOP:D=!0;break}break;case He.CODE_CODE_B:if(Ae<96)Pt===Ft?H+=String.fromCharCode(32+Ae):H+=String.fromCharCode(32+Ae+128),Pt=!1;else switch(Ae!==He.CODE_STOP&&(Fe=!1),Ae){case He.CODE_FNC_1:h&&(H.length===0?H+="]C1":H+="");break;case He.CODE_FNC_2:case He.CODE_FNC_3:break;case He.CODE_FNC_4_B:!Ft&&Pt?(Ft=!0,Pt=!1):Ft&&Pt?(Ft=!1,Pt=!1):Pt=!0;break;case He.CODE_SHIFT:z=!0,I=He.CODE_CODE_A;break;case He.CODE_CODE_A:I=He.CODE_CODE_A;break;case He.CODE_CODE_C:I=He.CODE_CODE_C;break;case He.CODE_STOP:D=!0;break}break;case He.CODE_CODE_C:if(Ae<100)Ae<10&&(H+="0"),H+=Ae;else switch(Ae!==He.CODE_STOP&&(Fe=!1),Ae){case He.CODE_FNC_1:h&&(H.length===0?H+="]C1":H+="");break;case He.CODE_CODE_A:I=He.CODE_CODE_A;break;case He.CODE_CODE_B:I=He.CODE_CODE_B;break;case He.CODE_STOP:D=!0;break}break}vs&&(I=I===He.CODE_CODE_A?He.CODE_CODE_B:He.CODE_CODE_A)}const Kr=ae-W;if(ae=o.getNextUnset(ae),!o.isRange(ae,Math.min(o.getSize(),ae+(ae-W)/2),!1))throw new Z;if(Xe-=qe*xe,Xe%103!==xe)throw new _;const Aa=H.length;if(Aa===0)throw new Z;Aa>0&&Fe&&(I===He.CODE_CODE_C?H=H.substring(0,Aa-2):H=H.substring(0,Aa-1));const qn=(p[1]+p[0])/2,dr=W+Kr/2,En=N.length,ca=new Uint8Array(En);for(let vs=0;vs<En;vs++)ca[vs]=N[vs];const gl=[new et(qn,i),new et(dr,i)];return new ke(H,ca,0,gl,Q.CODE_128,new Date().getTime())}}He.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],He.MAX_AVG_VARIANCE=.25,He.MAX_INDIVIDUAL_VARIANCE=.7,He.CODE_SHIFT=98,He.CODE_CODE_C=99,He.CODE_CODE_B=100,He.CODE_CODE_A=101,He.CODE_FNC_1=102,He.CODE_FNC_2=97,He.CODE_FNC_3=96,He.CODE_FNC_4_A=101,He.CODE_FNC_4_B=100,He.CODE_START_A=103,He.CODE_START_B=104,He.CODE_START_C=105,He.CODE_STOP=106;class lr extends Qt{constructor(i=!1,o=!1){super(),this.usingCheckDigit=i,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(i,o,u){let h=this.counters;h.fill(0),this.decodeRowResult="";let p=lr.findAsteriskPattern(o,h),v=o.getNextSet(p[1]),S=o.getSize(),N,I;do{lr.recordPattern(o,v,h);let se=lr.toNarrowWidePattern(h);if(se<0)throw new Z;N=lr.patternToChar(se),this.decodeRowResult+=N,I=v;for(let xe of h)v+=xe;v=o.getNextSet(v)}while(N!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let D=0;for(let se of h)D+=se;let z=v-I-D;if(v!==S&&z*2<D)throw new Z;if(this.usingCheckDigit){let se=this.decodeRowResult.length-1,xe=0;for(let Ae=0;Ae<se;Ae++)xe+=lr.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Ae));if(this.decodeRowResult.charAt(se)!==lr.ALPHABET_STRING.charAt(xe%43))throw new _;this.decodeRowResult=this.decodeRowResult.substring(0,se)}if(this.decodeRowResult.length===0)throw new Z;let H;this.extendedMode?H=lr.decodeExtended(this.decodeRowResult):H=this.decodeRowResult;let W=(p[1]+p[0])/2,ae=I+D/2;return new ke(H,null,0,[new et(W,i),new et(ae,i)],Q.CODE_39,new Date().getTime())}static findAsteriskPattern(i,o){let u=i.getSize(),h=i.getNextSet(0),p=0,v=h,S=!1,N=o.length;for(let I=h;I<u;I++)if(i.get(I)!==S)o[p]++;else{if(p===N-1){if(this.toNarrowWidePattern(o)===lr.ASTERISK_ENCODING&&i.isRange(Math.max(0,v-Math.floor((I-v)/2)),v,!1))return[v,I];v+=o[0]+o[1],o.copyWithin(0,2,2+p-1),o[p-1]=0,o[p]=0,p--}else p++;o[p]=1,S=!S}throw new Z}static toNarrowWidePattern(i){let o=i.length,u=0,h;do{let p=2147483647;for(let N of i)N<p&&N>u&&(p=N);u=p,h=0;let v=0,S=0;for(let N=0;N<o;N++){let I=i[N];I>u&&(S|=1<<o-1-N,h++,v+=I)}if(h===3){for(let N=0;N<o&&h>0;N++){let I=i[N];if(I>u&&(h--,I*2>=v))return-1}return S}}while(h>3);return-1}static patternToChar(i){for(let o=0;o<lr.CHARACTER_ENCODINGS.length;o++)if(lr.CHARACTER_ENCODINGS[o]===i)return lr.ALPHABET_STRING.charAt(o);if(i===lr.ASTERISK_ENCODING)return"*";throw new Z}static decodeExtended(i){let o=i.length,u="";for(let h=0;h<o;h++){let p=i.charAt(h);if(p==="+"||p==="$"||p==="%"||p==="/"){let v=i.charAt(h+1),S="\0";switch(p){case"+":if(v>="A"&&v<="Z")S=String.fromCharCode(v.charCodeAt(0)+32);else throw new L;break;case"$":if(v>="A"&&v<="Z")S=String.fromCharCode(v.charCodeAt(0)-64);else throw new L;break;case"%":if(v>="A"&&v<="E")S=String.fromCharCode(v.charCodeAt(0)-38);else if(v>="F"&&v<="J")S=String.fromCharCode(v.charCodeAt(0)-11);else if(v>="K"&&v<="O")S=String.fromCharCode(v.charCodeAt(0)+16);else if(v>="P"&&v<="T")S=String.fromCharCode(v.charCodeAt(0)+43);else if(v==="U")S="\0";else if(v==="V")S="@";else if(v==="W")S="`";else if(v==="X"||v==="Y"||v==="Z")S="";else throw new L;break;case"/":if(v>="A"&&v<="O")S=String.fromCharCode(v.charCodeAt(0)-32);else if(v==="Z")S=":";else throw new L;break}u+=S,h++}else u+=p}return u}}lr.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",lr.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],lr.ASTERISK_ENCODING=148;class jt extends Qt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,o,u){let h=this.decodeStart(o),p=this.decodeEnd(o),v=new ce;jt.decodeMiddle(o,h[1],p[0],v);let S=v.toString(),N=null;u!=null&&(N=u.get(Y.ALLOWED_LENGTHS)),N==null&&(N=jt.DEFAULT_ALLOWED_LENGTHS);let I=S.length,D=!1,z=0;for(let ae of N){if(I===ae){D=!0;break}ae>z&&(z=ae)}if(!D&&I>z&&(D=!0),!D)throw new L;const H=[new et(h[1],i),new et(p[0],i)];return new ke(S,null,0,H,Q.ITF,new Date().getTime())}static decodeMiddle(i,o,u,h){let p=new Int32Array(10),v=new Int32Array(5),S=new Int32Array(5);for(p.fill(0),v.fill(0),S.fill(0);o<u;){Qt.recordPattern(i,o,p);for(let I=0;I<5;I++){let D=2*I;v[I]=p[D],S[I]=p[D+1]}let N=jt.decodeDigit(v);h.append(N.toString()),N=this.decodeDigit(S),h.append(N.toString()),p.forEach(function(I){o+=I})}}decodeStart(i){let o=jt.skipWhiteSpace(i),u=jt.findGuardPattern(i,o,jt.START_PATTERN);return this.narrowLineWidth=(u[1]-u[0])/4,this.validateQuietZone(i,u[0]),u}validateQuietZone(i,o){let u=this.narrowLineWidth*10;u=u<o?u:o;for(let h=o-1;u>0&&h>=0&&!i.get(h);h--)u--;if(u!==0)throw new Z}static skipWhiteSpace(i){const o=i.getSize(),u=i.getNextSet(0);if(u===o)throw new Z;return u}decodeEnd(i){i.reverse();try{let o=jt.skipWhiteSpace(i),u;try{u=jt.findGuardPattern(i,o,jt.END_PATTERN_REVERSED[0])}catch(p){p instanceof Z&&(u=jt.findGuardPattern(i,o,jt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,u[0]);let h=u[0];return u[0]=i.getSize()-u[1],u[1]=i.getSize()-h,u}finally{i.reverse()}}static findGuardPattern(i,o,u){let h=u.length,p=new Int32Array(h),v=i.getSize(),S=!1,N=0,I=o;p.fill(0);for(let D=o;D<v;D++)if(i.get(D)!==S)p[N]++;else{if(N===h-1){if(Qt.patternMatchVariance(p,u,jt.MAX_INDIVIDUAL_VARIANCE)<jt.MAX_AVG_VARIANCE)return[I,D];I+=p[0]+p[1],M.arraycopy(p,2,p,0,N-1),p[N-1]=0,p[N]=0,N--}else N++;p[N]=1,S=!S}throw new Z}static decodeDigit(i){let o=jt.MAX_AVG_VARIANCE,u=-1,h=jt.PATTERNS.length;for(let p=0;p<h;p++){let v=jt.PATTERNS[p],S=Qt.patternMatchVariance(i,v,jt.MAX_INDIVIDUAL_VARIANCE);S<o?(o=S,u=p):S===o&&(u=-1)}if(u>=0)return u%10;throw new Z}}jt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],jt.MAX_AVG_VARIANCE=.38,jt.MAX_INDIVIDUAL_VARIANCE=.5,jt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],jt.START_PATTERN=Int32Array.from([1,1,1,1]),jt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class ge extends Qt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let o=!1,u,h=0,p=Int32Array.from([0,0,0]);for(;!o;){p=Int32Array.from([0,0,0]),u=ge.findGuardPattern(i,h,!1,this.START_END_PATTERN,p);let v=u[0];h=u[1];let S=v-(h-v);S>=0&&(o=i.isRange(S,v,!1))}return u}static checkChecksum(i){return ge.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let o=i.length;if(o===0)return!1;let u=parseInt(i.charAt(o-1),10);return ge.getStandardUPCEANChecksum(i.substring(0,o-1))===u}static getStandardUPCEANChecksum(i){let o=i.length,u=0;for(let h=o-1;h>=0;h-=2){let p=i.charAt(h).charCodeAt(0)-48;if(p<0||p>9)throw new L;u+=p}u*=3;for(let h=o-2;h>=0;h-=2){let p=i.charAt(h).charCodeAt(0)-48;if(p<0||p>9)throw new L;u+=p}return(1e3-u)%10}static decodeEnd(i,o){return ge.findGuardPattern(i,o,!1,ge.START_END_PATTERN,new Int32Array(ge.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,o,u,h){return this.findGuardPattern(i,o,u,h,new Int32Array(h.length))}static findGuardPattern(i,o,u,h,p){let v=i.getSize();o=u?i.getNextUnset(o):i.getNextSet(o);let S=0,N=o,I=h.length,D=u;for(let z=o;z<v;z++)if(i.get(z)!==D)p[S]++;else{if(S===I-1){if(Qt.patternMatchVariance(p,h,ge.MAX_INDIVIDUAL_VARIANCE)<ge.MAX_AVG_VARIANCE)return Int32Array.from([N,z]);N+=p[0]+p[1];let H=p.slice(2,p.length-1);for(let W=0;W<S-1;W++)p[W]=H[W];p[S-1]=0,p[S]=0,S--}else S++;p[S]=1,D=!D}throw new Z}static decodeDigit(i,o,u,h){this.recordPattern(i,u,o);let p=this.MAX_AVG_VARIANCE,v=-1,S=h.length;for(let N=0;N<S;N++){let I=h[N],D=Qt.patternMatchVariance(o,I,ge.MAX_INDIVIDUAL_VARIANCE);D<p&&(p=D,v=N)}if(v>=0)return v;throw new Z}}ge.MAX_AVG_VARIANCE=.48,ge.MAX_INDIVIDUAL_VARIANCE=.7,ge.START_END_PATTERN=Int32Array.from([1,1,1]),ge.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),ge.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ge.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Me{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,o,u){let h=this.decodeRowStringBuffer,p=this.decodeMiddle(o,u,h),v=h.toString(),S=Me.parseExtensionString(v),N=[new et((u[0]+u[1])/2,i),new et(p,i)],I=new ke(v,null,0,N,Q.UPC_EAN_EXTENSION,new Date().getTime());return S!=null&&I.putAllMetadata(S),I}decodeMiddle(i,o,u){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let p=i.getSize(),v=o[1],S=0;for(let I=0;I<5&&v<p;I++){let D=ge.decodeDigit(i,h,v,ge.L_AND_G_PATTERNS);u+=String.fromCharCode(48+D%10);for(let z of h)v+=z;D>=10&&(S|=1<<4-I),I!==4&&(v=i.getNextSet(v),v=i.getNextUnset(v))}if(u.length!==5)throw new Z;let N=this.determineCheckDigit(S);if(Me.extensionChecksum(u.toString())!==N)throw new Z;return v}static extensionChecksum(i){let o=i.length,u=0;for(let h=o-2;h>=0;h-=2)u+=i.charAt(h).charCodeAt(0)-48;u*=3;for(let h=o-1;h>=0;h-=2)u+=i.charAt(h).charCodeAt(0)-48;return u*=3,u%10}determineCheckDigit(i){for(let o=0;o<10;o++)if(i===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new Z}static parseExtensionString(i){if(i.length!==5)return null;let o=Me.parseExtension5String(i);return o==null?null:new Map([[Ze.SUGGESTED_PRICE,o]])}static parseExtension5String(i){let o;switch(i.charAt(0)){case"0":o="";break;case"5":o="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let u=parseInt(i.substring(1)),h=(u/100).toString(),p=u%100,v=p<10?"0"+p:p.toString();return o+h+"."+v}}class Ue{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,o,u){let h=this.decodeRowStringBuffer,p=this.decodeMiddle(o,u,h),v=h.toString(),S=Ue.parseExtensionString(v),N=[new et((u[0]+u[1])/2,i),new et(p,i)],I=new ke(v,null,0,N,Q.UPC_EAN_EXTENSION,new Date().getTime());return S!=null&&I.putAllMetadata(S),I}decodeMiddle(i,o,u){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let p=i.getSize(),v=o[1],S=0;for(let N=0;N<2&&v<p;N++){let I=ge.decodeDigit(i,h,v,ge.L_AND_G_PATTERNS);u+=String.fromCharCode(48+I%10);for(let D of h)v+=D;I>=10&&(S|=1<<1-N),N!==1&&(v=i.getNextSet(v),v=i.getNextUnset(v))}if(u.length!==2)throw new Z;if(parseInt(u.toString())%4!==S)throw new Z;return v}static parseExtensionString(i){return i.length!==2?null:new Map([[Ze.ISSUE_NUMBER,parseInt(i)]])}}class Ge{static decodeRow(i,o,u){let h=ge.findGuardPattern(o,u,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Me().decodeRow(i,o,h)}catch{return new Ue().decodeRow(i,o,h)}}}Ge.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ve extends ge{constructor(){super(),this.decodeRowStringBuffer="",Ve.L_AND_G_PATTERNS=Ve.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let o=Ve.L_PATTERNS[i-10],u=new Int32Array(o.length);for(let h=0;h<o.length;h++)u[h]=o[o.length-h-1];Ve.L_AND_G_PATTERNS[i]=u}}decodeRow(i,o,u){let h=Ve.findStartGuardPattern(o),p=u==null?null:u.get(Y.NEED_RESULT_POINT_CALLBACK);if(p!=null){const Fe=new et((h[0]+h[1])/2,i);p.foundPossibleResultPoint(Fe)}let v=this.decodeMiddle(o,h,this.decodeRowStringBuffer),S=v.rowOffset,N=v.resultString;if(p!=null){const Fe=new et(S,i);p.foundPossibleResultPoint(Fe)}let I=this.decodeEnd(o,S);if(p!=null){const Fe=new et((I[0]+I[1])/2,i);p.foundPossibleResultPoint(Fe)}let D=I[1],z=D+(D-I[0]);if(z>=o.getSize()||!o.isRange(D,z,!1))throw new Z;let H=N.toString();if(H.length<8)throw new L;if(!Ve.checkChecksum(H))throw new _;let W=(h[1]+h[0])/2,ae=(I[1]+I[0])/2,se=this.getBarcodeFormat(),xe=[new et(W,i),new et(ae,i)],Ae=new ke(H,null,0,xe,se,new Date().getTime()),Xe=0;try{let Fe=Ge.decodeRow(i,o,I[1]);Ae.putMetadata(Ze.UPC_EAN_EXTENSION,Fe.getText()),Ae.putAllMetadata(Fe.getResultMetadata()),Ae.addResultPoints(Fe.getResultPoints()),Xe=Fe.getText().length}catch{}let qe=u==null?null:u.get(Y.ALLOWED_EAN_EXTENSIONS);if(qe!=null){let Fe=!1;for(let Ft in qe)if(Xe.toString()===Ft){Fe=!0;break}if(!Fe)throw new Z}return Ae}decodeEnd(i,o){return Ve.findGuardPattern(i,o,!1,Ve.START_END_PATTERN,new Int32Array(Ve.START_END_PATTERN.length).fill(0))}static checkChecksum(i){return Ve.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let o=i.length;if(o===0)return!1;let u=parseInt(i.charAt(o-1),10);return Ve.getStandardUPCEANChecksum(i.substring(0,o-1))===u}static getStandardUPCEANChecksum(i){let o=i.length,u=0;for(let h=o-1;h>=0;h-=2){let p=i.charAt(h).charCodeAt(0)-48;if(p<0||p>9)throw new L;u+=p}u*=3;for(let h=o-2;h>=0;h-=2){let p=i.charAt(h).charCodeAt(0)-48;if(p<0||p>9)throw new L;u+=p}return(1e3-u)%10}}class mt extends Ve{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,o,u){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let p=i.getSize(),v=o[1],S=0;for(let I=0;I<6&&v<p;I++){let D=Ve.decodeDigit(i,h,v,Ve.L_AND_G_PATTERNS);u+=String.fromCharCode(48+D%10);for(let z of h)v+=z;D>=10&&(S|=1<<5-I)}u=mt.determineFirstDigit(u,S),v=Ve.findGuardPattern(i,v,!0,Ve.MIDDLE_PATTERN,new Int32Array(Ve.MIDDLE_PATTERN.length).fill(0))[1];for(let I=0;I<6&&v<p;I++){let D=Ve.decodeDigit(i,h,v,Ve.L_PATTERNS);u+=String.fromCharCode(48+D);for(let z of h)v+=z}return{rowOffset:v,resultString:u}}getBarcodeFormat(){return Q.EAN_13}static determineFirstDigit(i,o){for(let u=0;u<10;u++)if(o===this.FIRST_DIGIT_ENCODINGS[u])return i=String.fromCharCode(48+u)+i,i;throw new Z}}mt.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class wt extends Ve{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,o,u){const h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let p=i.getSize(),v=o[1];for(let N=0;N<4&&v<p;N++){let I=Ve.decodeDigit(i,h,v,Ve.L_PATTERNS);u+=String.fromCharCode(48+I);for(let D of h)v+=D}v=Ve.findGuardPattern(i,v,!0,Ve.MIDDLE_PATTERN,new Int32Array(Ve.MIDDLE_PATTERN.length).fill(0))[1];for(let N=0;N<4&&v<p;N++){let I=Ve.decodeDigit(i,h,v,Ve.L_PATTERNS);u+=String.fromCharCode(48+I);for(let D of h)v+=D}return{rowOffset:v,resultString:u}}getBarcodeFormat(){return Q.EAN_8}}class Jt extends Ve{constructor(){super(...arguments),this.ean13Reader=new mt}getBarcodeFormat(){return Q.UPC_A}decode(i,o){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,o,u){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,o,u))}decodeMiddle(i,o,u){return this.ean13Reader.decodeMiddle(i,o,u)}maybeReturnResult(i){let o=i.getText();if(o.charAt(0)==="0"){let u=new ke(o.substring(1),null,null,i.getResultPoints(),Q.UPC_A);return i.getResultMetadata()!=null&&u.putAllMetadata(i.getResultMetadata()),u}else throw new Z}reset(){this.ean13Reader.reset()}}class _t extends Ve{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,o,u){const h=this.decodeMiddleCounters.map(I=>I);h[0]=0,h[1]=0,h[2]=0,h[3]=0;const p=i.getSize();let v=o[1],S=0;for(let I=0;I<6&&v<p;I++){const D=_t.decodeDigit(i,h,v,_t.L_AND_G_PATTERNS);u+=String.fromCharCode(48+D%10);for(let z of h)v+=z;D>=10&&(S|=1<<5-I)}let N=_t.determineNumSysAndCheckDigit(u,S);return{rowOffset:v,resultString:N}}decodeEnd(i,o){return _t.findGuardPatternWithoutCounters(i,o,!0,_t.MIDDLE_END_PATTERN)}checkChecksum(i){return Ve.checkChecksum(_t.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,o){for(let u=0;u<=1;u++)for(let h=0;h<10;h++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[u][h]){let p=String.fromCharCode(48+u),v=String.fromCharCode(48+h);return p+i+v}throw Z.getNotFoundInstance()}getBarcodeFormat(){return Q.UPC_E}static convertUPCEtoUPCA(i){const o=i.slice(1,7).split("").map(p=>p.charCodeAt(0)),u=new ce;u.append(i.charAt(0));let h=o[5];switch(h){case 0:case 1:case 2:u.appendChars(o,0,2),u.append(h),u.append("0000"),u.appendChars(o,2,3);break;case 3:u.appendChars(o,0,3),u.append("00000"),u.appendChars(o,3,2);break;case 4:u.appendChars(o,0,4),u.append("00000"),u.append(o[4]);break;default:u.appendChars(o,0,5),u.append("0000"),u.append(h);break}return i.length>=8&&u.append(i.charAt(7)),u.toString()}}_t.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),_t.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class tr extends Qt{constructor(i){super();let o=i==null?null:i.get(Y.POSSIBLE_FORMATS),u=[];n(o)?(u.push(new mt),u.push(new Jt),u.push(new wt),u.push(new _t)):(o.indexOf(Q.EAN_13)>-1&&u.push(new mt),o.indexOf(Q.UPC_A)>-1&&u.push(new Jt),o.indexOf(Q.EAN_8)>-1&&u.push(new wt),o.indexOf(Q.UPC_E)>-1&&u.push(new _t)),this.readers=u}decodeRow(i,o,u){for(let h of this.readers)try{const p=h.decodeRow(i,o,u),v=p.getBarcodeFormat()===Q.EAN_13&&p.getText().charAt(0)==="0",S=u==null?null:u.get(Y.POSSIBLE_FORMATS),N=S==null||S.includes(Q.UPC_A);if(v&&N){const I=p.getRawBytes(),D=new ke(p.getText().substring(1),I,I?I.length:null,p.getResultPoints(),Q.UPC_A);return D.putAllMetadata(p.getResultMetadata()),D}return p}catch{}throw new Z}reset(){for(let i of this.readers)i.reset()}}class yt extends Qt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(i,o){for(let u=0;u<o.length;u++)if(Qt.patternMatchVariance(i,o[u],yt.MAX_INDIVIDUAL_VARIANCE)<yt.MAX_AVG_VARIANCE)return u;throw new Z}static count(i){return lt.sum(new Int32Array(i))}static increment(i,o){let u=0,h=o[0];for(let p=1;p<i.length;p++)o[p]>h&&(h=o[p],u=p);i[u]++}static decrement(i,o){let u=0,h=o[0];for(let p=1;p<i.length;p++)o[p]<h&&(h=o[p],u=p);i[u]--}static isFinderPattern(i){let o=i[0]+i[1],u=o+i[2]+i[3],h=o/u;if(h>=yt.MIN_FINDER_PATTERN_RATIO&&h<=yt.MAX_FINDER_PATTERN_RATIO){let p=Number.MAX_SAFE_INTEGER,v=Number.MIN_SAFE_INTEGER;for(let S of i)S>v&&(v=S),S<p&&(p=S);return v<10*p}return!1}}yt.MAX_AVG_VARIANCE=.2,yt.MAX_INDIVIDUAL_VARIANCE=.45,yt.MIN_FINDER_PATTERN_RATIO=9.5/12,yt.MAX_FINDER_PATTERN_RATIO=12.5/14;class mr{constructor(i,o){this.value=i,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){if(!(i instanceof mr))return!1;const o=i;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Cr{constructor(i,o,u,h,p){this.value=i,this.startEnd=o,this.value=i,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new et(u,p)),this.resultPoints.push(new et(h,p))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){if(!(i instanceof Cr))return!1;const o=i;return this.value===o.value}hashCode(){return this.value}}class rr{constructor(){}static getRSSvalue(i,o,u){let h=0;for(let N of i)h+=N;let p=0,v=0,S=i.length;for(let N=0;N<S-1;N++){let I;for(I=1,v|=1<<N;I<i[N];I++,v&=~(1<<N)){let D=rr.combins(h-I-1,S-N-2);if(u&&v===0&&h-I-(S-N-1)>=S-N-1&&(D-=rr.combins(h-I-(S-N),S-N-2)),S-N-1>1){let z=0;for(let H=h-I-(S-N-2);H>o;H--)z+=rr.combins(h-I-H-1,S-N-3);D-=z*(S-1-N)}else h-I>o&&D--;p+=D}h-=I}return p}static combins(i,o){let u,h;i-o>o?(h=o,u=i-o):(h=i-o,u=o);let p=1,v=1;for(let S=i;S>u;S--)p*=S,v<=h&&(p/=v,v++);for(;v<=h;)p/=v,v++;return p}}class Gn{static buildBitArray(i){let o=i.length*2-1;i[i.length-1].getRightChar()==null&&(o-=1);let u=12*o,h=new V(u),p=0,S=i[0].getRightChar().getValue();for(let N=11;N>=0;--N)(S&1<<N)!=0&&h.set(p),p++;for(let N=1;N<i.length;++N){let I=i[N],D=I.getLeftChar().getValue();for(let z=11;z>=0;--z)(D&1<<z)!=0&&h.set(p),p++;if(I.getRightChar()!=null){let z=I.getRightChar().getValue();for(let H=11;H>=0;--H)(z&1<<H)!=0&&h.set(p),p++}}return h}}class an{constructor(i,o){o?this.decodedInformation=null:(this.finished=i,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ra{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}class kr extends Ra{constructor(i,o){super(i),this.value=o}getValue(){return this.value}isFNC1(){return this.value===kr.FNC1}}kr.FNC1="$";class sa extends Ra{constructor(i,o,u){super(i),u?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class sn extends Ra{constructor(i,o,u){if(super(i),o<0||o>10||u<0||u>10)throw new L;this.firstDigit=o,this.secondDigit=u}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===sn.FNC1}isSecondDigitFNC1(){return this.secondDigit===sn.FNC1}isAnyFNC1(){return this.firstDigit===sn.FNC1||this.secondDigit===sn.FNC1}}sn.FNC1=10;class ze{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new Z;let o=i.substring(0,2);for(let p of ze.TWO_DIGIT_DATA_LENGTH)if(p[0]===o)return p[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(2,p[2],i):ze.processFixedAI(2,p[1],i);if(i.length<3)throw new Z;let u=i.substring(0,3);for(let p of ze.THREE_DIGIT_DATA_LENGTH)if(p[0]===u)return p[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(3,p[2],i):ze.processFixedAI(3,p[1],i);for(let p of ze.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(p[0]===u)return p[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(4,p[2],i):ze.processFixedAI(4,p[1],i);if(i.length<4)throw new Z;let h=i.substring(0,4);for(let p of ze.FOUR_DIGIT_DATA_LENGTH)if(p[0]===h)return p[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(4,p[2],i):ze.processFixedAI(4,p[1],i);throw new Z}static processFixedAI(i,o,u){if(u.length<i)throw new Z;let h=u.substring(0,i);if(u.length<i+o)throw new Z;let p=u.substring(i,i+o),v=u.substring(i+o),S="("+h+")"+p,N=ze.parseFieldsInGeneralPurpose(v);return N==null?S:S+N}static processVariableAI(i,o,u){let h=u.substring(0,i),p;u.length<i+o?p=u.length:p=i+o;let v=u.substring(i,p),S=u.substring(p),N="("+h+")"+v,I=ze.parseFieldsInGeneralPurpose(S);return I==null?N:N+I}}ze.VARIABLE_LENGTH=[],ze.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ze.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ze.VARIABLE_LENGTH,20],["22",ze.VARIABLE_LENGTH,29],["30",ze.VARIABLE_LENGTH,8],["37",ze.VARIABLE_LENGTH,8],["90",ze.VARIABLE_LENGTH,30],["91",ze.VARIABLE_LENGTH,30],["92",ze.VARIABLE_LENGTH,30],["93",ze.VARIABLE_LENGTH,30],["94",ze.VARIABLE_LENGTH,30],["95",ze.VARIABLE_LENGTH,30],["96",ze.VARIABLE_LENGTH,30],["97",ze.VARIABLE_LENGTH,3],["98",ze.VARIABLE_LENGTH,30],["99",ze.VARIABLE_LENGTH,30]],ze.THREE_DIGIT_DATA_LENGTH=[["240",ze.VARIABLE_LENGTH,30],["241",ze.VARIABLE_LENGTH,30],["242",ze.VARIABLE_LENGTH,6],["250",ze.VARIABLE_LENGTH,30],["251",ze.VARIABLE_LENGTH,30],["253",ze.VARIABLE_LENGTH,17],["254",ze.VARIABLE_LENGTH,20],["400",ze.VARIABLE_LENGTH,30],["401",ze.VARIABLE_LENGTH,30],["402",17],["403",ze.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ze.VARIABLE_LENGTH,20],["421",ze.VARIABLE_LENGTH,15],["422",3],["423",ze.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ze.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ze.VARIABLE_LENGTH,15],["391",ze.VARIABLE_LENGTH,18],["392",ze.VARIABLE_LENGTH,15],["393",ze.VARIABLE_LENGTH,18],["703",ze.VARIABLE_LENGTH,30]],ze.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ze.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ze.VARIABLE_LENGTH,20],["8003",ze.VARIABLE_LENGTH,30],["8004",ze.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ze.VARIABLE_LENGTH,30],["8008",ze.VARIABLE_LENGTH,12],["8018",18],["8020",ze.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ze.VARIABLE_LENGTH,70],["8200",ze.VARIABLE_LENGTH,70]];class Mt{constructor(i){this.buffer=new ce,this.information=i}decodeAllCodes(i,o){let u=o,h=null;do{let p=this.decodeGeneralPurposeField(u,h),v=ze.parseFieldsInGeneralPurpose(p.getNewString());if(v!=null&&i.append(v),p.isRemaining()?h=""+p.getRemainingValue():h=null,u===p.getNewPosition())break;u=p.getNewPosition()}while(!0);return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let o=i;o<i+3;++o)if(this.information.get(o))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let p=this.extractNumericValueFromBitArray(i,4);return p===0?new sn(this.information.getSize(),sn.FNC1,sn.FNC1):new sn(this.information.getSize(),p-1,sn.FNC1)}let o=this.extractNumericValueFromBitArray(i,7),u=(o-8)/11,h=(o-8)%11;return new sn(i+7,u,h)}extractNumericValueFromBitArray(i,o){return Mt.extractNumericValueFromBitArray(this.information,i,o)}static extractNumericValueFromBitArray(i,o,u){let h=0;for(let p=0;p<u;++p)i.get(o+p)&&(h|=1<<u-p-1);return h}decodeGeneralPurposeField(i,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(i);let u=this.parseBlocks();return u!=null&&u.isRemaining()?new sa(this.current.getPosition(),this.buffer.toString(),u.getRemainingValue()):new sa(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,o;do{let u=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),i=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),i=o.isFinished()):(o=this.parseNumericBlock(),i=o.isFinished()),!(u!==this.current.getPosition())&&!i)break}while(!i);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let o;return i.isSecondDigitFNC1()?o=new sa(this.current.getPosition(),this.buffer.toString()):o=new sa(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new an(!0,o)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let o=new sa(this.current.getPosition(),this.buffer.toString());return new an(!0,o)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new an(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let o=new sa(this.current.getPosition(),this.buffer.toString());return new an(!0,o)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new an(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let o=new sa(this.current.getPosition(),this.buffer.toString());return new an(!0,o)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new an(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(i,5);if(o>=5&&o<16)return!0;if(i+7>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(i,7);if(u>=64&&u<116)return!0;if(i+8>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(i,8);return h>=232&&h<253}decodeIsoIec646(i){let o=this.extractNumericValueFromBitArray(i,5);if(o===15)return new kr(i+5,kr.FNC1);if(o>=5&&o<15)return new kr(i+5,"0"+(o-5));let u=this.extractNumericValueFromBitArray(i,7);if(u>=64&&u<90)return new kr(i+7,""+(u+1));if(u>=90&&u<116)return new kr(i+7,""+(u+7));let h=this.extractNumericValueFromBitArray(i,8),p;switch(h){case 232:p="!";break;case 233:p='"';break;case 234:p="%";break;case 235:p="&";break;case 236:p="'";break;case 237:p="(";break;case 238:p=")";break;case 239:p="*";break;case 240:p="+";break;case 241:p=",";break;case 242:p="-";break;case 243:p=".";break;case 244:p="/";break;case 245:p=":";break;case 246:p=";";break;case 247:p="<";break;case 248:p="=";break;case 249:p=">";break;case 250:p="?";break;case 251:p="_";break;case 252:p=" ";break;default:throw new L}return new kr(i+8,p)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(i,5);if(o>=5&&o<16)return!0;if(i+6>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(i,6);return u>=16&&u<63}decodeAlphanumeric(i){let o=this.extractNumericValueFromBitArray(i,5);if(o===15)return new kr(i+5,kr.FNC1);if(o>=5&&o<15)return new kr(i+5,"0"+(o-5));let u=this.extractNumericValueFromBitArray(i,6);if(u>=32&&u<58)return new kr(i+6,""+(u+33));let h;switch(u){case 58:h="*";break;case 59:h=",";break;case 60:h="-";break;case 61:h=".";break;case 62:h="/";break;default:throw new Ie("Decoding invalid alphanumeric value: "+u)}return new kr(i+6,h)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let o=0;o<5&&o+i<this.information.getSize();++o)if(o===2){if(!this.information.get(i+2))return!1}else if(this.information.get(i+o))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let o=i;o<i+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let o=0;o<4&&o+i<this.information.getSize();++o)if(this.information.get(i+o))return!1;return!0}}class Vt{constructor(i){this.information=i,this.generalDecoder=new Mt(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class nr extends Vt{constructor(i){super(i)}encodeCompressedGtin(i,o){i.append("(01)");let u=i.length();i.append("9"),this.encodeCompressedGtinWithoutAI(i,o,u)}encodeCompressedGtinWithoutAI(i,o,u){for(let h=0;h<4;++h){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*h,10);p/100===0&&i.append("0"),p/10===0&&i.append("0"),i.append(p)}nr.appendCheckDigit(i,u)}static appendCheckDigit(i,o){let u=0;for(let h=0;h<13;h++){let p=i.charAt(h+o).charCodeAt(0)-48;u+=(h&1)===0?3*p:p}u=10-u%10,u===10&&(u=0),i.append(u)}}nr.GTIN_SIZE=40;class _n extends nr{constructor(i){super(i)}parseInformation(){let i=new ce;i.append("(01)");let o=i.length(),u=this.getGeneralDecoder().extractNumericValueFromBitArray(_n.HEADER_SIZE,4);return i.append(u),this.encodeCompressedGtinWithoutAI(i,_n.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(i,_n.HEADER_SIZE+44)}}_n.HEADER_SIZE=4;class ti extends Vt{constructor(i){super(i)}parseInformation(){let i=new ce;return this.getGeneralDecoder().decodeAllCodes(i,ti.HEADER_SIZE)}}ti.HEADER_SIZE=5;class Si extends nr{constructor(i){super(i)}encodeCompressedWeight(i,o,u){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(o,u);this.addWeightCode(i,h);let p=this.checkWeight(h),v=1e5;for(let S=0;S<5;++S)p/v===0&&i.append("0"),v/=10;i.append(p)}}class ea extends Si{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()!=ea.HEADER_SIZE+Si.GTIN_SIZE+ea.WEIGHT_SIZE)throw new Z;let i=new ce;return this.encodeCompressedGtin(i,ea.HEADER_SIZE),this.encodeCompressedWeight(i,ea.HEADER_SIZE+Si.GTIN_SIZE,ea.WEIGHT_SIZE),i.toString()}}ea.HEADER_SIZE=5,ea.WEIGHT_SIZE=15;class Fi extends ea{constructor(i){super(i)}addWeightCode(i,o){i.append("(3103)")}checkWeight(i){return i}}class ln extends ea{constructor(i){super(i)}addWeightCode(i,o){o<1e4?i.append("(3202)"):i.append("(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}class Vn extends nr{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<Vn.HEADER_SIZE+nr.GTIN_SIZE)throw new Z;let i=new ce;this.encodeCompressedGtin(i,Vn.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Vn.HEADER_SIZE+nr.GTIN_SIZE,Vn.LAST_DIGIT_SIZE);i.append("(392"),i.append(o),i.append(")");let u=this.getGeneralDecoder().decodeGeneralPurposeField(Vn.HEADER_SIZE+nr.GTIN_SIZE+Vn.LAST_DIGIT_SIZE,null);return i.append(u.getNewString()),i.toString()}}Vn.HEADER_SIZE=8,Vn.LAST_DIGIT_SIZE=2;class zr extends nr{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<zr.HEADER_SIZE+nr.GTIN_SIZE)throw new Z;let i=new ce;this.encodeCompressedGtin(i,zr.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(zr.HEADER_SIZE+nr.GTIN_SIZE,zr.LAST_DIGIT_SIZE);i.append("(393"),i.append(o),i.append(")");let u=this.getGeneralDecoder().extractNumericValueFromBitArray(zr.HEADER_SIZE+nr.GTIN_SIZE+zr.LAST_DIGIT_SIZE,zr.FIRST_THREE_DIGITS_SIZE);u/100==0&&i.append("0"),u/10==0&&i.append("0"),i.append(u);let h=this.getGeneralDecoder().decodeGeneralPurposeField(zr.HEADER_SIZE+nr.GTIN_SIZE+zr.LAST_DIGIT_SIZE+zr.FIRST_THREE_DIGITS_SIZE,null);return i.append(h.getNewString()),i.toString()}}zr.HEADER_SIZE=8,zr.LAST_DIGIT_SIZE=2,zr.FIRST_THREE_DIGITS_SIZE=10;class er extends Si{constructor(i,o,u){super(i),this.dateCode=u,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=er.HEADER_SIZE+er.GTIN_SIZE+er.WEIGHT_SIZE+er.DATE_SIZE)throw new Z;let i=new ce;return this.encodeCompressedGtin(i,er.HEADER_SIZE),this.encodeCompressedWeight(i,er.HEADER_SIZE+er.GTIN_SIZE,er.WEIGHT_SIZE),this.encodeCompressedDate(i,er.HEADER_SIZE+er.GTIN_SIZE+er.WEIGHT_SIZE),i.toString()}encodeCompressedDate(i,o){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(o,er.DATE_SIZE);if(u==38400)return;i.append("("),i.append(this.dateCode),i.append(")");let h=u%32;u/=32;let p=u%12+1;u/=12;let v=u;v/10==0&&i.append("0"),i.append(v),p/10==0&&i.append("0"),i.append(p),h/10==0&&i.append("0"),i.append(h)}addWeightCode(i,o){i.append("("),i.append(this.firstAIdigits),i.append(o/1e5),i.append(")")}checkWeight(i){return i%1e5}}er.HEADER_SIZE=8,er.WEIGHT_SIZE=20,er.DATE_SIZE=16;function Hi(B){try{if(B.get(1))return new _n(B);if(!B.get(2))return new ti(B);switch(Mt.extractNumericValueFromBitArray(B,1,4)){case 4:return new Fi(B);case 5:return new ln(B)}switch(Mt.extractNumericValueFromBitArray(B,1,5)){case 12:return new Vn(B);case 13:return new zr(B)}switch(Mt.extractNumericValueFromBitArray(B,1,7)){case 56:return new er(B,"310","11");case 57:return new er(B,"320","11");case 58:return new er(B,"310","13");case 59:return new er(B,"320","13");case 60:return new er(B,"310","15");case 61:return new er(B,"320","15");case 62:return new er(B,"310","17");case 63:return new er(B,"320","17")}}catch(i){throw console.log(i),new Ie("unknown decoder: "+B)}}class Yn{constructor(i,o,u,h){this.leftchar=i,this.rightchar=o,this.finderpattern=u,this.maybeLast=h}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(i,o){return i instanceof Yn?Yn.equalsOrNull(i.leftchar,o.leftchar)&&Yn.equalsOrNull(i.rightchar,o.rightchar)&&Yn.equalsOrNull(i.finderpattern,o.finderpattern):!1}static equalsOrNull(i,o){return i===null?o===null:Yn.equals(i,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ur{constructor(i,o,u){this.pairs=i,this.rowNumber=o,this.wasReversed=u}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,o){return i instanceof Ur?this.checkEqualitity(i,o)&&i.wasReversed===o.wasReversed:!1}checkEqualitity(i,o){if(!i||!o)return;let u;return i.forEach((h,p)=>{o.forEach(v=>{h.getLeftChar().getValue()===v.getLeftChar().getValue()&&h.getRightChar().getValue()===v.getRightChar().getValue()&&h.getFinderPatter().getValue()===v.getFinderPatter().getValue()&&(u=!0)})}),u}}class Le extends yt{constructor(i){super(...arguments),this.pairs=new Array(Le.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=i===!0}decodeRow(i,o,u){this.pairs.length=0,this.startFromEven=!1;try{return Le.constructResult(this.decodeRow2pairs(i,o))}catch(h){this.verbose&&console.log(h)}return this.pairs.length=0,this.startFromEven=!0,Le.constructResult(this.decodeRow2pairs(i,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,o){let u=!1;for(;!u;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,i))}catch(p){if(p instanceof Z){if(!this.pairs.length)throw new Z;u=!0}}if(this.checkChecksum())return this.pairs;let h;if(this.rows.length?h=!0:h=!1,this.storeRow(i,!1),h){let p=this.checkRowsBoolean(!1);if(p!=null||(p=this.checkRowsBoolean(!0),p!=null))return p}throw new Z}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(u){this.verbose&&console.log(u)}return i&&(this.rows=this.rows.reverse()),o}checkRows(i,o){for(let u=o;u<this.rows.length;u++){let h=this.rows[u];this.pairs.length=0;for(let v of i)this.pairs.push(v.getPairs());if(this.pairs.push(h.getPairs()),!Le.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let p=new Array(i);p.push(h);try{return this.checkRows(p,u+1)}catch(v){this.verbose&&console.log(v)}}throw new Z}static isValidSequence(i){for(let o of Le.FINDER_PATTERN_SEQUENCES){if(i.length>o.length)continue;let u=!0;for(let h=0;h<i.length;h++)if(i[h].getFinderPattern().getValue()!=o[h]){u=!1;break}if(u)return!0}return!1}storeRow(i,o){let u=0,h=!1,p=!1;for(;u<this.rows.length;){let v=this.rows[u];if(v.getRowNumber()>i){p=v.isEquivalent(this.pairs);break}h=v.isEquivalent(this.pairs),u++}p||h||Le.isPartialRow(this.pairs,this.rows)||(this.rows.push(u,new Ur(this.pairs,i,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,o){for(let u of o)if(u.getPairs().length!==i.length){for(let h of u.getPairs())for(let p of i)if(Yn.equals(h,p))break}}static isPartialRow(i,o){for(let u of o){let h=!0;for(let p of i){let v=!1;for(let S of u.getPairs())if(p.equals(S)){v=!0;break}if(!v){h=!1;break}}if(h)return!0}return!1}getRows(){return this.rows}static constructResult(i){let o=Gn.buildBitArray(i),h=Hi(o).parseInformation(),p=i[0].getFinderPattern().getResultPoints(),v=i[i.length-1].getFinderPattern().getResultPoints(),S=[p[0],p[1],v[0],v[1]];return new ke(h,null,null,S,Q.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),o=i.getLeftChar(),u=i.getRightChar();if(u==null)return!1;let h=u.getChecksumPortion(),p=2;for(let S=1;S<this.pairs.size();++S){let N=this.pairs.get(S);h+=N.getLeftChar().getChecksumPortion(),p++;let I=N.getRightChar();I!=null&&(h+=I.getChecksumPortion(),p++)}return h%=211,211*(p-4)+h==o.getValue()}static getNextSecondBar(i,o){let u;return i.get(o)?(u=i.getNextUnset(o),u=i.getNextSet(u)):(u=i.getNextSet(o),u=i.getNextUnset(u)),u}retrieveNextPair(i,o,u){let h=o.length%2==0;this.startFromEven&&(h=!h);let p,v=!0,S=-1;do this.findNextPair(i,o,S),p=this.parseFoundFinderPattern(i,u,h),p==null?S=Le.getNextSecondBar(i,this.startEnd[0]):v=!1;while(v);let N=this.decodeDataCharacter(i,p,h,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new Z;let I;try{I=this.decodeDataCharacter(i,p,h,!1)}catch(D){I=null,this.verbose&&console.log(D)}return new Yn(N,I,p,!0)}isEmptyPair(i){return i.length===0}findNextPair(i,o,u){let h=this.getDecodeFinderCounters();h[0]=0,h[1]=0,h[2]=0,h[3]=0;let p=i.getSize(),v;u>=0?v=u:this.isEmptyPair(o)?v=0:v=o[o.length-1].getFinderPattern().getStartEnd()[1];let S=o.length%2!=0;this.startFromEven&&(S=!S);let N=!1;for(;v<p&&(N=!i.get(v),!!N);)v++;let I=0,D=v;for(let z=v;z<p;z++)if(i.get(z)!=N)h[I]++;else{if(I==3){if(S&&Le.reverseCounters(h),Le.isFinderPattern(h)){this.startEnd[0]=D,this.startEnd[1]=z;return}S&&Le.reverseCounters(h),D+=h[0]+h[1],h[0]=h[2],h[1]=h[3],h[2]=0,h[3]=0,I--}else I++;h[I]=1,N=!N}throw new Z}static reverseCounters(i){let o=i.length;for(let u=0;u<o/2;++u){let h=i[u];i[u]=i[o-u-1],i[o-u-1]=h}}parseFoundFinderPattern(i,o,u){let h,p,v;if(u){let I=this.startEnd[0]-1;for(;I>=0&&!i.get(I);)I--;I++,h=this.startEnd[0]-I,p=I,v=this.startEnd[1]}else p=this.startEnd[0],v=i.getNextUnset(this.startEnd[1]+1),h=v-this.startEnd[1];let S=this.getDecodeFinderCounters();M.arraycopy(S,0,S,1,S.length-1),S[0]=h;let N;try{N=this.parseFinderValue(S,Le.FINDER_PATTERNS)}catch{return null}return new Cr(N,[p,v],p,v,o)}decodeDataCharacter(i,o,u,h){let p=this.getDataCharacterCounters();for(let dr=0;dr<p.length;dr++)p[dr]=0;if(h)Le.recordPatternInReverse(i,o.getStartEnd()[0],p);else{Le.recordPattern(i,o.getStartEnd()[1],p);for(let dr=0,En=p.length-1;dr<En;dr++,En--){let ca=p[dr];p[dr]=p[En],p[En]=ca}}let v=17,S=lt.sum(new Int32Array(p))/v,N=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(S-N)/N>.3)throw new Z;let I=this.getOddCounts(),D=this.getEvenCounts(),z=this.getOddRoundingErrors(),H=this.getEvenRoundingErrors();for(let dr=0;dr<p.length;dr++){let En=1*p[dr]/S,ca=En+.5;if(ca<1){if(En<.3)throw new Z;ca=1}else if(ca>8){if(En>8.7)throw new Z;ca=8}let gl=dr/2;(dr&1)==0?(I[gl]=ca,z[gl]=En-ca):(D[gl]=ca,H[gl]=En-ca)}this.adjustOddEvenCounts(v);let W=4*o.getValue()+(u?0:2)+(h?0:1)-1,ae=0,se=0;for(let dr=I.length-1;dr>=0;dr--){if(Le.isNotA1left(o,u,h)){let En=Le.WEIGHTS[W][2*dr];se+=I[dr]*En}ae+=I[dr]}let xe=0;for(let dr=D.length-1;dr>=0;dr--)if(Le.isNotA1left(o,u,h)){let En=Le.WEIGHTS[W][2*dr+1];xe+=D[dr]*En}let Ae=se+xe;if((ae&1)!=0||ae>13||ae<4)throw new Z;let Xe=(13-ae)/2,qe=Le.SYMBOL_WIDEST[Xe],Fe=9-qe,Ft=rr.getRSSvalue(I,qe,!0),Pt=rr.getRSSvalue(D,Fe,!1),Kr=Le.EVEN_TOTAL_SUBSET[Xe],Aa=Le.GSUM[Xe],qn=Ft*Kr+Pt+Aa;return new mr(qn,Ae)}static isNotA1left(i,o,u){return!(i.getValue()==0&&o&&u)}adjustOddEvenCounts(i){let o=lt.sum(new Int32Array(this.getOddCounts())),u=lt.sum(new Int32Array(this.getEvenCounts())),h=!1,p=!1;o>13?p=!0:o<4&&(h=!0);let v=!1,S=!1;u>13?S=!0:u<4&&(v=!0);let N=o+u-i,I=(o&1)==1,D=(u&1)==0;if(N==1)if(I){if(D)throw new Z;p=!0}else{if(!D)throw new Z;S=!0}else if(N==-1)if(I){if(D)throw new Z;h=!0}else{if(!D)throw new Z;v=!0}else if(N==0){if(I){if(!D)throw new Z;o<u?(h=!0,S=!0):(p=!0,v=!0)}else if(D)throw new Z}else throw new Z;if(h){if(p)throw new Z;Le.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(p&&Le.decrement(this.getOddCounts(),this.getOddRoundingErrors()),v){if(S)throw new Z;Le.increment(this.getEvenCounts(),this.getOddRoundingErrors())}S&&Le.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Le.SYMBOL_WIDEST=[7,5,4,3,1],Le.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Le.GSUM=[0,348,1388,2948,3988],Le.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Le.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Le.FINDER_PAT_A=0,Le.FINDER_PAT_B=1,Le.FINDER_PAT_C=2,Le.FINDER_PAT_D=3,Le.FINDER_PAT_E=4,Le.FINDER_PAT_F=5,Le.FINDER_PATTERN_SEQUENCES=[[Le.FINDER_PAT_A,Le.FINDER_PAT_A],[Le.FINDER_PAT_A,Le.FINDER_PAT_B,Le.FINDER_PAT_B],[Le.FINDER_PAT_A,Le.FINDER_PAT_C,Le.FINDER_PAT_B,Le.FINDER_PAT_D],[Le.FINDER_PAT_A,Le.FINDER_PAT_E,Le.FINDER_PAT_B,Le.FINDER_PAT_D,Le.FINDER_PAT_C],[Le.FINDER_PAT_A,Le.FINDER_PAT_E,Le.FINDER_PAT_B,Le.FINDER_PAT_D,Le.FINDER_PAT_D,Le.FINDER_PAT_F],[Le.FINDER_PAT_A,Le.FINDER_PAT_E,Le.FINDER_PAT_B,Le.FINDER_PAT_D,Le.FINDER_PAT_E,Le.FINDER_PAT_F,Le.FINDER_PAT_F],[Le.FINDER_PAT_A,Le.FINDER_PAT_A,Le.FINDER_PAT_B,Le.FINDER_PAT_B,Le.FINDER_PAT_C,Le.FINDER_PAT_C,Le.FINDER_PAT_D,Le.FINDER_PAT_D],[Le.FINDER_PAT_A,Le.FINDER_PAT_A,Le.FINDER_PAT_B,Le.FINDER_PAT_B,Le.FINDER_PAT_C,Le.FINDER_PAT_C,Le.FINDER_PAT_D,Le.FINDER_PAT_E,Le.FINDER_PAT_E],[Le.FINDER_PAT_A,Le.FINDER_PAT_A,Le.FINDER_PAT_B,Le.FINDER_PAT_B,Le.FINDER_PAT_C,Le.FINDER_PAT_C,Le.FINDER_PAT_D,Le.FINDER_PAT_E,Le.FINDER_PAT_F,Le.FINDER_PAT_F],[Le.FINDER_PAT_A,Le.FINDER_PAT_A,Le.FINDER_PAT_B,Le.FINDER_PAT_B,Le.FINDER_PAT_C,Le.FINDER_PAT_D,Le.FINDER_PAT_D,Le.FINDER_PAT_E,Le.FINDER_PAT_E,Le.FINDER_PAT_F,Le.FINDER_PAT_F]],Le.MAX_PAIRS=11;class ue extends mr{constructor(i,o,u){super(i,o),this.count=0,this.finderPattern=u}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class De extends yt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,o,u){const h=this.decodePair(o,!1,i,u);De.addOrTally(this.possibleLeftPairs,h),o.reverse();let p=this.decodePair(o,!0,i,u);De.addOrTally(this.possibleRightPairs,p),o.reverse();for(let v of this.possibleLeftPairs)if(v.getCount()>1){for(let S of this.possibleRightPairs)if(S.getCount()>1&&De.checkChecksum(v,S))return De.constructResult(v,S)}throw new Z}static addOrTally(i,o){if(o==null)return;let u=!1;for(let h of i)if(h.getValue()===o.getValue()){h.incrementCount(),u=!0;break}u||i.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,o){let u=4537077*i.getValue()+o.getValue(),h=new String(u).toString(),p=new ce;for(let I=13-h.length;I>0;I--)p.append("0");p.append(h);let v=0;for(let I=0;I<13;I++){let D=p.charAt(I).charCodeAt(0)-48;v+=(I&1)===0?3*D:D}v=10-v%10,v===10&&(v=0),p.append(v.toString());let S=i.getFinderPattern().getResultPoints(),N=o.getFinderPattern().getResultPoints();return new ke(p.toString(),null,0,[S[0],S[1],N[0],N[1]],Q.RSS_14,new Date().getTime())}static checkChecksum(i,o){let u=(i.getChecksumPortion()+16*o.getChecksumPortion())%79,h=9*i.getFinderPattern().getValue()+o.getFinderPattern().getValue();return h>72&&h--,h>8&&h--,u===h}decodePair(i,o,u,h){try{let p=this.findFinderPattern(i,o),v=this.parseFoundFinderPattern(i,u,o,p),S=h==null?null:h.get(Y.NEED_RESULT_POINT_CALLBACK);if(S!=null){let D=(p[0]+p[1])/2;o&&(D=i.getSize()-1-D),S.foundPossibleResultPoint(new et(D,u))}let N=this.decodeDataCharacter(i,v,!0),I=this.decodeDataCharacter(i,v,!1);return new ue(1597*N.getValue()+I.getValue(),N.getChecksumPortion()+4*I.getChecksumPortion(),v)}catch{return null}}decodeDataCharacter(i,o,u){let h=this.getDataCharacterCounters();for(let xe=0;xe<h.length;xe++)h[xe]=0;if(u)Qt.recordPatternInReverse(i,o.getStartEnd()[0],h);else{Qt.recordPattern(i,o.getStartEnd()[1]+1,h);for(let xe=0,Ae=h.length-1;xe<Ae;xe++,Ae--){let Xe=h[xe];h[xe]=h[Ae],h[Ae]=Xe}}let p=u?16:15,v=lt.sum(new Int32Array(h))/p,S=this.getOddCounts(),N=this.getEvenCounts(),I=this.getOddRoundingErrors(),D=this.getEvenRoundingErrors();for(let xe=0;xe<h.length;xe++){let Ae=h[xe]/v,Xe=Math.floor(Ae+.5);Xe<1?Xe=1:Xe>8&&(Xe=8);let qe=Math.floor(xe/2);(xe&1)===0?(S[qe]=Xe,I[qe]=Ae-Xe):(N[qe]=Xe,D[qe]=Ae-Xe)}this.adjustOddEvenCounts(u,p);let z=0,H=0;for(let xe=S.length-1;xe>=0;xe--)H*=9,H+=S[xe],z+=S[xe];let W=0,ae=0;for(let xe=N.length-1;xe>=0;xe--)W*=9,W+=N[xe],ae+=N[xe];let se=H+3*W;if(u){if((z&1)!==0||z>12||z<4)throw new Z;let xe=(12-z)/2,Ae=De.OUTSIDE_ODD_WIDEST[xe],Xe=9-Ae,qe=rr.getRSSvalue(S,Ae,!1),Fe=rr.getRSSvalue(N,Xe,!0),Ft=De.OUTSIDE_EVEN_TOTAL_SUBSET[xe],Pt=De.OUTSIDE_GSUM[xe];return new mr(qe*Ft+Fe+Pt,se)}else{if((ae&1)!==0||ae>10||ae<4)throw new Z;let xe=(10-ae)/2,Ae=De.INSIDE_ODD_WIDEST[xe],Xe=9-Ae,qe=rr.getRSSvalue(S,Ae,!0),Fe=rr.getRSSvalue(N,Xe,!1),Ft=De.INSIDE_ODD_TOTAL_SUBSET[xe],Pt=De.INSIDE_GSUM[xe];return new mr(Fe*Ft+qe+Pt,se)}}findFinderPattern(i,o){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=i.getSize(),p=!1,v=0;for(;v<h&&(p=!i.get(v),o!==p);)v++;let S=0,N=v;for(let I=v;I<h;I++)if(i.get(I)!==p)u[S]++;else{if(S===3){if(yt.isFinderPattern(u))return[N,I];N+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,S--}else S++;u[S]=1,p=!p}throw new Z}parseFoundFinderPattern(i,o,u,h){let p=i.get(h[0]),v=h[0]-1;for(;v>=0&&p!==i.get(v);)v--;v++;const S=h[0]-v,N=this.getDecodeFinderCounters(),I=new Int32Array(N.length);M.arraycopy(N,0,I,1,N.length-1),I[0]=S;const D=this.parseFinderValue(I,De.FINDER_PATTERNS);let z=v,H=h[1];return u&&(z=i.getSize()-1-z,H=i.getSize()-1-H),new Cr(D,[v,h[1]],z,H,o)}adjustOddEvenCounts(i,o){let u=lt.sum(new Int32Array(this.getOddCounts())),h=lt.sum(new Int32Array(this.getEvenCounts())),p=!1,v=!1,S=!1,N=!1;i?(u>12?v=!0:u<4&&(p=!0),h>12?N=!0:h<4&&(S=!0)):(u>11?v=!0:u<5&&(p=!0),h>10?N=!0:h<4&&(S=!0));let I=u+h-o,D=(u&1)===(i?1:0),z=(h&1)===1;if(I===1)if(D){if(z)throw new Z;v=!0}else{if(!z)throw new Z;N=!0}else if(I===-1)if(D){if(z)throw new Z;p=!0}else{if(!z)throw new Z;S=!0}else if(I===0){if(D){if(!z)throw new Z;u<h?(p=!0,N=!0):(v=!0,S=!0)}else if(z)throw new Z}else throw new Z;if(p){if(v)throw new Z;yt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(v&&yt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),S){if(N)throw new Z;yt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}N&&yt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}De.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],De.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],De.OUTSIDE_GSUM=[0,161,961,2015,2715],De.INSIDE_GSUM=[0,336,1036,1516],De.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],De.INSIDE_ODD_WIDEST=[2,4,6,8],De.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ye extends Qt{constructor(i,o){super(),this.readers=[],this.verbose=o===!0;const u=i?i.get(Y.POSSIBLE_FORMATS):null,h=i&&i.get(Y.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;u?((u.includes(Q.EAN_13)||u.includes(Q.UPC_A)||u.includes(Q.EAN_8)||u.includes(Q.UPC_E))&&this.readers.push(new tr(i)),u.includes(Q.CODE_39)&&this.readers.push(new lr(h)),u.includes(Q.CODE_128)&&this.readers.push(new He),u.includes(Q.ITF)&&this.readers.push(new jt),u.includes(Q.RSS_14)&&this.readers.push(new De),u.includes(Q.RSS_EXPANDED)&&this.readers.push(new Le(this.verbose))):(this.readers.push(new tr(i)),this.readers.push(new lr),this.readers.push(new tr(i)),this.readers.push(new He),this.readers.push(new jt),this.readers.push(new De),this.readers.push(new Le(this.verbose)))}decodeRow(i,o,u){for(let h=0;h<this.readers.length;h++)try{return this.readers[h].decodeRow(i,o,u)}catch{}throw new Z}reset(){this.readers.forEach(i=>i.reset())}}class pt extends Te{constructor(i=500,o){super(new Ye(o),i,o)}}class We{constructor(i,o,u){this.ecCodewords=i,this.ecBlocks=[o],u&&this.ecBlocks.push(u)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ke{constructor(i,o){this.count=i,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class rt{constructor(i,o,u,h,p,v){this.versionNumber=i,this.symbolSizeRows=o,this.symbolSizeColumns=u,this.dataRegionSizeRows=h,this.dataRegionSizeColumns=p,this.ecBlocks=v;let S=0;const N=v.getECCodewords(),I=v.getECBlocks();for(let D of I)S+=D.getCount()*(D.getDataCodewords()+N);this.totalCodewords=S}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,o){if((i&1)!==0||(o&1)!==0)throw new L;for(let u of rt.VERSIONS)if(u.symbolSizeRows===i&&u.symbolSizeColumns===o)return u;throw new L}toString(){return""+this.versionNumber}static buildVersions(){return[new rt(1,10,10,8,8,new We(5,new Ke(1,3))),new rt(2,12,12,10,10,new We(7,new Ke(1,5))),new rt(3,14,14,12,12,new We(10,new Ke(1,8))),new rt(4,16,16,14,14,new We(12,new Ke(1,12))),new rt(5,18,18,16,16,new We(14,new Ke(1,18))),new rt(6,20,20,18,18,new We(18,new Ke(1,22))),new rt(7,22,22,20,20,new We(20,new Ke(1,30))),new rt(8,24,24,22,22,new We(24,new Ke(1,36))),new rt(9,26,26,24,24,new We(28,new Ke(1,44))),new rt(10,32,32,14,14,new We(36,new Ke(1,62))),new rt(11,36,36,16,16,new We(42,new Ke(1,86))),new rt(12,40,40,18,18,new We(48,new Ke(1,114))),new rt(13,44,44,20,20,new We(56,new Ke(1,144))),new rt(14,48,48,22,22,new We(68,new Ke(1,174))),new rt(15,52,52,24,24,new We(42,new Ke(2,102))),new rt(16,64,64,14,14,new We(56,new Ke(2,140))),new rt(17,72,72,16,16,new We(36,new Ke(4,92))),new rt(18,80,80,18,18,new We(48,new Ke(4,114))),new rt(19,88,88,20,20,new We(56,new Ke(4,144))),new rt(20,96,96,22,22,new We(68,new Ke(4,174))),new rt(21,104,104,24,24,new We(56,new Ke(6,136))),new rt(22,120,120,18,18,new We(68,new Ke(6,175))),new rt(23,132,132,20,20,new We(62,new Ke(8,163))),new rt(24,144,144,22,22,new We(62,new Ke(8,156),new Ke(2,155))),new rt(25,8,18,6,16,new We(7,new Ke(1,5))),new rt(26,8,32,6,14,new We(11,new Ke(1,10))),new rt(27,12,26,10,24,new We(14,new Ke(1,16))),new rt(28,12,36,10,16,new We(18,new Ke(1,22))),new rt(29,16,36,14,16,new We(24,new Ke(1,32))),new rt(30,16,48,14,22,new We(28,new Ke(1,49)))]}}rt.VERSIONS=rt.buildVersions();class pr{constructor(i){const o=i.getHeight();if(o<8||o>144||(o&1)!==0)throw new L;this.version=pr.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new fe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){const o=i.getHeight(),u=i.getWidth();return rt.getVersionForDimensions(o,u)}readCodewords(){const i=new Int8Array(this.version.getTotalCodewords());let o=0,u=4,h=0;const p=this.mappingBitMatrix.getHeight(),v=this.mappingBitMatrix.getWidth();let S=!1,N=!1,I=!1,D=!1;do if(u===p&&h===0&&!S)i[o++]=this.readCorner1(p,v)&255,u-=2,h+=2,S=!0;else if(u===p-2&&h===0&&(v&3)!==0&&!N)i[o++]=this.readCorner2(p,v)&255,u-=2,h+=2,N=!0;else if(u===p+4&&h===2&&(v&7)===0&&!I)i[o++]=this.readCorner3(p,v)&255,u-=2,h+=2,I=!0;else if(u===p-2&&h===0&&(v&7)===4&&!D)i[o++]=this.readCorner4(p,v)&255,u-=2,h+=2,D=!0;else{do u<p&&h>=0&&!this.readMappingMatrix.get(h,u)&&(i[o++]=this.readUtah(u,h,p,v)&255),u-=2,h+=2;while(u>=0&&h<v);u+=1,h+=3;do u>=0&&h<v&&!this.readMappingMatrix.get(h,u)&&(i[o++]=this.readUtah(u,h,p,v)&255),u+=2,h-=2;while(u<p&&h>=0);u+=3,h+=1}while(u<p||h<v);if(o!==this.version.getTotalCodewords())throw new L;return i}readModule(i,o,u,h){return i<0&&(i+=u,o+=4-(u+4&7)),o<0&&(o+=h,i+=4-(h+4&7)),this.readMappingMatrix.set(o,i),this.mappingBitMatrix.get(o,i)}readUtah(i,o,u,h){let p=0;return this.readModule(i-2,o-2,u,h)&&(p|=1),p<<=1,this.readModule(i-2,o-1,u,h)&&(p|=1),p<<=1,this.readModule(i-1,o-2,u,h)&&(p|=1),p<<=1,this.readModule(i-1,o-1,u,h)&&(p|=1),p<<=1,this.readModule(i-1,o,u,h)&&(p|=1),p<<=1,this.readModule(i,o-2,u,h)&&(p|=1),p<<=1,this.readModule(i,o-1,u,h)&&(p|=1),p<<=1,this.readModule(i,o,u,h)&&(p|=1),p}readCorner1(i,o){let u=0;return this.readModule(i-1,0,i,o)&&(u|=1),u<<=1,this.readModule(i-1,1,i,o)&&(u|=1),u<<=1,this.readModule(i-1,2,i,o)&&(u|=1),u<<=1,this.readModule(0,o-2,i,o)&&(u|=1),u<<=1,this.readModule(0,o-1,i,o)&&(u|=1),u<<=1,this.readModule(1,o-1,i,o)&&(u|=1),u<<=1,this.readModule(2,o-1,i,o)&&(u|=1),u<<=1,this.readModule(3,o-1,i,o)&&(u|=1),u}readCorner2(i,o){let u=0;return this.readModule(i-3,0,i,o)&&(u|=1),u<<=1,this.readModule(i-2,0,i,o)&&(u|=1),u<<=1,this.readModule(i-1,0,i,o)&&(u|=1),u<<=1,this.readModule(0,o-4,i,o)&&(u|=1),u<<=1,this.readModule(0,o-3,i,o)&&(u|=1),u<<=1,this.readModule(0,o-2,i,o)&&(u|=1),u<<=1,this.readModule(0,o-1,i,o)&&(u|=1),u<<=1,this.readModule(1,o-1,i,o)&&(u|=1),u}readCorner3(i,o){let u=0;return this.readModule(i-1,0,i,o)&&(u|=1),u<<=1,this.readModule(i-1,o-1,i,o)&&(u|=1),u<<=1,this.readModule(0,o-3,i,o)&&(u|=1),u<<=1,this.readModule(0,o-2,i,o)&&(u|=1),u<<=1,this.readModule(0,o-1,i,o)&&(u|=1),u<<=1,this.readModule(1,o-3,i,o)&&(u|=1),u<<=1,this.readModule(1,o-2,i,o)&&(u|=1),u<<=1,this.readModule(1,o-1,i,o)&&(u|=1),u}readCorner4(i,o){let u=0;return this.readModule(i-3,0,i,o)&&(u|=1),u<<=1,this.readModule(i-2,0,i,o)&&(u|=1),u<<=1,this.readModule(i-1,0,i,o)&&(u|=1),u<<=1,this.readModule(0,o-2,i,o)&&(u|=1),u<<=1,this.readModule(0,o-1,i,o)&&(u|=1),u<<=1,this.readModule(1,o-1,i,o)&&(u|=1),u<<=1,this.readModule(2,o-1,i,o)&&(u|=1),u<<=1,this.readModule(3,o-1,i,o)&&(u|=1),u}extractDataRegion(i){const o=this.version.getSymbolSizeRows(),u=this.version.getSymbolSizeColumns();if(i.getHeight()!==o)throw new A("Dimension of bitMatrix must match the version size");const h=this.version.getDataRegionSizeRows(),p=this.version.getDataRegionSizeColumns(),v=o/h|0,S=u/p|0,N=v*h,I=S*p,D=new fe(I,N);for(let z=0;z<v;++z){const H=z*h;for(let W=0;W<S;++W){const ae=W*p;for(let se=0;se<h;++se){const xe=z*(h+2)+1+se,Ae=H+se;for(let Xe=0;Xe<p;++Xe){const qe=W*(p+2)+1+Xe;if(i.get(qe,xe)){const Fe=ae+Xe;D.set(Fe,Ae)}}}}}return D}}class Mn{constructor(i,o){this.numDataCodewords=i,this.codewords=o}static getDataBlocks(i,o){const u=o.getECBlocks();let h=0;const p=u.getECBlocks();for(let se of p)h+=se.getCount();const v=new Array(h);let S=0;for(let se of p)for(let xe=0;xe<se.getCount();xe++){const Ae=se.getDataCodewords(),Xe=u.getECCodewords()+Ae;v[S++]=new Mn(Ae,new Uint8Array(Xe))}const I=v[0].codewords.length-u.getECCodewords(),D=I-1;let z=0;for(let se=0;se<D;se++)for(let xe=0;xe<S;xe++)v[xe].codewords[se]=i[z++];const H=o.getVersionNumber()===24,W=H?8:S;for(let se=0;se<W;se++)v[se].codewords[I-1]=i[z++];const ae=v[0].codewords.length;for(let se=I;se<ae;se++)for(let xe=0;xe<S;xe++){const Ae=H?(xe+8)%S:xe,Xe=H&&Ae>7?se-1:se;v[Ae].codewords[Xe]=i[z++]}if(z!==i.length)throw new A;return v}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class kt{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new A(""+i);let o=0,u=this.bitOffset,h=this.byteOffset;const p=this.bytes;if(u>0){const v=8-u,S=i<v?i:v,N=v-S,I=255>>8-S<<N;o=(p[h]&I)>>N,i-=S,u+=S,u===8&&(u=0,h++)}if(i>0){for(;i>=8;)o=o<<8|p[h]&255,h++,i-=8;if(i>0){const v=8-i,S=255>>v<<v;o=o<<i|(p[h]&S)>>v,u+=i}}return this.bitOffset=u,this.byteOffset=h,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var ht;(function(B){B[B.PAD_ENCODE=0]="PAD_ENCODE",B[B.ASCII_ENCODE=1]="ASCII_ENCODE",B[B.C40_ENCODE=2]="C40_ENCODE",B[B.TEXT_ENCODE=3]="TEXT_ENCODE",B[B.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",B[B.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",B[B.BASE256_ENCODE=6]="BASE256_ENCODE"})(ht||(ht={}));class va{static decode(i){const o=new kt(i),u=new ce,h=new ce,p=new Array;let v=ht.ASCII_ENCODE;do if(v===ht.ASCII_ENCODE)v=this.decodeAsciiSegment(o,u,h);else{switch(v){case ht.C40_ENCODE:this.decodeC40Segment(o,u);break;case ht.TEXT_ENCODE:this.decodeTextSegment(o,u);break;case ht.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,u);break;case ht.EDIFACT_ENCODE:this.decodeEdifactSegment(o,u);break;case ht.BASE256_ENCODE:this.decodeBase256Segment(o,u,p);break;default:throw new L}v=ht.ASCII_ENCODE}while(v!==ht.PAD_ENCODE&&o.available()>0);return h.length()>0&&u.append(h.toString()),new me(i,u.toString(),p.length===0?null:p,null)}static decodeAsciiSegment(i,o,u){let h=!1;do{let p=i.readBits(8);if(p===0)throw new L;if(p<=128)return h&&(p+=128),o.append(String.fromCharCode(p-1)),ht.ASCII_ENCODE;if(p===129)return ht.PAD_ENCODE;if(p<=229){const v=p-130;v<10&&o.append("0"),o.append(""+v)}else switch(p){case 230:return ht.C40_ENCODE;case 231:return ht.BASE256_ENCODE;case 232:o.append("");break;case 233:case 234:break;case 235:h=!0;break;case 236:o.append("[)>05"),u.insert(0,"");break;case 237:o.append("[)>06"),u.insert(0,"");break;case 238:return ht.ANSIX12_ENCODE;case 239:return ht.TEXT_ENCODE;case 240:return ht.EDIFACT_ENCODE;case 241:break;default:if(p!==254||i.available()!==0)throw new L;break}}while(i.available()>0);return ht.ASCII_ENCODE}static decodeC40Segment(i,o){let u=!1;const h=[];let p=0;do{if(i.available()===8)return;const v=i.readBits(8);if(v===254)return;this.parseTwoBytes(v,i.readBits(8),h);for(let S=0;S<3;S++){const N=h[S];switch(p){case 0:if(N<3)p=N+1;else if(N<this.C40_BASIC_SET_CHARS.length){const I=this.C40_BASIC_SET_CHARS[N];u?(o.append(String.fromCharCode(I.charCodeAt(0)+128)),u=!1):o.append(I)}else throw new L;break;case 1:u?(o.append(String.fromCharCode(N+128)),u=!1):o.append(String.fromCharCode(N)),p=0;break;case 2:if(N<this.C40_SHIFT2_SET_CHARS.length){const I=this.C40_SHIFT2_SET_CHARS[N];u?(o.append(String.fromCharCode(I.charCodeAt(0)+128)),u=!1):o.append(I)}else switch(N){case 27:o.append("");break;case 30:u=!0;break;default:throw new L}p=0;break;case 3:u?(o.append(String.fromCharCode(N+224)),u=!1):o.append(String.fromCharCode(N+96)),p=0;break;default:throw new L}}}while(i.available()>0)}static decodeTextSegment(i,o){let u=!1,h=[],p=0;do{if(i.available()===8)return;const v=i.readBits(8);if(v===254)return;this.parseTwoBytes(v,i.readBits(8),h);for(let S=0;S<3;S++){const N=h[S];switch(p){case 0:if(N<3)p=N+1;else if(N<this.TEXT_BASIC_SET_CHARS.length){const I=this.TEXT_BASIC_SET_CHARS[N];u?(o.append(String.fromCharCode(I.charCodeAt(0)+128)),u=!1):o.append(I)}else throw new L;break;case 1:u?(o.append(String.fromCharCode(N+128)),u=!1):o.append(String.fromCharCode(N)),p=0;break;case 2:if(N<this.TEXT_SHIFT2_SET_CHARS.length){const I=this.TEXT_SHIFT2_SET_CHARS[N];u?(o.append(String.fromCharCode(I.charCodeAt(0)+128)),u=!1):o.append(I)}else switch(N){case 27:o.append("");break;case 30:u=!0;break;default:throw new L}p=0;break;case 3:if(N<this.TEXT_SHIFT3_SET_CHARS.length){const I=this.TEXT_SHIFT3_SET_CHARS[N];u?(o.append(String.fromCharCode(I.charCodeAt(0)+128)),u=!1):o.append(I),p=0}else throw new L;break;default:throw new L}}}while(i.available()>0)}static decodeAnsiX12Segment(i,o){const u=[];do{if(i.available()===8)return;const h=i.readBits(8);if(h===254)return;this.parseTwoBytes(h,i.readBits(8),u);for(let p=0;p<3;p++){const v=u[p];switch(v){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(v<14)o.append(String.fromCharCode(v+44));else if(v<40)o.append(String.fromCharCode(v+51));else throw new L;break}}}while(i.available()>0)}static parseTwoBytes(i,o,u){let h=(i<<8)+o-1,p=Math.floor(h/1600);u[0]=p,h-=p*1600,p=Math.floor(h/40),u[1]=p,u[2]=h-p*40}static decodeEdifactSegment(i,o){do{if(i.available()<=16)return;for(let u=0;u<4;u++){let h=i.readBits(6);if(h===31){const p=8-i.getBitOffset();p!==8&&i.readBits(p);return}(h&32)===0&&(h|=64),o.append(String.fromCharCode(h))}}while(i.available()>0)}static decodeBase256Segment(i,o,u){let h=1+i.getByteOffset();const p=this.unrandomize255State(i.readBits(8),h++);let v;if(p===0?v=i.available()/8|0:p<250?v=p:v=250*(p-249)+this.unrandomize255State(i.readBits(8),h++),v<0)throw new L;const S=new Uint8Array(v);for(let N=0;N<v;N++){if(i.available()<8)throw new L;S[N]=this.unrandomize255State(i.readBits(8),h++)}u.push(S);try{o.append(oe.decode(S,ee.ISO88591))}catch(N){throw new Ie("Platform does not support required encoding: "+N.message)}}static unrandomize255State(i,o){const u=149*o%255+1,h=i-u;return h>=0?h:h+256}}va.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],va.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],va.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],va.TEXT_SHIFT2_SET_CHARS=va.C40_SHIFT2_SET_CHARS,va.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class ec{constructor(){this.rsDecoder=new Nt(Je.DATA_MATRIX_FIELD_256)}decode(i){const o=new pr(i),u=o.getVersion(),h=o.readCodewords(),p=Mn.getDataBlocks(h,u);let v=0;for(let I of p)v+=I.getNumDataCodewords();const S=new Uint8Array(v),N=p.length;for(let I=0;I<N;I++){const D=p[I],z=D.getCodewords(),H=D.getNumDataCodewords();this.correctErrors(z,H);for(let W=0;W<H;W++)S[W*N+I]=z[W]}return va.decode(S)}correctErrors(i,o){const u=new Int32Array(i);try{this.rsDecoder.decode(u,i.length-o)}catch{throw new _}for(let h=0;h<o;h++)i[h]=u[h]}}class Tr{constructor(i){this.image=i,this.rectangleDetector=new hr(this.image)}detect(){const i=this.rectangleDetector.detect();let o=this.detectSolid1(i);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new Z;o=this.shiftToModuleCenter(o);const u=o[0],h=o[1],p=o[2],v=o[3];let S=this.transitionsBetween(u,v)+1,N=this.transitionsBetween(p,v)+1;(S&1)===1&&(S+=1),(N&1)===1&&(N+=1),4*S<7*N&&4*N<7*S&&(S=N=Math.max(S,N));let I=Tr.sampleGrid(this.image,u,h,p,v,S,N);return new Da(I,[u,h,p,v])}static shiftPoint(i,o,u){let h=(o.getX()-i.getX())/(u+1),p=(o.getY()-i.getY())/(u+1);return new et(i.getX()+h,i.getY()+p)}static moveAway(i,o,u){let h=i.getX(),p=i.getY();return h<o?h-=1:h+=1,p<u?p-=1:p+=1,new et(h,p)}detectSolid1(i){let o=i[0],u=i[1],h=i[3],p=i[2],v=this.transitionsBetween(o,u),S=this.transitionsBetween(u,h),N=this.transitionsBetween(h,p),I=this.transitionsBetween(p,o),D=v,z=[p,o,u,h];return D>S&&(D=S,z[0]=o,z[1]=u,z[2]=h,z[3]=p),D>N&&(D=N,z[0]=u,z[1]=h,z[2]=p,z[3]=o),D>I&&(z[0]=h,z[1]=p,z[2]=o,z[3]=u),z}detectSolid2(i){let o=i[0],u=i[1],h=i[2],p=i[3],v=this.transitionsBetween(o,p),S=Tr.shiftPoint(u,h,(v+1)*4),N=Tr.shiftPoint(h,u,(v+1)*4),I=this.transitionsBetween(S,o),D=this.transitionsBetween(N,p);return I<D?(i[0]=o,i[1]=u,i[2]=h,i[3]=p):(i[0]=u,i[1]=h,i[2]=p,i[3]=o),i}correctTopRight(i){let o=i[0],u=i[1],h=i[2],p=i[3],v=this.transitionsBetween(o,p),S=this.transitionsBetween(u,p),N=Tr.shiftPoint(o,u,(S+1)*4),I=Tr.shiftPoint(h,u,(v+1)*4);v=this.transitionsBetween(N,p),S=this.transitionsBetween(I,p);let D=new et(p.getX()+(h.getX()-u.getX())/(v+1),p.getY()+(h.getY()-u.getY())/(v+1)),z=new et(p.getX()+(o.getX()-u.getX())/(S+1),p.getY()+(o.getY()-u.getY())/(S+1));if(!this.isValid(D))return this.isValid(z)?z:null;if(!this.isValid(z))return D;let H=this.transitionsBetween(N,D)+this.transitionsBetween(I,D),W=this.transitionsBetween(N,z)+this.transitionsBetween(I,z);return H>W?D:z}shiftToModuleCenter(i){let o=i[0],u=i[1],h=i[2],p=i[3],v=this.transitionsBetween(o,p)+1,S=this.transitionsBetween(h,p)+1,N=Tr.shiftPoint(o,u,S*4),I=Tr.shiftPoint(h,u,v*4);v=this.transitionsBetween(N,p)+1,S=this.transitionsBetween(I,p)+1,(v&1)===1&&(v+=1),(S&1)===1&&(S+=1);let D=(o.getX()+u.getX()+h.getX()+p.getX())/4,z=(o.getY()+u.getY()+h.getY()+p.getY())/4;o=Tr.moveAway(o,D,z),u=Tr.moveAway(u,D,z),h=Tr.moveAway(h,D,z),p=Tr.moveAway(p,D,z);let H,W;return N=Tr.shiftPoint(o,u,S*4),N=Tr.shiftPoint(N,p,v*4),H=Tr.shiftPoint(u,o,S*4),H=Tr.shiftPoint(H,h,v*4),I=Tr.shiftPoint(h,p,S*4),I=Tr.shiftPoint(I,u,v*4),W=Tr.shiftPoint(p,h,S*4),W=Tr.shiftPoint(W,o,v*4),[N,H,I,W]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,o,u,h,p,v,S){return Hn.getInstance().sampleGrid(i,v,S,.5,.5,v-.5,.5,v-.5,S-.5,.5,S-.5,o.getX(),o.getY(),p.getX(),p.getY(),h.getX(),h.getY(),u.getX(),u.getY())}transitionsBetween(i,o){let u=Math.trunc(i.getX()),h=Math.trunc(i.getY()),p=Math.trunc(o.getX()),v=Math.trunc(o.getY()),S=Math.abs(v-h)>Math.abs(p-u);if(S){let se=u;u=h,h=se,se=p,p=v,v=se}let N=Math.abs(p-u),I=Math.abs(v-h),D=-N/2,z=h<v?1:-1,H=u<p?1:-1,W=0,ae=this.image.get(S?h:u,S?u:h);for(let se=u,xe=h;se!==p;se+=H){let Ae=this.image.get(S?xe:se,S?se:xe);if(Ae!==ae&&(W++,ae=Ae),D+=I,D>0){if(xe===v)break;xe+=z,D-=N}}return W}}class Pa{constructor(){this.decoder=new ec}decode(i,o=null){let u,h;if(o!=null&&o.has(Y.PURE_BARCODE)){const I=Pa.extractPureBits(i.getBlackMatrix());u=this.decoder.decode(I),h=Pa.NO_POINTS}else{const I=new Tr(i.getBlackMatrix()).detect();u=this.decoder.decode(I.getBits()),h=I.getPoints()}const p=u.getRawBytes(),v=new ke(u.getText(),p,8*p.length,h,Q.DATA_MATRIX,M.currentTimeMillis()),S=u.getByteSegments();S!=null&&v.putMetadata(Ze.BYTE_SEGMENTS,S);const N=u.getECLevel();return N!=null&&v.putMetadata(Ze.ERROR_CORRECTION_LEVEL,N),v}reset(){}static extractPureBits(i){const o=i.getTopLeftOnBit(),u=i.getBottomRightOnBit();if(o==null||u==null)throw new Z;const h=this.moduleSize(o,i);let p=o[1];const v=u[1];let S=o[0];const I=(u[0]-S+1)/h,D=(v-p+1)/h;if(I<=0||D<=0)throw new Z;const z=h/2;p+=z,S+=z;const H=new fe(I,D);for(let W=0;W<D;W++){const ae=p+W*h;for(let se=0;se<I;se++)i.get(S+se*h,ae)&&H.set(se,W)}return H}static moduleSize(i,o){const u=o.getWidth();let h=i[0];const p=i[1];for(;h<u&&o.get(h,p);)h++;if(h===u)throw new Z;const v=h-i[0];if(v===0)throw new Z;return v}}Pa.NO_POINTS=[];class tc extends Te{constructor(i=500){super(new Pa,i)}}var ol;(function(B){B[B.L=0]="L",B[B.M=1]="M",B[B.Q=2]="Q",B[B.H=3]="H"})(ol||(ol={}));class Ht{constructor(i,o,u){this.value=i,this.stringValue=o,this.bits=u,Ht.FOR_BITS.set(u,this),Ht.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return Ht.L;case"M":return Ht.M;case"Q":return Ht.Q;case"H":return Ht.H;default:throw new w(i+"not available")}}toString(){return this.stringValue}equals(i){if(!(i instanceof Ht))return!1;const o=i;return this.value===o.value}static forBits(i){if(i<0||i>=Ht.FOR_BITS.size)throw new A;return Ht.FOR_BITS.get(i)}}Ht.FOR_BITS=new Map,Ht.FOR_VALUE=new Map,Ht.L=new Ht(ol.L,"L",1),Ht.M=new Ht(ol.M,"M",0),Ht.Q=new Ht(ol.Q,"Q",3),Ht.H=new Ht(ol.H,"H",2);class hn{constructor(i){this.errorCorrectionLevel=Ht.forBits(i>>3&3),this.dataMask=i&7}static numBitsDiffering(i,o){return U.bitCount(i^o)}static decodeFormatInformation(i,o){const u=hn.doDecodeFormatInformation(i,o);return u!==null?u:hn.doDecodeFormatInformation(i^hn.FORMAT_INFO_MASK_QR,o^hn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,o){let u=Number.MAX_SAFE_INTEGER,h=0;for(const p of hn.FORMAT_INFO_DECODE_LOOKUP){const v=p[0];if(v===i||v===o)return new hn(p[1]);let S=hn.numBitsDiffering(i,v);S<u&&(h=p[1],u=S),i!==o&&(S=hn.numBitsDiffering(o,v),S<u&&(h=p[1],u=S))}return u<=3?new hn(h):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){if(!(i instanceof hn))return!1;const o=i;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}hn.FORMAT_INFO_MASK_QR=21522,hn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ye{constructor(i,...o){this.ecCodewordsPerBlock=i,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0;const o=this.ecBlocks;for(const u of o)i+=u.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class X{constructor(i,o){this.count=i,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ut{constructor(i,o,...u){this.versionNumber=i,this.alignmentPatternCenters=o,this.ecBlocks=u;let h=0;const p=u[0].getECCodewordsPerBlock(),v=u[0].getECBlocks();for(const S of v)h+=S.getCount()*(S.getDataCodewords()+p);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!==1)throw new L;try{return this.getVersionForNumber((i-17)/4)}catch{throw new L}}static getVersionForNumber(i){if(i<1||i>40)throw new A;return ut.VERSIONS[i-1]}static decodeVersionInformation(i){let o=Number.MAX_SAFE_INTEGER,u=0;for(let h=0;h<ut.VERSION_DECODE_INFO.length;h++){const p=ut.VERSION_DECODE_INFO[h];if(p===i)return ut.getVersionForNumber(h+7);const v=hn.numBitsDiffering(i,p);v<o&&(u=h+7,o=v)}return o<=3?ut.getVersionForNumber(u):null}buildFunctionPattern(){const i=this.getDimensionForVersion(),o=new fe(i);o.setRegion(0,0,9,9),o.setRegion(i-8,0,8,9),o.setRegion(0,i-8,9,8);const u=this.alignmentPatternCenters.length;for(let h=0;h<u;h++){const p=this.alignmentPatternCenters[h]-2;for(let v=0;v<u;v++)h===0&&(v===0||v===u-1)||h===u-1&&v===0||o.setRegion(this.alignmentPatternCenters[v]-2,p,5,5)}return o.setRegion(6,9,1,i-17),o.setRegion(9,6,i-17,1),this.versionNumber>6&&(o.setRegion(i-11,0,3,6),o.setRegion(0,i-11,6,3)),o}toString(){return""+this.versionNumber}}ut.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ut.VERSIONS=[new ut(1,new Int32Array(0),new ye(7,new X(1,19)),new ye(10,new X(1,16)),new ye(13,new X(1,13)),new ye(17,new X(1,9))),new ut(2,Int32Array.from([6,18]),new ye(10,new X(1,34)),new ye(16,new X(1,28)),new ye(22,new X(1,22)),new ye(28,new X(1,16))),new ut(3,Int32Array.from([6,22]),new ye(15,new X(1,55)),new ye(26,new X(1,44)),new ye(18,new X(2,17)),new ye(22,new X(2,13))),new ut(4,Int32Array.from([6,26]),new ye(20,new X(1,80)),new ye(18,new X(2,32)),new ye(26,new X(2,24)),new ye(16,new X(4,9))),new ut(5,Int32Array.from([6,30]),new ye(26,new X(1,108)),new ye(24,new X(2,43)),new ye(18,new X(2,15),new X(2,16)),new ye(22,new X(2,11),new X(2,12))),new ut(6,Int32Array.from([6,34]),new ye(18,new X(2,68)),new ye(16,new X(4,27)),new ye(24,new X(4,19)),new ye(28,new X(4,15))),new ut(7,Int32Array.from([6,22,38]),new ye(20,new X(2,78)),new ye(18,new X(4,31)),new ye(18,new X(2,14),new X(4,15)),new ye(26,new X(4,13),new X(1,14))),new ut(8,Int32Array.from([6,24,42]),new ye(24,new X(2,97)),new ye(22,new X(2,38),new X(2,39)),new ye(22,new X(4,18),new X(2,19)),new ye(26,new X(4,14),new X(2,15))),new ut(9,Int32Array.from([6,26,46]),new ye(30,new X(2,116)),new ye(22,new X(3,36),new X(2,37)),new ye(20,new X(4,16),new X(4,17)),new ye(24,new X(4,12),new X(4,13))),new ut(10,Int32Array.from([6,28,50]),new ye(18,new X(2,68),new X(2,69)),new ye(26,new X(4,43),new X(1,44)),new ye(24,new X(6,19),new X(2,20)),new ye(28,new X(6,15),new X(2,16))),new ut(11,Int32Array.from([6,30,54]),new ye(20,new X(4,81)),new ye(30,new X(1,50),new X(4,51)),new ye(28,new X(4,22),new X(4,23)),new ye(24,new X(3,12),new X(8,13))),new ut(12,Int32Array.from([6,32,58]),new ye(24,new X(2,92),new X(2,93)),new ye(22,new X(6,36),new X(2,37)),new ye(26,new X(4,20),new X(6,21)),new ye(28,new X(7,14),new X(4,15))),new ut(13,Int32Array.from([6,34,62]),new ye(26,new X(4,107)),new ye(22,new X(8,37),new X(1,38)),new ye(24,new X(8,20),new X(4,21)),new ye(22,new X(12,11),new X(4,12))),new ut(14,Int32Array.from([6,26,46,66]),new ye(30,new X(3,115),new X(1,116)),new ye(24,new X(4,40),new X(5,41)),new ye(20,new X(11,16),new X(5,17)),new ye(24,new X(11,12),new X(5,13))),new ut(15,Int32Array.from([6,26,48,70]),new ye(22,new X(5,87),new X(1,88)),new ye(24,new X(5,41),new X(5,42)),new ye(30,new X(5,24),new X(7,25)),new ye(24,new X(11,12),new X(7,13))),new ut(16,Int32Array.from([6,26,50,74]),new ye(24,new X(5,98),new X(1,99)),new ye(28,new X(7,45),new X(3,46)),new ye(24,new X(15,19),new X(2,20)),new ye(30,new X(3,15),new X(13,16))),new ut(17,Int32Array.from([6,30,54,78]),new ye(28,new X(1,107),new X(5,108)),new ye(28,new X(10,46),new X(1,47)),new ye(28,new X(1,22),new X(15,23)),new ye(28,new X(2,14),new X(17,15))),new ut(18,Int32Array.from([6,30,56,82]),new ye(30,new X(5,120),new X(1,121)),new ye(26,new X(9,43),new X(4,44)),new ye(28,new X(17,22),new X(1,23)),new ye(28,new X(2,14),new X(19,15))),new ut(19,Int32Array.from([6,30,58,86]),new ye(28,new X(3,113),new X(4,114)),new ye(26,new X(3,44),new X(11,45)),new ye(26,new X(17,21),new X(4,22)),new ye(26,new X(9,13),new X(16,14))),new ut(20,Int32Array.from([6,34,62,90]),new ye(28,new X(3,107),new X(5,108)),new ye(26,new X(3,41),new X(13,42)),new ye(30,new X(15,24),new X(5,25)),new ye(28,new X(15,15),new X(10,16))),new ut(21,Int32Array.from([6,28,50,72,94]),new ye(28,new X(4,116),new X(4,117)),new ye(26,new X(17,42)),new ye(28,new X(17,22),new X(6,23)),new ye(30,new X(19,16),new X(6,17))),new ut(22,Int32Array.from([6,26,50,74,98]),new ye(28,new X(2,111),new X(7,112)),new ye(28,new X(17,46)),new ye(30,new X(7,24),new X(16,25)),new ye(24,new X(34,13))),new ut(23,Int32Array.from([6,30,54,78,102]),new ye(30,new X(4,121),new X(5,122)),new ye(28,new X(4,47),new X(14,48)),new ye(30,new X(11,24),new X(14,25)),new ye(30,new X(16,15),new X(14,16))),new ut(24,Int32Array.from([6,28,54,80,106]),new ye(30,new X(6,117),new X(4,118)),new ye(28,new X(6,45),new X(14,46)),new ye(30,new X(11,24),new X(16,25)),new ye(30,new X(30,16),new X(2,17))),new ut(25,Int32Array.from([6,32,58,84,110]),new ye(26,new X(8,106),new X(4,107)),new ye(28,new X(8,47),new X(13,48)),new ye(30,new X(7,24),new X(22,25)),new ye(30,new X(22,15),new X(13,16))),new ut(26,Int32Array.from([6,30,58,86,114]),new ye(28,new X(10,114),new X(2,115)),new ye(28,new X(19,46),new X(4,47)),new ye(28,new X(28,22),new X(6,23)),new ye(30,new X(33,16),new X(4,17))),new ut(27,Int32Array.from([6,34,62,90,118]),new ye(30,new X(8,122),new X(4,123)),new ye(28,new X(22,45),new X(3,46)),new ye(30,new X(8,23),new X(26,24)),new ye(30,new X(12,15),new X(28,16))),new ut(28,Int32Array.from([6,26,50,74,98,122]),new ye(30,new X(3,117),new X(10,118)),new ye(28,new X(3,45),new X(23,46)),new ye(30,new X(4,24),new X(31,25)),new ye(30,new X(11,15),new X(31,16))),new ut(29,Int32Array.from([6,30,54,78,102,126]),new ye(30,new X(7,116),new X(7,117)),new ye(28,new X(21,45),new X(7,46)),new ye(30,new X(1,23),new X(37,24)),new ye(30,new X(19,15),new X(26,16))),new ut(30,Int32Array.from([6,26,52,78,104,130]),new ye(30,new X(5,115),new X(10,116)),new ye(28,new X(19,47),new X(10,48)),new ye(30,new X(15,24),new X(25,25)),new ye(30,new X(23,15),new X(25,16))),new ut(31,Int32Array.from([6,30,56,82,108,134]),new ye(30,new X(13,115),new X(3,116)),new ye(28,new X(2,46),new X(29,47)),new ye(30,new X(42,24),new X(1,25)),new ye(30,new X(23,15),new X(28,16))),new ut(32,Int32Array.from([6,34,60,86,112,138]),new ye(30,new X(17,115)),new ye(28,new X(10,46),new X(23,47)),new ye(30,new X(10,24),new X(35,25)),new ye(30,new X(19,15),new X(35,16))),new ut(33,Int32Array.from([6,30,58,86,114,142]),new ye(30,new X(17,115),new X(1,116)),new ye(28,new X(14,46),new X(21,47)),new ye(30,new X(29,24),new X(19,25)),new ye(30,new X(11,15),new X(46,16))),new ut(34,Int32Array.from([6,34,62,90,118,146]),new ye(30,new X(13,115),new X(6,116)),new ye(28,new X(14,46),new X(23,47)),new ye(30,new X(44,24),new X(7,25)),new ye(30,new X(59,16),new X(1,17))),new ut(35,Int32Array.from([6,30,54,78,102,126,150]),new ye(30,new X(12,121),new X(7,122)),new ye(28,new X(12,47),new X(26,48)),new ye(30,new X(39,24),new X(14,25)),new ye(30,new X(22,15),new X(41,16))),new ut(36,Int32Array.from([6,24,50,76,102,128,154]),new ye(30,new X(6,121),new X(14,122)),new ye(28,new X(6,47),new X(34,48)),new ye(30,new X(46,24),new X(10,25)),new ye(30,new X(2,15),new X(64,16))),new ut(37,Int32Array.from([6,28,54,80,106,132,158]),new ye(30,new X(17,122),new X(4,123)),new ye(28,new X(29,46),new X(14,47)),new ye(30,new X(49,24),new X(10,25)),new ye(30,new X(24,15),new X(46,16))),new ut(38,Int32Array.from([6,32,58,84,110,136,162]),new ye(30,new X(4,122),new X(18,123)),new ye(28,new X(13,46),new X(32,47)),new ye(30,new X(48,24),new X(14,25)),new ye(30,new X(42,15),new X(32,16))),new ut(39,Int32Array.from([6,26,54,82,110,138,166]),new ye(30,new X(20,117),new X(4,118)),new ye(28,new X(40,47),new X(7,48)),new ye(30,new X(43,24),new X(22,25)),new ye(30,new X(10,15),new X(67,16))),new ut(40,Int32Array.from([6,30,58,86,114,142,170]),new ye(30,new X(19,118),new X(6,119)),new ye(28,new X(18,47),new X(31,48)),new ye(30,new X(34,24),new X(34,25)),new ye(30,new X(20,15),new X(61,16)))];var on;(function(B){B[B.DATA_MASK_000=0]="DATA_MASK_000",B[B.DATA_MASK_001=1]="DATA_MASK_001",B[B.DATA_MASK_010=2]="DATA_MASK_010",B[B.DATA_MASK_011=3]="DATA_MASK_011",B[B.DATA_MASK_100=4]="DATA_MASK_100",B[B.DATA_MASK_101=5]="DATA_MASK_101",B[B.DATA_MASK_110=6]="DATA_MASK_110",B[B.DATA_MASK_111=7]="DATA_MASK_111"})(on||(on={}));class la{constructor(i,o){this.value=i,this.isMasked=o}unmaskBitMatrix(i,o){for(let u=0;u<o;u++)for(let h=0;h<o;h++)this.isMasked(u,h)&&i.flip(h,u)}}la.values=new Map([[on.DATA_MASK_000,new la(on.DATA_MASK_000,(B,i)=>(B+i&1)===0)],[on.DATA_MASK_001,new la(on.DATA_MASK_001,(B,i)=>(B&1)===0)],[on.DATA_MASK_010,new la(on.DATA_MASK_010,(B,i)=>i%3===0)],[on.DATA_MASK_011,new la(on.DATA_MASK_011,(B,i)=>(B+i)%3===0)],[on.DATA_MASK_100,new la(on.DATA_MASK_100,(B,i)=>(Math.floor(B/2)+Math.floor(i/3)&1)===0)],[on.DATA_MASK_101,new la(on.DATA_MASK_101,(B,i)=>B*i%6===0)],[on.DATA_MASK_110,new la(on.DATA_MASK_110,(B,i)=>B*i%6<3)],[on.DATA_MASK_111,new la(on.DATA_MASK_111,(B,i)=>(B+i+B*i%3&1)===0)]]);class cl{constructor(i){const o=i.getHeight();if(o<21||(o&3)!==1)throw new L;this.bitMatrix=i}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let i=0;for(let p=0;p<6;p++)i=this.copyBit(p,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let p=5;p>=0;p--)i=this.copyBit(8,p,i);const o=this.bitMatrix.getHeight();let u=0;const h=o-7;for(let p=o-1;p>=h;p--)u=this.copyBit(8,p,u);for(let p=o-8;p<o;p++)u=this.copyBit(p,8,u);if(this.parsedFormatInfo=hn.decodeFormatInformation(i,u),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new L}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const i=this.bitMatrix.getHeight(),o=Math.floor((i-17)/4);if(o<=6)return ut.getVersionForNumber(o);let u=0;const h=i-11;for(let v=5;v>=0;v--)for(let S=i-9;S>=h;S--)u=this.copyBit(S,v,u);let p=ut.decodeVersionInformation(u);if(p!==null&&p.getDimensionForVersion()===i)return this.parsedVersion=p,p;u=0;for(let v=5;v>=0;v--)for(let S=i-9;S>=h;S--)u=this.copyBit(v,S,u);if(p=ut.decodeVersionInformation(u),p!==null&&p.getDimensionForVersion()===i)return this.parsedVersion=p,p;throw new L}copyBit(i,o,u){return(this.isMirror?this.bitMatrix.get(o,i):this.bitMatrix.get(i,o))?u<<1|1:u<<1}readCodewords(){const i=this.readFormatInformation(),o=this.readVersion(),u=la.values.get(i.getDataMask()),h=this.bitMatrix.getHeight();u.unmaskBitMatrix(this.bitMatrix,h);const p=o.buildFunctionPattern();let v=!0;const S=new Uint8Array(o.getTotalCodewords());let N=0,I=0,D=0;for(let z=h-1;z>0;z-=2){z===6&&z--;for(let H=0;H<h;H++){const W=v?h-1-H:H;for(let ae=0;ae<2;ae++)p.get(z-ae,W)||(D++,I<<=1,this.bitMatrix.get(z-ae,W)&&(I|=1),D===8&&(S[N++]=I,D=0,I=0))}v=!v}if(N!==o.getTotalCodewords())throw new L;return S}remask(){if(this.parsedFormatInfo===null)return;const i=la.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,o)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){const i=this.bitMatrix;for(let o=0,u=i.getWidth();o<u;o++)for(let h=o+1,p=i.getHeight();h<p;h++)i.get(o,h)!==i.get(h,o)&&(i.flip(h,o),i.flip(o,h))}}class xu{constructor(i,o){this.numDataCodewords=i,this.codewords=o}static getDataBlocks(i,o,u){if(i.length!==o.getTotalCodewords())throw new A;const h=o.getECBlocksForLevel(u);let p=0;const v=h.getECBlocks();for(const ae of v)p+=ae.getCount();const S=new Array(p);let N=0;for(const ae of v)for(let se=0;se<ae.getCount();se++){const xe=ae.getDataCodewords(),Ae=h.getECCodewordsPerBlock()+xe;S[N++]=new xu(xe,new Uint8Array(Ae))}const I=S[0].codewords.length;let D=S.length-1;for(;D>=0&&S[D].codewords.length!==I;)D--;D++;const z=I-h.getECCodewordsPerBlock();let H=0;for(let ae=0;ae<z;ae++)for(let se=0;se<N;se++)S[se].codewords[ae]=i[H++];for(let ae=D;ae<N;ae++)S[ae].codewords[z]=i[H++];const W=S[0].codewords.length;for(let ae=z;ae<W;ae++)for(let se=0;se<N;se++){const xe=se<D?ae:ae+1;S[se].codewords[xe]=i[H++]}return S}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var oa;(function(B){B[B.TERMINATOR=0]="TERMINATOR",B[B.NUMERIC=1]="NUMERIC",B[B.ALPHANUMERIC=2]="ALPHANUMERIC",B[B.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",B[B.BYTE=4]="BYTE",B[B.ECI=5]="ECI",B[B.KANJI=6]="KANJI",B[B.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",B[B.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",B[B.HANZI=9]="HANZI"})(oa||(oa={}));class xt{constructor(i,o,u,h){this.value=i,this.stringValue=o,this.characterCountBitsForVersions=u,this.bits=h,xt.FOR_BITS.set(h,this),xt.FOR_VALUE.set(i,this)}static forBits(i){const o=xt.FOR_BITS.get(i);if(o===void 0)throw new A;return o}getCharacterCountBits(i){const o=i.getVersionNumber();let u;return o<=9?u=0:o<=26?u=1:u=2,this.characterCountBitsForVersions[u]}getValue(){return this.value}getBits(){return this.bits}equals(i){if(!(i instanceof xt))return!1;const o=i;return this.value===o.value}toString(){return this.stringValue}}xt.FOR_BITS=new Map,xt.FOR_VALUE=new Map,xt.TERMINATOR=new xt(oa.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),xt.NUMERIC=new xt(oa.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),xt.ALPHANUMERIC=new xt(oa.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),xt.STRUCTURED_APPEND=new xt(oa.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),xt.BYTE=new xt(oa.BYTE,"BYTE",Int32Array.from([8,16,16]),4),xt.ECI=new xt(oa.ECI,"ECI",Int32Array.from([0,0,0]),7),xt.KANJI=new xt(oa.KANJI,"KANJI",Int32Array.from([8,10,12]),8),xt.FNC1_FIRST_POSITION=new xt(oa.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),xt.FNC1_SECOND_POSITION=new xt(oa.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),xt.HANZI=new xt(oa.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Or{static decode(i,o,u,h){const p=new kt(i);let v=new ce;const S=new Array;let N=-1,I=-1;try{let D=null,z=!1,H;do{if(p.available()<4)H=xt.TERMINATOR;else{const W=p.readBits(4);H=xt.forBits(W)}switch(H){case xt.TERMINATOR:break;case xt.FNC1_FIRST_POSITION:case xt.FNC1_SECOND_POSITION:z=!0;break;case xt.STRUCTURED_APPEND:if(p.available()<16)throw new L;N=p.readBits(8),I=p.readBits(8);break;case xt.ECI:const W=Or.parseECIValue(p);if(D=K.getCharacterSetECIByValue(W),D===null)throw new L;break;case xt.HANZI:const ae=p.readBits(4),se=p.readBits(H.getCharacterCountBits(o));ae===Or.GB2312_SUBSET&&Or.decodeHanziSegment(p,v,se);break;default:const xe=p.readBits(H.getCharacterCountBits(o));switch(H){case xt.NUMERIC:Or.decodeNumericSegment(p,v,xe);break;case xt.ALPHANUMERIC:Or.decodeAlphanumericSegment(p,v,xe,z);break;case xt.BYTE:Or.decodeByteSegment(p,v,xe,D,S,h);break;case xt.KANJI:Or.decodeKanjiSegment(p,v,xe);break;default:throw new L}break}}while(H!==xt.TERMINATOR)}catch{throw new L}return new me(i,v.toString(),S.length===0?null:S,u===null?null:u.toString(),N,I)}static decodeHanziSegment(i,o,u){if(u*13>i.available())throw new L;const h=new Uint8Array(2*u);let p=0;for(;u>0;){const v=i.readBits(13);let S=v/96<<8&4294967295|v%96;S<959?S+=41377:S+=42657,h[p]=S>>8&255,h[p+1]=S&255,p+=2,u--}try{o.append(oe.decode(h,ee.GB2312))}catch(v){throw new L(v)}}static decodeKanjiSegment(i,o,u){if(u*13>i.available())throw new L;const h=new Uint8Array(2*u);let p=0;for(;u>0;){const v=i.readBits(13);let S=v/192<<8&4294967295|v%192;S<7936?S+=33088:S+=49472,h[p]=S>>8,h[p+1]=S,p+=2,u--}try{o.append(oe.decode(h,ee.SHIFT_JIS))}catch(v){throw new L(v)}}static decodeByteSegment(i,o,u,h,p,v){if(8*u>i.available())throw new L;const S=new Uint8Array(u);for(let I=0;I<u;I++)S[I]=i.readBits(8);let N;h===null?N=ee.guessEncoding(S,v):N=h.getName();try{o.append(oe.decode(S,N))}catch(I){throw new L(I)}p.push(S)}static toAlphaNumericChar(i){if(i>=Or.ALPHANUMERIC_CHARS.length)throw new L;return Or.ALPHANUMERIC_CHARS[i]}static decodeAlphanumericSegment(i,o,u,h){const p=o.length();for(;u>1;){if(i.available()<11)throw new L;const v=i.readBits(11);o.append(Or.toAlphaNumericChar(Math.floor(v/45))),o.append(Or.toAlphaNumericChar(v%45)),u-=2}if(u===1){if(i.available()<6)throw new L;o.append(Or.toAlphaNumericChar(i.readBits(6)))}if(h)for(let v=p;v<o.length();v++)o.charAt(v)==="%"&&(v<o.length()-1&&o.charAt(v+1)==="%"?o.deleteCharAt(v+1):o.setCharAt(v,""))}static decodeNumericSegment(i,o,u){for(;u>=3;){if(i.available()<10)throw new L;const h=i.readBits(10);if(h>=1e3)throw new L;o.append(Or.toAlphaNumericChar(Math.floor(h/100))),o.append(Or.toAlphaNumericChar(Math.floor(h/10)%10)),o.append(Or.toAlphaNumericChar(h%10)),u-=3}if(u===2){if(i.available()<7)throw new L;const h=i.readBits(7);if(h>=100)throw new L;o.append(Or.toAlphaNumericChar(Math.floor(h/10))),o.append(Or.toAlphaNumericChar(h%10))}else if(u===1){if(i.available()<4)throw new L;const h=i.readBits(4);if(h>=10)throw new L;o.append(Or.toAlphaNumericChar(h))}}static parseECIValue(i){const o=i.readBits(8);if((o&128)===0)return o&127;if((o&192)===128){const u=i.readBits(8);return(o&63)<<8&4294967295|u}if((o&224)===192){const u=i.readBits(16);return(o&31)<<16&4294967295|u}throw new L}}Or.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Or.GB2312_SUBSET=1;class pf{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||i===null||i.length<3)return;const o=i[0];i[0]=i[2],i[2]=o}}class o1{constructor(){this.rsDecoder=new Nt(Je.QR_CODE_FIELD_256)}decodeBooleanArray(i,o){return this.decodeBitMatrix(fe.parseFromBooleanArray(i),o)}decodeBitMatrix(i,o){const u=new cl(i);let h=null;try{return this.decodeBitMatrixParser(u,o)}catch(p){h=p}try{u.remask(),u.setMirror(!0),u.readVersion(),u.readFormatInformation(),u.mirror();const p=this.decodeBitMatrixParser(u,o);return p.setOther(new pf(!0)),p}catch(p){throw h!==null?h:p}}decodeBitMatrixParser(i,o){const u=i.readVersion(),h=i.readFormatInformation().getErrorCorrectionLevel(),p=i.readCodewords(),v=xu.getDataBlocks(p,u,h);let S=0;for(const D of v)S+=D.getNumDataCodewords();const N=new Uint8Array(S);let I=0;for(const D of v){const z=D.getCodewords(),H=D.getNumDataCodewords();this.correctErrors(z,H);for(let W=0;W<H;W++)N[I++]=z[W]}return Or.decode(N,u,h,o)}correctErrors(i,o){const u=new Int32Array(i);try{this.rsDecoder.decode(u,i.length-o)}catch{throw new _}for(let h=0;h<o;h++)i[h]=u[h]}}class ul extends et{constructor(i,o,u){super(i,o),this.estimatedModuleSize=u}aboutEquals(i,o,u){if(Math.abs(o-this.getY())<=i&&Math.abs(u-this.getX())<=i){const h=Math.abs(i-this.estimatedModuleSize);return h<=1||h<=this.estimatedModuleSize}return!1}combineEstimate(i,o,u){const h=(this.getX()+o)/2,p=(this.getY()+i)/2,v=(this.estimatedModuleSize+u)/2;return new ul(h,p,v)}}class ba{constructor(i,o,u,h,p,v,S){this.image=i,this.startX=o,this.startY=u,this.width=h,this.height=p,this.moduleSize=v,this.resultPointCallback=S,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const i=this.startX,o=this.height,u=this.width,h=i+u,p=this.startY+o/2,v=new Int32Array(3),S=this.image;for(let N=0;N<o;N++){const I=p+((N&1)===0?Math.floor((N+1)/2):-Math.floor((N+1)/2));v[0]=0,v[1]=0,v[2]=0;let D=i;for(;D<h&&!S.get(D,I);)D++;let z=0;for(;D<h;){if(S.get(D,I))if(z===1)v[1]++;else if(z===2){if(this.foundPatternCross(v)){const H=this.handlePossibleCenter(v,I,D);if(H!==null)return H}v[0]=v[2],v[1]=1,v[2]=0,z=1}else v[++z]++;else z===1&&z++,v[z]++;D++}if(this.foundPatternCross(v)){const H=this.handlePossibleCenter(v,I,h);if(H!==null)return H}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Z}static centerFromEnd(i,o){return o-i[2]-i[1]/2}foundPatternCross(i){const o=this.moduleSize,u=o/2;for(let h=0;h<3;h++)if(Math.abs(o-i[h])>=u)return!1;return!0}crossCheckVertical(i,o,u,h){const p=this.image,v=p.getHeight(),S=this.crossCheckStateCount;S[0]=0,S[1]=0,S[2]=0;let N=i;for(;N>=0&&p.get(o,N)&&S[1]<=u;)S[1]++,N--;if(N<0||S[1]>u)return NaN;for(;N>=0&&!p.get(o,N)&&S[0]<=u;)S[0]++,N--;if(S[0]>u)return NaN;for(N=i+1;N<v&&p.get(o,N)&&S[1]<=u;)S[1]++,N++;if(N===v||S[1]>u)return NaN;for(;N<v&&!p.get(o,N)&&S[2]<=u;)S[2]++,N++;if(S[2]>u)return NaN;const I=S[0]+S[1]+S[2];return 5*Math.abs(I-h)>=2*h?NaN:this.foundPatternCross(S)?ba.centerFromEnd(S,N):NaN}handlePossibleCenter(i,o,u){const h=i[0]+i[1]+i[2],p=ba.centerFromEnd(i,u),v=this.crossCheckVertical(o,p,2*i[1],h);if(!isNaN(v)){const S=(i[0]+i[1]+i[2])/3;for(const I of this.possibleCenters)if(I.aboutEquals(S,v,p))return I.combineEstimate(v,p,S);const N=new ul(p,v,S);this.possibleCenters.push(N),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(N)}return null}}class ro extends et{constructor(i,o,u,h){super(i,o),this.estimatedModuleSize=u,this.count=h,h===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,o,u){if(Math.abs(o-this.getY())<=i&&Math.abs(u-this.getX())<=i){const h=Math.abs(i-this.estimatedModuleSize);return h<=1||h<=this.estimatedModuleSize}return!1}combineEstimate(i,o,u){const h=this.count+1,p=(this.count*this.getX()+o)/h,v=(this.count*this.getY()+i)/h,S=(this.count*this.estimatedModuleSize+u)/h;return new ro(p,v,S,h)}}class gu{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Rr{constructor(i,o){this.image=i,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(i){const o=i!=null&&i.get(Y.TRY_HARDER)!==void 0,u=i!=null&&i.get(Y.PURE_BARCODE)!==void 0,h=this.image,p=h.getHeight(),v=h.getWidth();let S=Math.floor(3*p/(4*Rr.MAX_MODULES));(S<Rr.MIN_SKIP||o)&&(S=Rr.MIN_SKIP);let N=!1;const I=new Int32Array(5);for(let z=S-1;z<p&&!N;z+=S){I[0]=0,I[1]=0,I[2]=0,I[3]=0,I[4]=0;let H=0;for(let W=0;W<v;W++)if(h.get(W,z))(H&1)===1&&H++,I[H]++;else if((H&1)===0)if(H===4)if(Rr.foundPatternCross(I)){if(this.handlePossibleCenter(I,z,W,u)===!0)if(S=2,this.hasSkipped===!0)N=this.haveMultiplyConfirmedCenters();else{const se=this.findRowSkip();se>I[2]&&(z+=se-I[2]-S,W=v-1)}else{I[0]=I[2],I[1]=I[3],I[2]=I[4],I[3]=1,I[4]=0,H=3;continue}H=0,I[0]=0,I[1]=0,I[2]=0,I[3]=0,I[4]=0}else I[0]=I[2],I[1]=I[3],I[2]=I[4],I[3]=1,I[4]=0,H=3;else I[++H]++;else I[H]++;Rr.foundPatternCross(I)&&this.handlePossibleCenter(I,z,v,u)===!0&&(S=I[0],this.hasSkipped&&(N=this.haveMultiplyConfirmedCenters()))}const D=this.selectBestPatterns();return et.orderBestPatterns(D),new gu(D)}static centerFromEnd(i,o){return o-i[4]-i[3]-i[2]/2}static foundPatternCross(i){let o=0;for(let p=0;p<5;p++){const v=i[p];if(v===0)return!1;o+=v}if(o<7)return!1;const u=o/7,h=u/2;return Math.abs(u-i[0])<h&&Math.abs(u-i[1])<h&&Math.abs(3*u-i[2])<3*h&&Math.abs(u-i[3])<h&&Math.abs(u-i[4])<h}getCrossCheckStateCount(){const i=this.crossCheckStateCount;return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i}crossCheckDiagonal(i,o,u,h){const p=this.getCrossCheckStateCount();let v=0;const S=this.image;for(;i>=v&&o>=v&&S.get(o-v,i-v);)p[2]++,v++;if(i<v||o<v)return!1;for(;i>=v&&o>=v&&!S.get(o-v,i-v)&&p[1]<=u;)p[1]++,v++;if(i<v||o<v||p[1]>u)return!1;for(;i>=v&&o>=v&&S.get(o-v,i-v)&&p[0]<=u;)p[0]++,v++;if(p[0]>u)return!1;const N=S.getHeight(),I=S.getWidth();for(v=1;i+v<N&&o+v<I&&S.get(o+v,i+v);)p[2]++,v++;if(i+v>=N||o+v>=I)return!1;for(;i+v<N&&o+v<I&&!S.get(o+v,i+v)&&p[3]<u;)p[3]++,v++;if(i+v>=N||o+v>=I||p[3]>=u)return!1;for(;i+v<N&&o+v<I&&S.get(o+v,i+v)&&p[4]<u;)p[4]++,v++;if(p[4]>=u)return!1;const D=p[0]+p[1]+p[2]+p[3]+p[4];return Math.abs(D-h)<2*h&&Rr.foundPatternCross(p)}crossCheckVertical(i,o,u,h){const p=this.image,v=p.getHeight(),S=this.getCrossCheckStateCount();let N=i;for(;N>=0&&p.get(o,N);)S[2]++,N--;if(N<0)return NaN;for(;N>=0&&!p.get(o,N)&&S[1]<=u;)S[1]++,N--;if(N<0||S[1]>u)return NaN;for(;N>=0&&p.get(o,N)&&S[0]<=u;)S[0]++,N--;if(S[0]>u)return NaN;for(N=i+1;N<v&&p.get(o,N);)S[2]++,N++;if(N===v)return NaN;for(;N<v&&!p.get(o,N)&&S[3]<u;)S[3]++,N++;if(N===v||S[3]>=u)return NaN;for(;N<v&&p.get(o,N)&&S[4]<u;)S[4]++,N++;if(S[4]>=u)return NaN;const I=S[0]+S[1]+S[2]+S[3]+S[4];return 5*Math.abs(I-h)>=2*h?NaN:Rr.foundPatternCross(S)?Rr.centerFromEnd(S,N):NaN}crossCheckHorizontal(i,o,u,h){const p=this.image,v=p.getWidth(),S=this.getCrossCheckStateCount();let N=i;for(;N>=0&&p.get(N,o);)S[2]++,N--;if(N<0)return NaN;for(;N>=0&&!p.get(N,o)&&S[1]<=u;)S[1]++,N--;if(N<0||S[1]>u)return NaN;for(;N>=0&&p.get(N,o)&&S[0]<=u;)S[0]++,N--;if(S[0]>u)return NaN;for(N=i+1;N<v&&p.get(N,o);)S[2]++,N++;if(N===v)return NaN;for(;N<v&&!p.get(N,o)&&S[3]<u;)S[3]++,N++;if(N===v||S[3]>=u)return NaN;for(;N<v&&p.get(N,o)&&S[4]<u;)S[4]++,N++;if(S[4]>=u)return NaN;const I=S[0]+S[1]+S[2]+S[3]+S[4];return 5*Math.abs(I-h)>=h?NaN:Rr.foundPatternCross(S)?Rr.centerFromEnd(S,N):NaN}handlePossibleCenter(i,o,u,h){const p=i[0]+i[1]+i[2]+i[3]+i[4];let v=Rr.centerFromEnd(i,u),S=this.crossCheckVertical(o,Math.floor(v),i[2],p);if(!isNaN(S)&&(v=this.crossCheckHorizontal(Math.floor(v),Math.floor(S),i[2],p),!isNaN(v)&&(!h||this.crossCheckDiagonal(Math.floor(S),Math.floor(v),i[2],p)))){const N=p/7;let I=!1;const D=this.possibleCenters;for(let z=0,H=D.length;z<H;z++){const W=D[z];if(W.aboutEquals(N,S,v)){D[z]=W.combineEstimate(S,v,N),I=!0;break}}if(!I){const z=new ro(v,S,N);D.push(z),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(z)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const u of this.possibleCenters)if(u.getCount()>=Rr.CENTER_QUORUM)if(o==null)o=u;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-u.getX())-Math.abs(o.getY()-u.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let i=0,o=0;const u=this.possibleCenters.length;for(const v of this.possibleCenters)v.getCount()>=Rr.CENTER_QUORUM&&(i++,o+=v.getEstimatedModuleSize());if(i<3)return!1;const h=o/u;let p=0;for(const v of this.possibleCenters)p+=Math.abs(v.getEstimatedModuleSize()-h);return p<=.05*o}selectBestPatterns(){const i=this.possibleCenters.length;if(i<3)throw new Z;const o=this.possibleCenters;let u;if(i>3){let h=0,p=0;for(const N of this.possibleCenters){const I=N.getEstimatedModuleSize();h+=I,p+=I*I}u=h/i;let v=Math.sqrt(p/i-u*u);o.sort((N,I)=>{const D=Math.abs(I.getEstimatedModuleSize()-u),z=Math.abs(N.getEstimatedModuleSize()-u);return D<z?-1:D>z?1:0});const S=Math.max(.2*u,v);for(let N=0;N<o.length&&o.length>3;N++){const I=o[N];Math.abs(I.getEstimatedModuleSize()-u)>S&&(o.splice(N,1),N--)}}if(o.length>3){let h=0;for(const p of o)h+=p.getEstimatedModuleSize();u=h/o.length,o.sort((p,v)=>{if(v.getCount()===p.getCount()){const S=Math.abs(v.getEstimatedModuleSize()-u),N=Math.abs(p.getEstimatedModuleSize()-u);return S<N?1:S>N?-1:0}else return v.getCount()-p.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}Rr.CENTER_QUORUM=2,Rr.MIN_SKIP=3,Rr.MAX_MODULES=57;class ri{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=i==null?null:i.get(Y.NEED_RESULT_POINT_CALLBACK);const u=new Rr(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(u)}processFinderPatternInfo(i){const o=i.getTopLeft(),u=i.getTopRight(),h=i.getBottomLeft(),p=this.calculateModuleSize(o,u,h);if(p<1)throw new Z("No pattern found in proccess finder.");const v=ri.computeDimension(o,u,h,p),S=ut.getProvisionalVersionForDimension(v),N=S.getDimensionForVersion()-7;let I=null;if(S.getAlignmentPatternCenters().length>0){const W=u.getX()-o.getX()+h.getX(),ae=u.getY()-o.getY()+h.getY(),se=1-3/N,xe=Math.floor(o.getX()+se*(W-o.getX())),Ae=Math.floor(o.getY()+se*(ae-o.getY()));for(let Xe=4;Xe<=16;Xe<<=1)try{I=this.findAlignmentInRegion(p,xe,Ae,Xe);break}catch(qe){if(!(qe instanceof Z))throw qe}}const D=ri.createTransform(o,u,h,I,v),z=ri.sampleGrid(this.image,D,v);let H;return I===null?H=[h,o,u]:H=[h,o,u,I],new Da(z,H)}static createTransform(i,o,u,h,p){const v=p-3.5;let S,N,I,D;return h!==null?(S=h.getX(),N=h.getY(),I=v-3,D=I):(S=o.getX()-i.getX()+u.getX(),N=o.getY()-i.getY()+u.getY(),I=v,D=v),In.quadrilateralToQuadrilateral(3.5,3.5,v,3.5,I,D,3.5,v,i.getX(),i.getY(),o.getX(),o.getY(),S,N,u.getX(),u.getY())}static sampleGrid(i,o,u){return Hn.getInstance().sampleGridWithTransform(i,u,u,o)}static computeDimension(i,o,u,h){const p=lt.round(et.distance(i,o)/h),v=lt.round(et.distance(i,u)/h);let S=Math.floor((p+v)/2)+7;switch(S&3){case 0:S++;break;case 2:S--;break;case 3:throw new Z("Dimensions could be not found.")}return S}calculateModuleSize(i,o,u){return(this.calculateModuleSizeOneWay(i,o)+this.calculateModuleSizeOneWay(i,u))/2}calculateModuleSizeOneWay(i,o){const u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(o.getX()),Math.floor(o.getY())),h=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(u)?h/7:isNaN(h)?u/7:(u+h)/14}sizeOfBlackWhiteBlackRunBothWays(i,o,u,h){let p=this.sizeOfBlackWhiteBlackRun(i,o,u,h),v=1,S=i-(u-i);S<0?(v=i/(i-S),S=0):S>=this.image.getWidth()&&(v=(this.image.getWidth()-1-i)/(S-i),S=this.image.getWidth()-1);let N=Math.floor(o-(h-o)*v);return v=1,N<0?(v=o/(o-N),N=0):N>=this.image.getHeight()&&(v=(this.image.getHeight()-1-o)/(N-o),N=this.image.getHeight()-1),S=Math.floor(i+(S-i)*v),p+=this.sizeOfBlackWhiteBlackRun(i,o,S,N),p-1}sizeOfBlackWhiteBlackRun(i,o,u,h){const p=Math.abs(h-o)>Math.abs(u-i);if(p){let W=i;i=o,o=W,W=u,u=h,h=W}const v=Math.abs(u-i),S=Math.abs(h-o);let N=-v/2;const I=i<u?1:-1,D=o<h?1:-1;let z=0;const H=u+I;for(let W=i,ae=o;W!==H;W+=I){const se=p?ae:W,xe=p?W:ae;if(z===1===this.image.get(se,xe)){if(z===2)return lt.distance(W,ae,i,o);z++}if(N+=S,N>0){if(ae===h)break;ae+=D,N-=v}}return z===2?lt.distance(u+I,h,i,o):NaN}findAlignmentInRegion(i,o,u,h){const p=Math.floor(h*i),v=Math.max(0,o-p),S=Math.min(this.image.getWidth()-1,o+p);if(S-v<i*3)throw new Z("Alignment top exceeds estimated module size.");const N=Math.max(0,u-p),I=Math.min(this.image.getHeight()-1,u+p);if(I-N<i*3)throw new Z("Alignment bottom exceeds estimated module size.");return new ba(this.image,v,N,S-v,I-N,i,this.resultPointCallback).find()}}class Ei{constructor(){this.decoder=new o1}getDecoder(){return this.decoder}decode(i,o){let u,h;if(o!=null&&o.get(Y.PURE_BARCODE)!==void 0){const N=Ei.extractPureBits(i.getBlackMatrix());u=this.decoder.decodeBitMatrix(N,o),h=Ei.NO_POINTS}else{const N=new ri(i.getBlackMatrix()).detect(o);u=this.decoder.decodeBitMatrix(N.getBits(),o),h=N.getPoints()}u.getOther()instanceof pf&&u.getOther().applyMirroredCorrection(h);const p=new ke(u.getText(),u.getRawBytes(),void 0,h,Q.QR_CODE,void 0),v=u.getByteSegments();v!==null&&p.putMetadata(Ze.BYTE_SEGMENTS,v);const S=u.getECLevel();return S!==null&&p.putMetadata(Ze.ERROR_CORRECTION_LEVEL,S),u.hasStructuredAppend()&&(p.putMetadata(Ze.STRUCTURED_APPEND_SEQUENCE,u.getStructuredAppendSequenceNumber()),p.putMetadata(Ze.STRUCTURED_APPEND_PARITY,u.getStructuredAppendParity())),p}reset(){}static extractPureBits(i){const o=i.getTopLeftOnBit(),u=i.getBottomRightOnBit();if(o===null||u===null)throw new Z;const h=this.moduleSize(o,i);let p=o[1],v=u[1],S=o[0],N=u[0];if(S>=N||p>=v)throw new Z;if(v-p!==N-S&&(N=S+(v-p),N>=i.getWidth()))throw new Z;const I=Math.round((N-S+1)/h),D=Math.round((v-p+1)/h);if(I<=0||D<=0)throw new Z;if(D!==I)throw new Z;const z=Math.floor(h/2);p+=z,S+=z;const H=S+Math.floor((I-1)*h)-N;if(H>0){if(H>z)throw new Z;S-=H}const W=p+Math.floor((D-1)*h)-v;if(W>0){if(W>z)throw new Z;p-=W}const ae=new fe(I,D);for(let se=0;se<D;se++){const xe=p+Math.floor(se*h);for(let Ae=0;Ae<I;Ae++)i.get(S+Math.floor(Ae*h),xe)&&ae.set(Ae,se)}return ae}static moduleSize(i,o){const u=o.getHeight(),h=o.getWidth();let p=i[0],v=i[1],S=!0,N=0;for(;p<h&&v<u;){if(S!==o.get(p,v)){if(++N===5)break;S=!S}p++,v++}if(p===h||v===u)throw new Z;return(p-i[0])/7}}Ei.NO_POINTS=new Array;class At{PDF417Common(){}static getBitCountSum(i){return lt.sum(i)}static toIntArray(i){if(i==null||!i.length)return At.EMPTY_INT_ARRAY;const o=new Int32Array(i.length);let u=0;for(const h of i)o[u++]=h;return o}static getCodeword(i){const o=F.binarySearch(At.SYMBOL_TABLE,i&262143);return o<0?-1:(At.CODEWORD_TABLE[o]-1)%At.NUMBER_OF_CODEWORDS}}At.NUMBER_OF_CODEWORDS=929,At.MAX_CODEWORDS_IN_BARCODE=At.NUMBER_OF_CODEWORDS-1,At.MIN_ROWS_IN_BARCODE=3,At.MAX_ROWS_IN_BARCODE=90,At.MODULES_IN_CODEWORD=17,At.MODULES_IN_STOP_PATTERN=18,At.BARS_IN_MODULE=8,At.EMPTY_INT_ARRAY=new Int32Array([]),At.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),At.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class xf{constructor(i,o){this.bits=i,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Dt{static detectMultiple(i,o,u){let h=i.getBlackMatrix(),p=Dt.detect(u,h);return p.length||(h=h.clone(),h.rotate180(),p=Dt.detect(u,h)),new xf(h,p)}static detect(i,o){const u=new Array;let h=0,p=0,v=!1;for(;h<o.getHeight();){const S=Dt.findVertices(o,h,p);if(S[0]==null&&S[3]==null){if(!v)break;v=!1,p=0;for(const N of u)N[1]!=null&&(h=Math.trunc(Math.max(h,N[1].getY()))),N[3]!=null&&(h=Math.max(h,Math.trunc(N[3].getY())));h+=Dt.ROW_STEP;continue}if(v=!0,u.push(S),!i)break;S[2]!=null?(p=Math.trunc(S[2].getX()),h=Math.trunc(S[2].getY())):(p=Math.trunc(S[4].getX()),h=Math.trunc(S[4].getY()))}return u}static findVertices(i,o,u){const h=i.getHeight(),p=i.getWidth(),v=new Array(8);return Dt.copyToResult(v,Dt.findRowsWithPattern(i,h,p,o,u,Dt.START_PATTERN),Dt.INDEXES_START_PATTERN),v[4]!=null&&(u=Math.trunc(v[4].getX()),o=Math.trunc(v[4].getY())),Dt.copyToResult(v,Dt.findRowsWithPattern(i,h,p,o,u,Dt.STOP_PATTERN),Dt.INDEXES_STOP_PATTERN),v}static copyToResult(i,o,u){for(let h=0;h<u.length;h++)i[u[h]]=o[h]}static findRowsWithPattern(i,o,u,h,p,v){const S=new Array(4);let N=!1;const I=new Int32Array(v.length);for(;h<o;h+=Dt.ROW_STEP){let z=Dt.findGuardPattern(i,p,h,u,!1,v,I);if(z!=null){for(;h>0;){const H=Dt.findGuardPattern(i,p,--h,u,!1,v,I);if(H!=null)z=H;else{h++;break}}S[0]=new et(z[0],h),S[1]=new et(z[1],h),N=!0;break}}let D=h+1;if(N){let z=0,H=Int32Array.from([Math.trunc(S[0].getX()),Math.trunc(S[1].getX())]);for(;D<o;D++){const W=Dt.findGuardPattern(i,H[0],D,u,!1,v,I);if(W!=null&&Math.abs(H[0]-W[0])<Dt.MAX_PATTERN_DRIFT&&Math.abs(H[1]-W[1])<Dt.MAX_PATTERN_DRIFT)H=W,z=0;else{if(z>Dt.SKIPPED_ROW_COUNT_MAX)break;z++}}D-=z+1,S[2]=new et(H[0],D),S[3]=new et(H[1],D)}return D-h<Dt.BARCODE_MIN_HEIGHT&&F.fill(S,null),S}static findGuardPattern(i,o,u,h,p,v,S){F.fillWithin(S,0,S.length,0);let N=o,I=0;for(;i.get(N,u)&&N>0&&I++<Dt.MAX_PIXEL_DRIFT;)N--;let D=N,z=0,H=v.length;for(let W=p;D<h;D++)if(i.get(D,u)!==W)S[z]++;else{if(z===H-1){if(Dt.patternMatchVariance(S,v,Dt.MAX_INDIVIDUAL_VARIANCE)<Dt.MAX_AVG_VARIANCE)return new Int32Array([N,D]);N+=S[0]+S[1],M.arraycopy(S,2,S,0,z-1),S[z-1]=0,S[z]=0,z--}else z++;S[z]=1,W=!W}return z===H-1&&Dt.patternMatchVariance(S,v,Dt.MAX_INDIVIDUAL_VARIANCE)<Dt.MAX_AVG_VARIANCE?new Int32Array([N,D-1]):null}static patternMatchVariance(i,o,u){let h=i.length,p=0,v=0;for(let I=0;I<h;I++)p+=i[I],v+=o[I];if(p<v)return 1/0;let S=p/v;u*=S;let N=0;for(let I=0;I<h;I++){let D=i[I],z=o[I]*S,H=D>z?D-z:z-D;if(H>u)return 1/0;N+=H}return N/p}}Dt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Dt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Dt.MAX_AVG_VARIANCE=.42,Dt.MAX_INDIVIDUAL_VARIANCE=.8,Dt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Dt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Dt.MAX_PIXEL_DRIFT=3,Dt.MAX_PATTERN_DRIFT=5,Dt.SKIPPED_ROW_COUNT_MAX=25,Dt.ROW_STEP=5,Dt.BARCODE_MIN_HEIGHT=10;class Ir{constructor(i,o){if(o.length===0)throw new A;this.field=i;let u=o.length;if(u>1&&o[0]===0){let h=1;for(;h<u&&o[h]===0;)h++;h===u?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(u-h),M.arraycopy(o,h,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);if(i===1){let h=0;for(let p of this.coefficients)h=this.field.add(h,p);return h}let o=this.coefficients[0],u=this.coefficients.length;for(let h=1;h<u;h++)o=this.field.add(this.field.multiply(i,o),this.coefficients[h]);return o}add(i){if(!this.field.equals(i.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let o=this.coefficients,u=i.coefficients;if(o.length>u.length){let v=o;o=u,u=v}let h=new Int32Array(u.length),p=u.length-o.length;M.arraycopy(u,0,h,0,p);for(let v=p;v<u.length;v++)h[v]=this.field.add(o[v-p],u[v]);return new Ir(this.field,h)}subtract(i){if(!this.field.equals(i.field))throw new A("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof Ir?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new Ir(this.field,new Int32Array([0]));let o=this.coefficients,u=o.length,h=i.coefficients,p=h.length,v=new Int32Array(u+p-1);for(let S=0;S<u;S++){let N=o[S];for(let I=0;I<p;I++)v[S+I]=this.field.add(v[S+I],this.field.multiply(N,h[I]))}return new Ir(this.field,v)}negative(){let i=this.coefficients.length,o=new Int32Array(i);for(let u=0;u<i;u++)o[u]=this.field.subtract(0,this.coefficients[u]);return new Ir(this.field,o)}multiplyScalar(i){if(i===0)return new Ir(this.field,new Int32Array([0]));if(i===1)return this;let o=this.coefficients.length,u=new Int32Array(o);for(let h=0;h<o;h++)u[h]=this.field.multiply(this.coefficients[h],i);return new Ir(this.field,u)}multiplyByMonomial(i,o){if(i<0)throw new A;if(o===0)return new Ir(this.field,new Int32Array([0]));let u=this.coefficients.length,h=new Int32Array(u+i);for(let p=0;p<u;p++)h[p]=this.field.multiply(this.coefficients[p],o);return new Ir(this.field,h)}toString(){let i=new ce;for(let o=this.getDegree();o>=0;o--){let u=this.getCoefficient(o);u!==0&&(u<0?(i.append(" - "),u=-u):i.length()>0&&i.append(" + "),(o===0||u!==1)&&i.append(u),o!==0&&(o===1?i.append("x"):(i.append("x^"),i.append(o))))}return i.toString()}}class yu{add(i,o){return(i+o)%this.modulus}subtract(i,o){return(this.modulus+i-o)%this.modulus}exp(i){return this.expTable[i]}log(i){if(i===0)throw new A;return this.logTable[i]}inverse(i){if(i===0)throw new Be;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,o){return i===0||o===0?0:this.expTable[(this.logTable[i]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}class hs extends yu{constructor(i,o){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let u=1;for(let h=0;h<i;h++)this.expTable[h]=u,u=u*o%i;for(let h=0;h<i-1;h++)this.logTable[this.expTable[h]]=h;this.zero=new Ir(this,new Int32Array([0])),this.one=new Ir(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,o){if(i<0)throw new A;if(o===0)return this.zero;let u=new Int32Array(i+1);return u[0]=o,new Ir(this,u)}}hs.PDF417_GF=new hs(At.NUMBER_OF_CODEWORDS,3);class Ni{constructor(){this.field=hs.PDF417_GF}decode(i,o,u){let h=new Ir(this.field,i),p=new Int32Array(o),v=!1;for(let ae=o;ae>0;ae--){let se=h.evaluateAt(this.field.exp(ae));p[o-ae]=se,se!==0&&(v=!0)}if(!v)return 0;let S=this.field.getOne();if(u!=null)for(const ae of u){let se=this.field.exp(i.length-1-ae),xe=new Ir(this.field,new Int32Array([this.field.subtract(0,se),1]));S=S.multiply(xe)}let N=new Ir(this.field,p),I=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),N,o),D=I[0],z=I[1],H=this.findErrorLocations(D),W=this.findErrorMagnitudes(z,D,H);for(let ae=0;ae<H.length;ae++){let se=i.length-1-this.field.log(H[ae]);if(se<0)throw _.getChecksumInstance();i[se]=this.field.subtract(i[se],W[ae])}return H.length}runEuclideanAlgorithm(i,o,u){if(i.getDegree()<o.getDegree()){let H=i;i=o,o=H}let h=i,p=o,v=this.field.getZero(),S=this.field.getOne();for(;p.getDegree()>=Math.round(u/2);){let H=h,W=v;if(h=p,v=S,h.isZero())throw _.getChecksumInstance();p=H;let ae=this.field.getZero(),se=h.getCoefficient(h.getDegree()),xe=this.field.inverse(se);for(;p.getDegree()>=h.getDegree()&&!p.isZero();){let Ae=p.getDegree()-h.getDegree(),Xe=this.field.multiply(p.getCoefficient(p.getDegree()),xe);ae=ae.add(this.field.buildMonomial(Ae,Xe)),p=p.subtract(h.multiplyByMonomial(Ae,Xe))}S=ae.multiply(v).subtract(W).negative()}let N=S.getCoefficient(0);if(N===0)throw _.getChecksumInstance();let I=this.field.inverse(N),D=S.multiply(I),z=p.multiply(I);return[D,z]}findErrorLocations(i){let o=i.getDegree(),u=new Int32Array(o),h=0;for(let p=1;p<this.field.getSize()&&h<o;p++)i.evaluateAt(p)===0&&(u[h]=this.field.inverse(p),h++);if(h!==o)throw _.getChecksumInstance();return u}findErrorMagnitudes(i,o,u){let h=o.getDegree(),p=new Int32Array(h);for(let I=1;I<=h;I++)p[h-I]=this.field.multiply(I,o.getCoefficient(I));let v=new Ir(this.field,p),S=u.length,N=new Int32Array(S);for(let I=0;I<S;I++){let D=this.field.inverse(u[I]),z=this.field.subtract(0,i.evaluateAt(D)),H=this.field.inverse(v.evaluateAt(D));N[I]=this.field.multiply(z,H)}return N}}class Ci{constructor(i,o,u,h,p){i instanceof Ci?this.constructor_2(i):this.constructor_1(i,o,u,h,p)}constructor_1(i,o,u,h,p){const v=o==null||u==null,S=h==null||p==null;if(v&&S)throw new Z;v?(o=new et(0,h.getY()),u=new et(0,p.getY())):S&&(h=new et(i.getWidth()-1,o.getY()),p=new et(i.getWidth()-1,u.getY())),this.image=i,this.topLeft=o,this.bottomLeft=u,this.topRight=h,this.bottomRight=p,this.minX=Math.trunc(Math.min(o.getX(),u.getX())),this.maxX=Math.trunc(Math.max(h.getX(),p.getX())),this.minY=Math.trunc(Math.min(o.getY(),h.getY())),this.maxY=Math.trunc(Math.max(u.getY(),p.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,o){return i==null?o:o==null?i:new Ci(i.image,i.topLeft,i.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(i,o,u){let h=this.topLeft,p=this.bottomLeft,v=this.topRight,S=this.bottomRight;if(i>0){let N=u?this.topLeft:this.topRight,I=Math.trunc(N.getY()-i);I<0&&(I=0);let D=new et(N.getX(),I);u?h=D:v=D}if(o>0){let N=u?this.bottomLeft:this.bottomRight,I=Math.trunc(N.getY()+o);I>=this.image.getHeight()&&(I=this.image.getHeight()-1);let D=new et(N.getX(),I);u?p=D:S=D}return new Ci(this.image,h,p,v,S)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class rc{constructor(i,o,u,h){this.columnCount=i,this.errorCorrectionLevel=h,this.rowCountUpperPart=o,this.rowCountLowerPart=u,this.rowCount=o+u}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class dl{constructor(){this.buffer=""}static form(i,o){let u=-1;function h(v,S,N,I,D,z){if(v==="%%")return"%";if(o[++u]===void 0)return;v=I?parseInt(I.substr(1)):void 0;let H=D?parseInt(D.substr(1)):void 0,W;switch(z){case"s":W=o[u];break;case"c":W=o[u][0];break;case"f":W=parseFloat(o[u]).toFixed(v);break;case"p":W=parseFloat(o[u]).toPrecision(v);break;case"e":W=parseFloat(o[u]).toExponential(v);break;case"x":W=parseInt(o[u]).toString(H||16);break;case"d":W=parseFloat(parseInt(o[u],H||10).toPrecision(v)).toFixed(0);break}W=typeof W=="object"?JSON.stringify(W):(+W).toString(H);let ae=parseInt(N),se=N&&N[0]+""=="0"?"0":" ";for(;W.length<ae;)W=S!==void 0?W+se:se+W;return W}let p=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(p,h)}format(i,...o){this.buffer+=dl.form(i,o)}toString(){return this.buffer}}class Gi{constructor(i){this.boundingBox=new Ci(i),this.codewords=new Array(i.getMaxY()-i.getMinY()+1)}getCodewordNearby(i){let o=this.getCodeword(i);if(o!=null)return o;for(let u=1;u<Gi.MAX_NEARBY_DISTANCE;u++){let h=this.imageRowToCodewordIndex(i)-u;if(h>=0&&(o=this.codewords[h],o!=null)||(h=this.imageRowToCodewordIndex(i)+u,h<this.codewords.length&&(o=this.codewords[h],o!=null)))return o}return null}imageRowToCodewordIndex(i){return i-this.boundingBox.getMinY()}setCodeword(i,o){this.codewords[this.imageRowToCodewordIndex(i)]=o}getCodeword(i){return this.codewords[this.imageRowToCodewordIndex(i)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const i=new dl;let o=0;for(const u of this.codewords){if(u==null){i.format("%3d:    |   %n",o++);continue}i.format("%3d: %3d|%3d%n",o++,u.getRowNumber(),u.getValue())}return i.toString()}}Gi.MAX_NEARBY_DISTANCE=5;class Vi{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let o=this.values.get(i);o==null&&(o=0),o++,this.values.set(i,o)}getValue(){let i=-1,o=new Array;for(const[u,h]of this.values.entries()){const p={getKey:()=>u,getValue:()=>h};p.getValue()>i?(i=p.getValue(),o=[],o.push(p.getKey())):p.getValue()===i&&o.push(p.getKey())}return At.toIntArray(o)}getConfidence(i){return this.values.get(i)}}class vu extends Gi{constructor(i,o){super(i),this._isLeft=o}setRowNumbers(){for(let i of this.getCodewords())i!=null&&i.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,i);let u=this.getBoundingBox(),h=this._isLeft?u.getTopLeft():u.getTopRight(),p=this._isLeft?u.getBottomLeft():u.getBottomRight(),v=this.imageRowToCodewordIndex(Math.trunc(h.getY())),S=this.imageRowToCodewordIndex(Math.trunc(p.getY())),N=-1,I=1,D=0;for(let z=v;z<S;z++){if(o[z]==null)continue;let H=o[z],W=H.getRowNumber()-N;if(W===0)D++;else if(W===1)I=Math.max(I,D),D=1,N=H.getRowNumber();else if(W<0||H.getRowNumber()>=i.getRowCount()||W>z)o[z]=null;else{let ae;I>2?ae=(I-2)*W:ae=W;let se=ae>=z;for(let xe=1;xe<=ae&&!se;xe++)se=o[z-xe]!=null;se?o[z]=null:(N=H.getRowNumber(),D=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let o=new Int32Array(i.getRowCount());for(let u of this.getCodewords())if(u!=null){let h=u.getRowNumber();if(h>=o.length)continue;o[h]++}return o}adjustIncompleteIndicatorColumnRowNumbers(i){let o=this.getBoundingBox(),u=this._isLeft?o.getTopLeft():o.getTopRight(),h=this._isLeft?o.getBottomLeft():o.getBottomRight(),p=this.imageRowToCodewordIndex(Math.trunc(u.getY())),v=this.imageRowToCodewordIndex(Math.trunc(h.getY())),S=this.getCodewords(),N=-1;for(let I=p;I<v;I++){if(S[I]==null)continue;let D=S[I];D.setRowNumberAsRowIndicatorColumn();let z=D.getRowNumber()-N;z===0||(z===1?N=D.getRowNumber():D.getRowNumber()>=i.getRowCount()?S[I]=null:N=D.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),o=new Vi,u=new Vi,h=new Vi,p=new Vi;for(let S of i){if(S==null)continue;S.setRowNumberAsRowIndicatorColumn();let N=S.getValue()%30,I=S.getRowNumber();switch(this._isLeft||(I+=2),I%3){case 0:u.setValue(N*3+1);break;case 1:p.setValue(N/3),h.setValue(N%3);break;case 2:o.setValue(N+1);break}}if(o.getValue().length===0||u.getValue().length===0||h.getValue().length===0||p.getValue().length===0||o.getValue()[0]<1||u.getValue()[0]+h.getValue()[0]<At.MIN_ROWS_IN_BARCODE||u.getValue()[0]+h.getValue()[0]>At.MAX_ROWS_IN_BARCODE)return null;let v=new rc(o.getValue()[0],u.getValue()[0],h.getValue()[0],p.getValue()[0]);return this.removeIncorrectCodewords(i,v),v}removeIncorrectCodewords(i,o){for(let u=0;u<i.length;u++){let h=i[u];if(i[u]==null)continue;let p=h.getValue()%30,v=h.getRowNumber();if(v>o.getRowCount()){i[u]=null;continue}switch(this._isLeft||(v+=2),v%3){case 0:p*3+1!==o.getRowCountUpperPart()&&(i[u]=null);break;case 1:(Math.trunc(p/3)!==o.getErrorCorrectionLevel()||p%3!==o.getRowCountLowerPart())&&(i[u]=null);break;case 2:p+1!==o.getColumnCount()&&(i[u]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class mn{constructor(i,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let i=At.MAX_CODEWORDS_IN_BARCODE,o;do o=i,i=this.adjustRowNumbersAndGetCount();while(i>0&&i<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i!=null&&i.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(i===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let u=this.detectionResultColumns[o].getCodewords();for(let h=0;h<u.length;h++)u[h]!=null&&(u[h].hasValidRowNumber()||this.adjustRowNumbers(o,h,u))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let i=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<i.length;u++)if(i[u]!=null&&o[u]!=null&&i[u].getRowNumber()===o[u].getRowNumber())for(let h=1;h<=this.barcodeColumnCount;h++){let p=this.detectionResultColumns[h].getCodewords()[u];p!=null&&(p.setRowNumber(i[u].getRowNumber()),p.hasValidRowNumber()||(this.detectionResultColumns[h].getCodewords()[u]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let i=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<o.length;u++){if(o[u]==null)continue;let h=o[u].getRowNumber(),p=0;for(let v=this.barcodeColumnCount+1;v>0&&p<this.ADJUST_ROW_NUMBER_SKIP;v--){let S=this.detectionResultColumns[v].getCodewords()[u];S!=null&&(p=mn.adjustRowNumberIfValid(h,p,S),S.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let i=0,o=this.detectionResultColumns[0].getCodewords();for(let u=0;u<o.length;u++){if(o[u]==null)continue;let h=o[u].getRowNumber(),p=0;for(let v=1;v<this.barcodeColumnCount+1&&p<this.ADJUST_ROW_NUMBER_SKIP;v++){let S=this.detectionResultColumns[v].getCodewords()[u];S!=null&&(p=mn.adjustRowNumberIfValid(h,p,S),S.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,o,u){return u==null||u.hasValidRowNumber()||(u.isValidRowNumber(i)?(u.setRowNumber(i),o=0):++o),o}adjustRowNumbers(i,o,u){if(!this.detectionResultColumns[i-1])return;let h=u[o],p=this.detectionResultColumns[i-1].getCodewords(),v=p;this.detectionResultColumns[i+1]!=null&&(v=this.detectionResultColumns[i+1].getCodewords());let S=new Array(14);S[2]=p[o],S[3]=v[o],o>0&&(S[0]=u[o-1],S[4]=p[o-1],S[5]=v[o-1]),o>1&&(S[8]=u[o-2],S[10]=p[o-2],S[11]=v[o-2]),o<u.length-1&&(S[1]=u[o+1],S[6]=p[o+1],S[7]=v[o+1]),o<u.length-2&&(S[9]=u[o+2],S[12]=p[o+2],S[13]=v[o+2]);for(let N of S)if(mn.adjustRowNumber(h,N))return}static adjustRowNumber(i,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===i.getBucket()?(i.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,o){this.detectionResultColumns[i]=o}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];i==null&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new dl;for(let u=0;u<i.getCodewords().length;u++){o.format("CW %3d:",u);for(let h=0;h<this.barcodeColumnCount+2;h++){if(this.detectionResultColumns[h]==null){o.format("    |   ");continue}let p=this.detectionResultColumns[h].getCodewords()[u];if(p==null){o.format("    |   ");continue}o.format(" %3d|%3d",p.getRowNumber(),p.getValue())}o.format("%n")}return o.toString()}}class La{constructor(i,o,u,h){this.rowNumber=La.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(i),this.endX=Math.trunc(o),this.bucket=Math.trunc(u),this.value=Math.trunc(h)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(i){return i!==La.BARCODE_ROW_UNKNOWN&&this.bucket===i%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(i){this.rowNumber=i}toString(){return this.rowNumber+"|"+this.value}}La.BARCODE_ROW_UNKNOWN=-1;class An{static initialize(){for(let i=0;i<At.SYMBOL_TABLE.length;i++){let o=At.SYMBOL_TABLE[i],u=o&1;for(let h=0;h<At.BARS_IN_MODULE;h++){let p=0;for(;(o&1)===u;)p+=1,o>>=1;u=o&1,An.RATIOS_TABLE[i]||(An.RATIOS_TABLE[i]=new Array(At.BARS_IN_MODULE)),An.RATIOS_TABLE[i][At.BARS_IN_MODULE-h-1]=Math.fround(p/At.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let o=An.getDecodedCodewordValue(An.sampleBitCounts(i));return o!==-1?o:An.getClosestDecodedValue(i)}static sampleBitCounts(i){let o=lt.sum(i),u=new Int32Array(At.BARS_IN_MODULE),h=0,p=0;for(let v=0;v<At.MODULES_IN_CODEWORD;v++){let S=o/(2*At.MODULES_IN_CODEWORD)+v*o/At.MODULES_IN_CODEWORD;p+i[h]<=S&&(p+=i[h],h++),u[h]++}return u}static getDecodedCodewordValue(i){let o=An.getBitValue(i);return At.getCodeword(o)===-1?-1:o}static getBitValue(i){let o=0;for(let u=0;u<i.length;u++)for(let h=0;h<i[u];h++)o=o<<1|(u%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(i){let o=lt.sum(i),u=new Array(At.BARS_IN_MODULE);if(o>1)for(let v=0;v<u.length;v++)u[v]=Math.fround(i[v]/o);let h=wn.MAX_VALUE,p=-1;this.bSymbolTableReady||An.initialize();for(let v=0;v<An.RATIOS_TABLE.length;v++){let S=0,N=An.RATIOS_TABLE[v];for(let I=0;I<At.BARS_IN_MODULE;I++){let D=Math.fround(N[I]-u[I]);if(S+=Math.fround(D*D),S>=h)break}S<h&&(h=S,p=At.SYMBOL_TABLE[v])}return p}}An.bSymbolTableReady=!1,An.RATIOS_TABLE=new Array(At.SYMBOL_TABLE.length).map(B=>new Array(At.BARS_IN_MODULE));class fl{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class gf{static parseLong(i,o=void 0){return parseInt(i,o)}}class nc extends y{}nc.kind="NullPointerException";class bu{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,o,u){if(i==null)throw new nc;if(o<0||o>i.length||u<0||o+u>i.length||o+u<0)throw new k;if(u===0)return;for(let h=0;h<u;h++)this.write(i[o+h])}flush(){}close(){}}class no extends y{}class ac extends bu{constructor(i=32){if(super(),this.count=0,i<0)throw new A("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let u=this.buf.length<<1;if(u-i<0&&(u=i),u<0){if(i<0)throw new no;u=U.MAX_VALUE}this.buf=F.copyOfUint8Array(this.buf,u)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,o,u){if(o<0||o>i.length||u<0||o+u-i.length>0)throw new k;this.ensureCapacity(this.count+u),M.arraycopy(i,o,this.buf,this.count,u),this.count+=u}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return F.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?typeof i=="string"?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var or;(function(B){B[B.ALPHA=0]="ALPHA",B[B.LOWER=1]="LOWER",B[B.MIXED=2]="MIXED",B[B.PUNCT=3]="PUNCT",B[B.ALPHA_SHIFT=4]="ALPHA_SHIFT",B[B.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(or||(or={}));function yf(){if(typeof window<"u")return window.BigInt||null;if(typeof I0<"u")return I0.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let ic;function Yi(B){if(typeof ic>"u"&&(ic=yf()),ic===null)throw new Error("BigInt is not supported!");return ic(B)}function wu(){let B=[];B[0]=Yi(1);let i=Yi(900);B[1]=i;for(let o=2;o<16;o++)B[o]=B[o-1]*i;return B}class Ee{static decode(i,o){let u=new ce(""),h=K.ISO8859_1;u.enableDecoding(h);let p=1,v=i[p++],S=new fl;for(;p<i[0];){switch(v){case Ee.TEXT_COMPACTION_MODE_LATCH:p=Ee.textCompaction(i,p,u);break;case Ee.BYTE_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH_6:p=Ee.byteCompaction(v,i,h,p,u);break;case Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[p++]);break;case Ee.NUMERIC_COMPACTION_MODE_LATCH:p=Ee.numericCompaction(i,p,u);break;case Ee.ECI_CHARSET:K.getCharacterSetECIByValue(i[p++]);break;case Ee.ECI_GENERAL_PURPOSE:p+=2;break;case Ee.ECI_USER_DEFINED:p++;break;case Ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:p=Ee.decodeMacroBlock(i,p,S);break;case Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ee.MACRO_PDF417_TERMINATOR:throw new L;default:p--,p=Ee.textCompaction(i,p,u);break}if(p<i.length)v=i[p++];else throw L.getFormatInstance()}if(u.length()===0)throw L.getFormatInstance();let N=new me(null,u.toString(),null,o);return N.setOther(S),N}static decodeMacroBlock(i,o,u){if(o+Ee.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw L.getFormatInstance();let h=new Int32Array(Ee.NUMBER_OF_SEQUENCE_CODEWORDS);for(let S=0;S<Ee.NUMBER_OF_SEQUENCE_CODEWORDS;S++,o++)h[S]=i[o];u.setSegmentIndex(U.parseInt(Ee.decodeBase900toBase10(h,Ee.NUMBER_OF_SEQUENCE_CODEWORDS)));let p=new ce;o=Ee.textCompaction(i,o,p),u.setFileId(p.toString());let v=-1;for(i[o]===Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(v=o+1);o<i[0];)switch(i[o]){case Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,i[o]){case Ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let S=new ce;o=Ee.textCompaction(i,o+1,S),u.setFileName(S.toString());break;case Ee.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let N=new ce;o=Ee.textCompaction(i,o+1,N),u.setSender(N.toString());break;case Ee.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let I=new ce;o=Ee.textCompaction(i,o+1,I),u.setAddressee(I.toString());break;case Ee.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let D=new ce;o=Ee.numericCompaction(i,o+1,D),u.setSegmentCount(U.parseInt(D.toString()));break;case Ee.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let z=new ce;o=Ee.numericCompaction(i,o+1,z),u.setTimestamp(gf.parseLong(z.toString()));break;case Ee.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let H=new ce;o=Ee.numericCompaction(i,o+1,H),u.setChecksum(U.parseInt(H.toString()));break;case Ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let W=new ce;o=Ee.numericCompaction(i,o+1,W),u.setFileSize(gf.parseLong(W.toString()));break;default:throw L.getFormatInstance()}break;case Ee.MACRO_PDF417_TERMINATOR:o++,u.setLastSegment(!0);break;default:throw L.getFormatInstance()}if(v!==-1){let S=o-v;u.isLastSegment()&&S--,u.setOptionalData(F.copyOfRange(i,v,v+S))}return o}static textCompaction(i,o,u){let h=new Int32Array((i[0]-o)*2),p=new Int32Array((i[0]-o)*2),v=0,S=!1;for(;o<i[0]&&!S;){let N=i[o++];if(N<Ee.TEXT_COMPACTION_MODE_LATCH)h[v]=N/30,h[v+1]=N%30,v+=2;else switch(N){case Ee.TEXT_COMPACTION_MODE_LATCH:h[v++]=Ee.TEXT_COMPACTION_MODE_LATCH;break;case Ee.BYTE_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH_6:case Ee.NUMERIC_COMPACTION_MODE_LATCH:case Ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ee.MACRO_PDF417_TERMINATOR:o--,S=!0;break;case Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h[v]=Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,N=i[o++],p[v]=N,v++;break}}return Ee.decodeTextCompaction(h,p,v,u),o}static decodeTextCompaction(i,o,u,h){let p=or.ALPHA,v=or.ALPHA,S=0;for(;S<u;){let N=i[S],I="";switch(p){case or.ALPHA:if(N<26)I=String.fromCharCode(65+N);else switch(N){case 26:I=" ";break;case Ee.LL:p=or.LOWER;break;case Ee.ML:p=or.MIXED;break;case Ee.PS:v=p,p=or.PUNCT_SHIFT;break;case Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[S]);break;case Ee.TEXT_COMPACTION_MODE_LATCH:p=or.ALPHA;break}break;case or.LOWER:if(N<26)I=String.fromCharCode(97+N);else switch(N){case 26:I=" ";break;case Ee.AS:v=p,p=or.ALPHA_SHIFT;break;case Ee.ML:p=or.MIXED;break;case Ee.PS:v=p,p=or.PUNCT_SHIFT;break;case Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[S]);break;case Ee.TEXT_COMPACTION_MODE_LATCH:p=or.ALPHA;break}break;case or.MIXED:if(N<Ee.PL)I=Ee.MIXED_CHARS[N];else switch(N){case Ee.PL:p=or.PUNCT;break;case 26:I=" ";break;case Ee.LL:p=or.LOWER;break;case Ee.AL:p=or.ALPHA;break;case Ee.PS:v=p,p=or.PUNCT_SHIFT;break;case Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[S]);break;case Ee.TEXT_COMPACTION_MODE_LATCH:p=or.ALPHA;break}break;case or.PUNCT:if(N<Ee.PAL)I=Ee.PUNCT_CHARS[N];else switch(N){case Ee.PAL:p=or.ALPHA;break;case Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[S]);break;case Ee.TEXT_COMPACTION_MODE_LATCH:p=or.ALPHA;break}break;case or.ALPHA_SHIFT:if(p=v,N<26)I=String.fromCharCode(65+N);else switch(N){case 26:I=" ";break;case Ee.TEXT_COMPACTION_MODE_LATCH:p=or.ALPHA;break}break;case or.PUNCT_SHIFT:if(p=v,N<Ee.PAL)I=Ee.PUNCT_CHARS[N];else switch(N){case Ee.PAL:p=or.ALPHA;break;case Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[S]);break;case Ee.TEXT_COMPACTION_MODE_LATCH:p=or.ALPHA;break}break}I!==""&&h.append(I),S++}}static byteCompaction(i,o,u,h,p){let v=new ac,S=0,N=0,I=!1;switch(i){case Ee.BYTE_COMPACTION_MODE_LATCH:let D=new Int32Array(6),z=o[h++];for(;h<o[0]&&!I;)switch(D[S++]=z,N=900*N+z,z=o[h++],z){case Ee.TEXT_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH:case Ee.NUMERIC_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH_6:case Ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ee.MACRO_PDF417_TERMINATOR:h--,I=!0;break;default:if(S%5===0&&S>0){for(let H=0;H<6;++H)v.write(Number(Yi(N)>>Yi(8*(5-H))));N=0,S=0}break}h===o[0]&&z<Ee.TEXT_COMPACTION_MODE_LATCH&&(D[S++]=z);for(let H=0;H<S;H++)v.write(D[H]);break;case Ee.BYTE_COMPACTION_MODE_LATCH_6:for(;h<o[0]&&!I;){let H=o[h++];if(H<Ee.TEXT_COMPACTION_MODE_LATCH)S++,N=900*N+H;else switch(H){case Ee.TEXT_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH:case Ee.NUMERIC_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH_6:case Ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ee.MACRO_PDF417_TERMINATOR:h--,I=!0;break}if(S%5===0&&S>0){for(let W=0;W<6;++W)v.write(Number(Yi(N)>>Yi(8*(5-W))));N=0,S=0}}break}return p.append(oe.decode(v.toByteArray(),u)),h}static numericCompaction(i,o,u){let h=0,p=!1,v=new Int32Array(Ee.MAX_NUMERIC_CODEWORDS);for(;o<i[0]&&!p;){let S=i[o++];if(o===i[0]&&(p=!0),S<Ee.TEXT_COMPACTION_MODE_LATCH)v[h]=S,h++;else switch(S){case Ee.TEXT_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH_6:case Ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ee.MACRO_PDF417_TERMINATOR:o--,p=!0;break}(h%Ee.MAX_NUMERIC_CODEWORDS===0||S===Ee.NUMERIC_COMPACTION_MODE_LATCH||p)&&h>0&&(u.append(Ee.decodeBase900toBase10(v,h)),h=0)}return o}static decodeBase900toBase10(i,o){let u=Yi(0);for(let p=0;p<o;p++)u+=Ee.EXP900[o-p-1]*Yi(i[p]);let h=u.toString();if(h.charAt(0)!=="1")throw new L;return h.substring(1)}}Ee.TEXT_COMPACTION_MODE_LATCH=900,Ee.BYTE_COMPACTION_MODE_LATCH=901,Ee.NUMERIC_COMPACTION_MODE_LATCH=902,Ee.BYTE_COMPACTION_MODE_LATCH_6=924,Ee.ECI_USER_DEFINED=925,Ee.ECI_GENERAL_PURPOSE=926,Ee.ECI_CHARSET=927,Ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Ee.MACRO_PDF417_TERMINATOR=922,Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Ee.MAX_NUMERIC_CODEWORDS=15,Ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Ee.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Ee.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Ee.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Ee.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Ee.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Ee.PL=25,Ee.LL=27,Ee.AS=27,Ee.ML=28,Ee.AL=28,Ee.PS=29,Ee.PAL=29,Ee.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Ee.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Ee.EXP900=yf()?wu():[],Ee.NUMBER_OF_SEQUENCE_CODEWORDS=2;class zt{constructor(){}static decode(i,o,u,h,p,v,S){let N=new Ci(i,o,u,h,p),I=null,D=null,z;for(let ae=!0;;ae=!1){if(o!=null&&(I=zt.getRowIndicatorColumn(i,N,o,!0,v,S)),h!=null&&(D=zt.getRowIndicatorColumn(i,N,h,!1,v,S)),z=zt.merge(I,D),z==null)throw Z.getNotFoundInstance();let se=z.getBoundingBox();if(ae&&se!=null&&(se.getMinY()<N.getMinY()||se.getMaxY()>N.getMaxY()))N=se;else break}z.setBoundingBox(N);let H=z.getBarcodeColumnCount()+1;z.setDetectionResultColumn(0,I),z.setDetectionResultColumn(H,D);let W=I!=null;for(let ae=1;ae<=H;ae++){let se=W?ae:H-ae;if(z.getDetectionResultColumn(se)!==void 0)continue;let xe;se===0||se===H?xe=new vu(N,se===0):xe=new Gi(N),z.setDetectionResultColumn(se,xe);let Ae=-1,Xe=Ae;for(let qe=N.getMinY();qe<=N.getMaxY();qe++){if(Ae=zt.getStartColumn(z,se,qe,W),Ae<0||Ae>N.getMaxX()){if(Xe===-1)continue;Ae=Xe}let Fe=zt.detectCodeword(i,N.getMinX(),N.getMaxX(),W,Ae,qe,v,S);Fe!=null&&(xe.setCodeword(qe,Fe),Xe=Ae,v=Math.min(v,Fe.getWidth()),S=Math.max(S,Fe.getWidth()))}}return zt.createDecoderResult(z)}static merge(i,o){if(i==null&&o==null)return null;let u=zt.getBarcodeMetadata(i,o);if(u==null)return null;let h=Ci.merge(zt.adjustBoundingBox(i),zt.adjustBoundingBox(o));return new mn(u,h)}static adjustBoundingBox(i){if(i==null)return null;let o=i.getRowHeights();if(o==null)return null;let u=zt.getMax(o),h=0;for(let S of o)if(h+=u-S,S>0)break;let p=i.getCodewords();for(let S=0;h>0&&p[S]==null;S++)h--;let v=0;for(let S=o.length-1;S>=0&&(v+=u-o[S],!(o[S]>0));S--);for(let S=p.length-1;v>0&&p[S]==null;S--)v--;return i.getBoundingBox().addMissingRows(h,v,i.isLeft())}static getMax(i){let o=-1;for(let u of i)o=Math.max(o,u);return o}static getBarcodeMetadata(i,o){let u;if(i==null||(u=i.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let h;return o==null||(h=o.getBarcodeMetadata())==null?u:u.getColumnCount()!==h.getColumnCount()&&u.getErrorCorrectionLevel()!==h.getErrorCorrectionLevel()&&u.getRowCount()!==h.getRowCount()?null:u}static getRowIndicatorColumn(i,o,u,h,p,v){let S=new vu(o,h);for(let N=0;N<2;N++){let I=N===0?1:-1,D=Math.trunc(Math.trunc(u.getX()));for(let z=Math.trunc(Math.trunc(u.getY()));z<=o.getMaxY()&&z>=o.getMinY();z+=I){let H=zt.detectCodeword(i,0,i.getWidth(),h,D,z,p,v);H!=null&&(S.setCodeword(z,H),h?D=H.getStartX():D=H.getEndX())}}return S}static adjustCodewordCount(i,o){let u=o[0][1],h=u.getValue(),p=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-zt.getNumberOfECCodeWords(i.getBarcodeECLevel());if(h.length===0){if(p<1||p>At.MAX_CODEWORDS_IN_BARCODE)throw Z.getNotFoundInstance();u.setValue(p)}else h[0]!==p&&u.setValue(p)}static createDecoderResult(i){let o=zt.createBarcodeMatrix(i);zt.adjustCodewordCount(i,o);let u=new Array,h=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),p=[],v=new Array;for(let N=0;N<i.getBarcodeRowCount();N++)for(let I=0;I<i.getBarcodeColumnCount();I++){let D=o[N][I+1].getValue(),z=N*i.getBarcodeColumnCount()+I;D.length===0?u.push(z):D.length===1?h[z]=D[0]:(v.push(z),p.push(D))}let S=new Array(p.length);for(let N=0;N<S.length;N++)S[N]=p[N];return zt.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),h,At.toIntArray(u),At.toIntArray(v),S)}static createDecoderResultFromAmbiguousValues(i,o,u,h,p){let v=new Int32Array(h.length),S=100;for(;S-- >0;){for(let N=0;N<v.length;N++)o[h[N]]=p[N][v[N]];try{return zt.decodeCodewords(o,i,u)}catch(N){if(!(N instanceof _))throw N}if(v.length===0)throw _.getChecksumInstance();for(let N=0;N<v.length;N++)if(v[N]<p[N].length-1){v[N]++;break}else if(v[N]=0,N===v.length-1)throw _.getChecksumInstance()}throw _.getChecksumInstance()}static createBarcodeMatrix(i){let o=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let h=0;h<o.length;h++)for(let p=0;p<o[h].length;p++)o[h][p]=new Vi;let u=0;for(let h of i.getDetectionResultColumns()){if(h!=null){for(let p of h.getCodewords())if(p!=null){let v=p.getRowNumber();if(v>=0){if(v>=o.length)continue;o[v][u].setValue(p.getValue())}}}u++}return o}static isValidBarcodeColumn(i,o){return o>=0&&o<=i.getBarcodeColumnCount()+1}static getStartColumn(i,o,u,h){let p=h?1:-1,v=null;if(zt.isValidBarcodeColumn(i,o-p)&&(v=i.getDetectionResultColumn(o-p).getCodeword(u)),v!=null)return h?v.getEndX():v.getStartX();if(v=i.getDetectionResultColumn(o).getCodewordNearby(u),v!=null)return h?v.getStartX():v.getEndX();if(zt.isValidBarcodeColumn(i,o-p)&&(v=i.getDetectionResultColumn(o-p).getCodewordNearby(u)),v!=null)return h?v.getEndX():v.getStartX();let S=0;for(;zt.isValidBarcodeColumn(i,o-p);){o-=p;for(let N of i.getDetectionResultColumn(o).getCodewords())if(N!=null)return(h?N.getEndX():N.getStartX())+p*S*(N.getEndX()-N.getStartX());S++}return h?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,o,u,h,p,v,S,N){p=zt.adjustCodewordStartColumn(i,o,u,h,p,v);let I=zt.getModuleBitCount(i,o,u,h,p,v);if(I==null)return null;let D,z=lt.sum(I);if(h)D=p+z;else{for(let ae=0;ae<I.length/2;ae++){let se=I[ae];I[ae]=I[I.length-1-ae],I[I.length-1-ae]=se}D=p,p=D-z}if(!zt.checkCodewordSkew(z,S,N))return null;let H=An.getDecodedValue(I),W=At.getCodeword(H);return W===-1?null:new La(p,D,zt.getCodewordBucketNumber(H),W)}static getModuleBitCount(i,o,u,h,p,v){let S=p,N=new Int32Array(8),I=0,D=h?1:-1,z=h;for(;(h?S<u:S>=o)&&I<N.length;)i.get(S,v)===z?(N[I]++,S+=D):(I++,z=!z);return I===N.length||S===(h?u:o)&&I===N.length-1?N:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,o,u,h,p,v){let S=p,N=h?-1:1;for(let I=0;I<2;I++){for(;(h?S>=o:S<u)&&h===i.get(S,v);){if(Math.abs(p-S)>zt.CODEWORD_SKEW_SIZE)return p;S+=N}N=-N,h=!h}return S}static checkCodewordSkew(i,o,u){return o-zt.CODEWORD_SKEW_SIZE<=i&&i<=u+zt.CODEWORD_SKEW_SIZE}static decodeCodewords(i,o,u){if(i.length===0)throw L.getFormatInstance();let h=1<<o+1,p=zt.correctErrors(i,u,h);zt.verifyCodewordCount(i,h);let v=Ee.decode(i,""+o);return v.setErrorsCorrected(p),v.setErasures(u.length),v}static correctErrors(i,o,u){if(o!=null&&o.length>u/2+zt.MAX_ERRORS||u<0||u>zt.MAX_EC_CODEWORDS)throw _.getChecksumInstance();return zt.errorCorrection.decode(i,u,o)}static verifyCodewordCount(i,o){if(i.length<4)throw L.getFormatInstance();let u=i[0];if(u>i.length)throw L.getFormatInstance();if(u===0)if(o<i.length)i[0]=i.length-o;else throw L.getFormatInstance()}static getBitCountForCodeword(i){let o=new Int32Array(8),u=0,h=o.length-1;for(;!((i&1)!==u&&(u=i&1,h--,h<0));)o[h]++,i>>=1;return o}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return zt.getCodewordBucketNumber(zt.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let o=new dl;for(let u=0;u<i.length;u++){o.format("Row %2d: ",u);for(let h=0;h<i[u].length;h++){let p=i[u][h];p.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",p.getValue()[0],p.getConfidence(p.getValue()[0]))}o.format("%n")}return o.toString()}}zt.CODEWORD_SKEW_SIZE=2,zt.MAX_ERRORS=3,zt.MAX_EC_CODEWORDS=512,zt.errorCorrection=new Ni;class Sn{decode(i,o=null){let u=Sn.decode(i,o,!1);if(u==null||u.length===0||u[0]==null)throw Z.getNotFoundInstance();return u[0]}decodeMultiple(i,o=null){try{return Sn.decode(i,o,!0)}catch(u){throw u instanceof L||u instanceof _?Z.getNotFoundInstance():u}}static decode(i,o,u){const h=new Array,p=Dt.detectMultiple(i,o,u);for(const v of p.getPoints()){const S=zt.decode(p.getBits(),v[4],v[5],v[6],v[7],Sn.getMinCodewordWidth(v),Sn.getMaxCodewordWidth(v)),N=new ke(S.getText(),S.getRawBytes(),void 0,v,Q.PDF_417);N.putMetadata(Ze.ERROR_CORRECTION_LEVEL,S.getECLevel());const I=S.getOther();I!=null&&N.putMetadata(Ze.PDF417_EXTRA_METADATA,I),h.push(N)}return h.map(v=>v)}static getMaxWidth(i,o){return i==null||o==null?0:Math.trunc(Math.abs(i.getX()-o.getX()))}static getMinWidth(i,o){return i==null||o==null?U.MAX_VALUE:Math.trunc(Math.abs(i.getX()-o.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(Sn.getMaxWidth(i[0],i[4]),Sn.getMaxWidth(i[6],i[2])*At.MODULES_IN_CODEWORD/At.MODULES_IN_STOP_PATTERN),Math.max(Sn.getMaxWidth(i[1],i[5]),Sn.getMaxWidth(i[7],i[3])*At.MODULES_IN_CODEWORD/At.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(Sn.getMinWidth(i[0],i[4]),Sn.getMinWidth(i[6],i[2])*At.MODULES_IN_CODEWORD/At.MODULES_IN_STOP_PATTERN),Math.min(Sn.getMinWidth(i[1],i[5]),Sn.getMinWidth(i[7],i[3])*At.MODULES_IN_CODEWORD/At.MODULES_IN_STOP_PATTERN)))}reset(){}}class sc extends y{}sc.kind="ReaderException";class vf{constructor(i,o){this.verbose=i===!0,o&&this.setHints(o)}decode(i,o){return o&&this.setHints(o),this.decodeInternal(i)}decodeWithState(i){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;const o=!n(i)&&i.get(Y.TRY_HARDER)===!0,u=n(i)?null:i.get(Y.POSSIBLE_FORMATS),h=new Array;if(!n(u)){const p=u.some(v=>v===Q.UPC_A||v===Q.UPC_E||v===Q.EAN_13||v===Q.EAN_8||v===Q.CODABAR||v===Q.CODE_39||v===Q.CODE_93||v===Q.CODE_128||v===Q.ITF||v===Q.RSS_14||v===Q.RSS_EXPANDED);p&&!o&&h.push(new Ye(i,this.verbose)),u.includes(Q.QR_CODE)&&h.push(new Ei),u.includes(Q.DATA_MATRIX)&&h.push(new Pa),u.includes(Q.AZTEC)&&h.push(new Ui),u.includes(Q.PDF_417)&&h.push(new Sn),p&&o&&h.push(new Ye(i,this.verbose))}h.length===0&&(o||h.push(new Ye(i,this.verbose)),h.push(new Ei),h.push(new Pa),h.push(new Ui),h.push(new Sn),o&&h.push(new Ye(i,this.verbose))),this.readers=h}reset(){if(this.readers!==null)for(const i of this.readers)i.reset()}decodeInternal(i){if(this.readers===null)throw new sc("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(i,this.hints)}catch(u){if(u instanceof sc)continue}throw new Z("No MultiFormat Readers were able to detect the code.")}}class bf extends Te{constructor(i=null,o=500){const u=new vf;u.setHints(i),super(u,o)}decodeBitmap(i){return this.reader.decodeWithState(i)}}class c1 extends Te{constructor(i=500){super(new Sn,i)}}class u1 extends Te{constructor(i=500){super(new Ei,i)}}var Au;(function(B){B[B.ERROR_CORRECTION=0]="ERROR_CORRECTION",B[B.CHARACTER_SET=1]="CHARACTER_SET",B[B.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",B[B.MIN_SIZE=3]="MIN_SIZE",B[B.MAX_SIZE=4]="MAX_SIZE",B[B.MARGIN=5]="MARGIN",B[B.PDF417_COMPACT=6]="PDF417_COMPACT",B[B.PDF417_COMPACTION=7]="PDF417_COMPACTION",B[B.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",B[B.AZTEC_LAYERS=9]="AZTEC_LAYERS",B[B.QR_VERSION=10]="QR_VERSION"})(Au||(Au={}));var cn=Au;class ao{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new st(i,Int32Array.from([1])))}buildGenerator(i){const o=this.cachedGenerators;if(i>=o.length){let u=o[o.length-1];const h=this.field;for(let p=o.length;p<=i;p++){const v=u.multiply(new st(h,Int32Array.from([1,h.exp(p-1+h.getGeneratorBase())])));o.push(v),u=v}}return o[i]}encode(i,o){if(o===0)throw new A("No error correction bytes");const u=i.length-o;if(u<=0)throw new A("No data bytes provided");const h=this.buildGenerator(o),p=new Int32Array(u);M.arraycopy(i,0,p,0,u);let v=new st(this.field,p);v=v.multiplyByMonomial(o,1);const N=v.divide(h)[1].getCoefficients(),I=o-N.length;for(let D=0;D<I;D++)i[u+D]=0;M.arraycopy(N,0,i,u+I,N.length)}}class Fr{constructor(){}static applyMaskPenaltyRule1(i){return Fr.applyMaskPenaltyRule1Internal(i,!0)+Fr.applyMaskPenaltyRule1Internal(i,!1)}static applyMaskPenaltyRule2(i){let o=0;const u=i.getArray(),h=i.getWidth(),p=i.getHeight();for(let v=0;v<p-1;v++){const S=u[v];for(let N=0;N<h-1;N++){const I=S[N];I===S[N+1]&&I===u[v+1][N]&&I===u[v+1][N+1]&&o++}}return Fr.N2*o}static applyMaskPenaltyRule3(i){let o=0;const u=i.getArray(),h=i.getWidth(),p=i.getHeight();for(let v=0;v<p;v++)for(let S=0;S<h;S++){const N=u[v];S+6<h&&N[S]===1&&N[S+1]===0&&N[S+2]===1&&N[S+3]===1&&N[S+4]===1&&N[S+5]===0&&N[S+6]===1&&(Fr.isWhiteHorizontal(N,S-4,S)||Fr.isWhiteHorizontal(N,S+7,S+11))&&o++,v+6<p&&u[v][S]===1&&u[v+1][S]===0&&u[v+2][S]===1&&u[v+3][S]===1&&u[v+4][S]===1&&u[v+5][S]===0&&u[v+6][S]===1&&(Fr.isWhiteVertical(u,S,v-4,v)||Fr.isWhiteVertical(u,S,v+7,v+11))&&o++}return o*Fr.N3}static isWhiteHorizontal(i,o,u){o=Math.max(o,0),u=Math.min(u,i.length);for(let h=o;h<u;h++)if(i[h]===1)return!1;return!0}static isWhiteVertical(i,o,u,h){u=Math.max(u,0),h=Math.min(h,i.length);for(let p=u;p<h;p++)if(i[p][o]===1)return!1;return!0}static applyMaskPenaltyRule4(i){let o=0;const u=i.getArray(),h=i.getWidth(),p=i.getHeight();for(let N=0;N<p;N++){const I=u[N];for(let D=0;D<h;D++)I[D]===1&&o++}const v=i.getHeight()*i.getWidth();return Math.floor(Math.abs(o*2-v)*10/v)*Fr.N4}static getDataMaskBit(i,o,u){let h,p;switch(i){case 0:h=u+o&1;break;case 1:h=u&1;break;case 2:h=o%3;break;case 3:h=(u+o)%3;break;case 4:h=Math.floor(u/2)+Math.floor(o/3)&1;break;case 5:p=u*o,h=(p&1)+p%3;break;case 6:p=u*o,h=(p&1)+p%3&1;break;case 7:p=u*o,h=p%3+(u+o&1)&1;break;default:throw new A("Invalid mask pattern: "+i)}return h===0}static applyMaskPenaltyRule1Internal(i,o){let u=0;const h=o?i.getHeight():i.getWidth(),p=o?i.getWidth():i.getHeight(),v=i.getArray();for(let S=0;S<h;S++){let N=0,I=-1;for(let D=0;D<p;D++){const z=o?v[S][D]:v[D][S];z===I?N++:(N>=5&&(u+=Fr.N1+(N-5)),N=1,I=z)}N>=5&&(u+=Fr.N1+(N-5))}return u}}Fr.N1=3,Fr.N2=3,Fr.N3=40,Fr.N4=10;class lc{constructor(i,o){this.width=i,this.height=o;const u=new Array(o);for(let h=0;h!==o;h++)u[h]=new Uint8Array(i);this.bytes=u}getHeight(){return this.height}getWidth(){return this.width}get(i,o){return this.bytes[o][i]}getArray(){return this.bytes}setNumber(i,o,u){this.bytes[o][i]=u}setBoolean(i,o,u){this.bytes[o][i]=u?1:0}clear(i){for(const o of this.bytes)F.fill(o,i)}equals(i){if(!(i instanceof lc))return!1;const o=i;if(this.width!==o.width||this.height!==o.height)return!1;for(let u=0,h=this.height;u<h;++u){const p=this.bytes[u],v=o.bytes[u];for(let S=0,N=this.width;S<N;++S)if(p[S]!==v[S])return!1}return!0}toString(){const i=new ce;for(let o=0,u=this.height;o<u;++o){const h=this.bytes[o];for(let p=0,v=this.width;p<v;++p)switch(h[p]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ");break}i.append(`
`)}return i.toString()}}class ms{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const i=new ce;return i.append(`<<
`),i.append(" mode: "),i.append(this.mode?this.mode.toString():"null"),i.append(`
 ecLevel: `),i.append(this.ecLevel?this.ecLevel.toString():"null"),i.append(`
 version: `),i.append(this.version?this.version.toString():"null"),i.append(`
 maskPattern: `),i.append(this.maskPattern.toString()),this.matrix?(i.append(`
 matrix:
`),i.append(this.matrix.toString())):i.append(`
 matrix: null
`),i.append(`>>
`),i.toString()}setMode(i){this.mode=i}setECLevel(i){this.ecLevel=i}setVersion(i){this.version=i}setMaskPattern(i){this.maskPattern=i}setMatrix(i){this.matrix=i}static isValidMaskPattern(i){return i>=0&&i<ms.NUM_MASK_PATTERNS}}ms.NUM_MASK_PATTERNS=8;class ur extends y{}ur.kind="WriterException";class St{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,o,u,h,p){St.clearMatrix(p),St.embedBasicPatterns(u,p),St.embedTypeInfo(o,h,p),St.maybeEmbedVersionInfo(u,p),St.embedDataBits(i,h,p)}static embedBasicPatterns(i,o){St.embedPositionDetectionPatternsAndSeparators(o),St.embedDarkDotAtLeftBottomCorner(o),St.maybeEmbedPositionAdjustmentPatterns(i,o),St.embedTimingPatterns(o)}static embedTypeInfo(i,o,u){const h=new V;St.makeTypeInfoBits(i,o,h);for(let p=0,v=h.getSize();p<v;++p){const S=h.get(h.getSize()-1-p),N=St.TYPE_INFO_COORDINATES[p],I=N[0],D=N[1];if(u.setBoolean(I,D,S),p<8){const z=u.getWidth()-p-1;u.setBoolean(z,8,S)}else{const H=u.getHeight()-7+(p-8);u.setBoolean(8,H,S)}}}static maybeEmbedVersionInfo(i,o){if(i.getVersionNumber()<7)return;const u=new V;St.makeVersionInfoBits(i,u);let h=17;for(let p=0;p<6;++p)for(let v=0;v<3;++v){const S=u.get(h);h--,o.setBoolean(p,o.getHeight()-11+v,S),o.setBoolean(o.getHeight()-11+v,p,S)}}static embedDataBits(i,o,u){let h=0,p=-1,v=u.getWidth()-1,S=u.getHeight()-1;for(;v>0;){for(v===6&&(v-=1);S>=0&&S<u.getHeight();){for(let N=0;N<2;++N){const I=v-N;if(!St.isEmpty(u.get(I,S)))continue;let D;h<i.getSize()?(D=i.get(h),++h):D=!1,o!==255&&Fr.getDataMaskBit(o,I,S)&&(D=!D),u.setBoolean(I,S,D)}S+=p}p=-p,S+=p,v-=2}if(h!==i.getSize())throw new ur("Not all bits consumed: "+h+"/"+i.getSize())}static findMSBSet(i){return 32-U.numberOfLeadingZeros(i)}static calculateBCHCode(i,o){if(o===0)throw new A("0 polynomial");const u=St.findMSBSet(o);for(i<<=u-1;St.findMSBSet(i)>=u;)i^=o<<St.findMSBSet(i)-u;return i}static makeTypeInfoBits(i,o,u){if(!ms.isValidMaskPattern(o))throw new ur("Invalid mask pattern");const h=i.getBits()<<3|o;u.appendBits(h,5);const p=St.calculateBCHCode(h,St.TYPE_INFO_POLY);u.appendBits(p,10);const v=new V;if(v.appendBits(St.TYPE_INFO_MASK_PATTERN,15),u.xor(v),u.getSize()!==15)throw new ur("should not happen but we got: "+u.getSize())}static makeVersionInfoBits(i,o){o.appendBits(i.getVersionNumber(),6);const u=St.calculateBCHCode(i.getVersionNumber(),St.VERSION_INFO_POLY);if(o.appendBits(u,12),o.getSize()!==18)throw new ur("should not happen but we got: "+o.getSize())}static isEmpty(i){return i===255}static embedTimingPatterns(i){for(let o=8;o<i.getWidth()-8;++o){const u=(o+1)%2;St.isEmpty(i.get(o,6))&&i.setNumber(o,6,u),St.isEmpty(i.get(6,o))&&i.setNumber(6,o,u)}}static embedDarkDotAtLeftBottomCorner(i){if(i.get(8,i.getHeight()-8)===0)throw new ur;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,o,u){for(let h=0;h<8;++h){if(!St.isEmpty(u.get(i+h,o)))throw new ur;u.setNumber(i+h,o,0)}}static embedVerticalSeparationPattern(i,o,u){for(let h=0;h<7;++h){if(!St.isEmpty(u.get(i,o+h)))throw new ur;u.setNumber(i,o+h,0)}}static embedPositionAdjustmentPattern(i,o,u){for(let h=0;h<5;++h){const p=St.POSITION_ADJUSTMENT_PATTERN[h];for(let v=0;v<5;++v)u.setNumber(i+v,o+h,p[v])}}static embedPositionDetectionPattern(i,o,u){for(let h=0;h<7;++h){const p=St.POSITION_DETECTION_PATTERN[h];for(let v=0;v<7;++v)u.setNumber(i+v,o+h,p[v])}}static embedPositionDetectionPatternsAndSeparators(i){const o=St.POSITION_DETECTION_PATTERN[0].length;St.embedPositionDetectionPattern(0,0,i),St.embedPositionDetectionPattern(i.getWidth()-o,0,i),St.embedPositionDetectionPattern(0,i.getWidth()-o,i);const u=8;St.embedHorizontalSeparationPattern(0,u-1,i),St.embedHorizontalSeparationPattern(i.getWidth()-u,u-1,i),St.embedHorizontalSeparationPattern(0,i.getWidth()-u,i);const h=7;St.embedVerticalSeparationPattern(h,0,i),St.embedVerticalSeparationPattern(i.getHeight()-h-1,0,i),St.embedVerticalSeparationPattern(h,i.getHeight()-h,i)}static maybeEmbedPositionAdjustmentPatterns(i,o){if(i.getVersionNumber()<2)return;const u=i.getVersionNumber()-1,h=St.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[u];for(let p=0,v=h.length;p!==v;p++){const S=h[p];if(S>=0)for(let N=0;N!==v;N++){const I=h[N];I>=0&&St.isEmpty(o.get(I,S))&&St.embedPositionAdjustmentPattern(I-2,S-2,o)}}}}St.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),St.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),St.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),St.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),St.VERSION_INFO_POLY=7973,St.TYPE_INFO_POLY=1335,St.TYPE_INFO_MASK_PATTERN=21522;class d1{constructor(i,o){this.dataBytes=i,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class _r{constructor(){}static calculateMaskPenalty(i){return Fr.applyMaskPenaltyRule1(i)+Fr.applyMaskPenaltyRule2(i)+Fr.applyMaskPenaltyRule3(i)+Fr.applyMaskPenaltyRule4(i)}static encode(i,o,u=null){let h=_r.DEFAULT_BYTE_MODE_ENCODING;const p=u!==null&&u.get(cn.CHARACTER_SET)!==void 0;p&&(h=u.get(cn.CHARACTER_SET).toString());const v=this.chooseMode(i,h),S=new V;if(v===xt.BYTE&&(p||_r.DEFAULT_BYTE_MODE_ENCODING!==h)){const qe=K.getCharacterSetECIByName(h);qe!==void 0&&this.appendECI(qe,S)}this.appendModeInfo(v,S);const N=new V;this.appendBytes(i,v,N,h);let I;if(u!==null&&u.get(cn.QR_VERSION)!==void 0){const qe=Number.parseInt(u.get(cn.QR_VERSION).toString(),10);I=ut.getVersionForNumber(qe);const Fe=this.calculateBitsNeeded(v,S,N,I);if(!this.willFit(Fe,I,o))throw new ur("Data too big for requested version")}else I=this.recommendVersion(o,v,S,N);const D=new V;D.appendBitArray(S);const z=v===xt.BYTE?N.getSizeInBytes():i.length;this.appendLengthInfo(z,I,v,D),D.appendBitArray(N);const H=I.getECBlocksForLevel(o),W=I.getTotalCodewords()-H.getTotalECCodewords();this.terminateBits(W,D);const ae=this.interleaveWithECBytes(D,I.getTotalCodewords(),W,H.getNumBlocks()),se=new ms;se.setECLevel(o),se.setMode(v),se.setVersion(I);const xe=I.getDimensionForVersion(),Ae=new lc(xe,xe),Xe=this.chooseMaskPattern(ae,o,I,Ae);return se.setMaskPattern(Xe),St.buildMatrix(ae,o,I,Xe,Ae),se.setMatrix(Ae),se}static recommendVersion(i,o,u,h){const p=this.calculateBitsNeeded(o,u,h,ut.getVersionForNumber(1)),v=this.chooseVersion(p,i),S=this.calculateBitsNeeded(o,u,h,v);return this.chooseVersion(S,i)}static calculateBitsNeeded(i,o,u,h){return o.getSize()+i.getCharacterCountBits(h)+u.getSize()}static getAlphanumericCode(i){return i<_r.ALPHANUMERIC_TABLE.length?_r.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,o=null){if(K.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(i))return xt.KANJI;let u=!1,h=!1;for(let p=0,v=i.length;p<v;++p){const S=i.charAt(p);if(_r.isDigit(S))u=!0;else if(this.getAlphanumericCode(S.charCodeAt(0))!==-1)h=!0;else return xt.BYTE}return h?xt.ALPHANUMERIC:u?xt.NUMERIC:xt.BYTE}static isOnlyDoubleByteKanji(i){let o;try{o=oe.encode(i,K.SJIS)}catch{return!1}const u=o.length;if(u%2!==0)return!1;for(let h=0;h<u;h+=2){const p=o[h]&255;if((p<129||p>159)&&(p<224||p>235))return!1}return!0}static chooseMaskPattern(i,o,u,h){let p=Number.MAX_SAFE_INTEGER,v=-1;for(let S=0;S<ms.NUM_MASK_PATTERNS;S++){St.buildMatrix(i,o,u,S,h);let N=this.calculateMaskPenalty(h);N<p&&(p=N,v=S)}return v}static chooseVersion(i,o){for(let u=1;u<=40;u++){const h=ut.getVersionForNumber(u);if(_r.willFit(i,h,o))return h}throw new ur("Data too big")}static willFit(i,o,u){const h=o.getTotalCodewords(),v=o.getECBlocksForLevel(u).getTotalECCodewords(),S=h-v,N=(i+7)/8;return S>=N}static terminateBits(i,o){const u=i*8;if(o.getSize()>u)throw new ur("data bits cannot fit in the QR Code"+o.getSize()+" > "+u);for(let v=0;v<4&&o.getSize()<u;++v)o.appendBit(!1);const h=o.getSize()&7;if(h>0)for(let v=h;v<8;v++)o.appendBit(!1);const p=i-o.getSizeInBytes();for(let v=0;v<p;++v)o.appendBits((v&1)===0?236:17,8);if(o.getSize()!==u)throw new ur("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,o,u,h,p,v){if(h>=u)throw new ur("Block ID too large");const S=i%u,N=u-S,I=Math.floor(i/u),D=I+1,z=Math.floor(o/u),H=z+1,W=I-z,ae=D-H;if(W!==ae)throw new ur("EC bytes mismatch");if(u!==N+S)throw new ur("RS blocks mismatch");if(i!==(z+W)*N+(H+ae)*S)throw new ur("Total bytes mismatch");h<N?(p[0]=z,v[0]=W):(p[0]=H,v[0]=ae)}static interleaveWithECBytes(i,o,u,h){if(i.getSizeInBytes()!==u)throw new ur("Number of bits and data bytes does not match");let p=0,v=0,S=0;const N=new Array;for(let D=0;D<h;++D){const z=new Int32Array(1),H=new Int32Array(1);_r.getNumDataBytesAndNumECBytesForBlockID(o,u,h,D,z,H);const W=z[0],ae=new Uint8Array(W);i.toBytes(8*p,ae,0,W);const se=_r.generateECBytes(ae,H[0]);N.push(new d1(ae,se)),v=Math.max(v,W),S=Math.max(S,se.length),p+=z[0]}if(u!==p)throw new ur("Data bytes does not match offset");const I=new V;for(let D=0;D<v;++D)for(const z of N){const H=z.getDataBytes();D<H.length&&I.appendBits(H[D],8)}for(let D=0;D<S;++D)for(const z of N){const H=z.getErrorCorrectionBytes();D<H.length&&I.appendBits(H[D],8)}if(o!==I.getSizeInBytes())throw new ur("Interleaving error: "+o+" and "+I.getSizeInBytes()+" differ.");return I}static generateECBytes(i,o){const u=i.length,h=new Int32Array(u+o);for(let v=0;v<u;v++)h[v]=i[v]&255;new ao(Je.QR_CODE_FIELD_256).encode(h,o);const p=new Uint8Array(o);for(let v=0;v<o;v++)p[v]=h[u+v];return p}static appendModeInfo(i,o){o.appendBits(i.getBits(),4)}static appendLengthInfo(i,o,u,h){const p=u.getCharacterCountBits(o);if(i>=1<<p)throw new ur(i+" is bigger than "+((1<<p)-1));h.appendBits(i,p)}static appendBytes(i,o,u,h){switch(o){case xt.NUMERIC:_r.appendNumericBytes(i,u);break;case xt.ALPHANUMERIC:_r.appendAlphanumericBytes(i,u);break;case xt.BYTE:_r.append8BitBytes(i,u,h);break;case xt.KANJI:_r.appendKanjiBytes(i,u);break;default:throw new ur("Invalid mode: "+o)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){const o=_r.getDigit(i);return o>=0&&o<=9}static appendNumericBytes(i,o){const u=i.length;let h=0;for(;h<u;){const p=_r.getDigit(i.charAt(h));if(h+2<u){const v=_r.getDigit(i.charAt(h+1)),S=_r.getDigit(i.charAt(h+2));o.appendBits(p*100+v*10+S,10),h+=3}else if(h+1<u){const v=_r.getDigit(i.charAt(h+1));o.appendBits(p*10+v,7),h+=2}else o.appendBits(p,4),h++}}static appendAlphanumericBytes(i,o){const u=i.length;let h=0;for(;h<u;){const p=_r.getAlphanumericCode(i.charCodeAt(h));if(p===-1)throw new ur;if(h+1<u){const v=_r.getAlphanumericCode(i.charCodeAt(h+1));if(v===-1)throw new ur;o.appendBits(p*45+v,11),h+=2}else o.appendBits(p,6),h++}}static append8BitBytes(i,o,u){let h;try{h=oe.encode(i,u)}catch(p){throw new ur(p)}for(let p=0,v=h.length;p!==v;p++){const S=h[p];o.appendBits(S,8)}}static appendKanjiBytes(i,o){let u;try{u=oe.encode(i,K.SJIS)}catch(p){throw new ur(p)}const h=u.length;for(let p=0;p<h;p+=2){const v=u[p]&255,S=u[p+1]&255,N=v<<8&4294967295|S;let I=-1;if(N>=33088&&N<=40956?I=N-33088:N>=57408&&N<=60351&&(I=N-49472),I===-1)throw new ur("Invalid byte sequence");const D=(I>>8)*192+(I&255);o.appendBits(D,13)}}static appendECI(i,o){o.appendBits(xt.ECI.getBits(),4),o.appendBits(i.getValue(),8)}}_r.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),_r.DEFAULT_BYTE_MODE_ENCODING=K.UTF8.getName();class ps{write(i,o,u,h=null){if(i.length===0)throw new A("Found empty contents");if(o<0||u<0)throw new A("Requested dimensions are too small: "+o+"x"+u);let p=Ht.L,v=ps.QUIET_ZONE_SIZE;h!==null&&(h.get(cn.ERROR_CORRECTION)!==void 0&&(p=Ht.fromString(h.get(cn.ERROR_CORRECTION).toString())),h.get(cn.MARGIN)!==void 0&&(v=Number.parseInt(h.get(cn.MARGIN).toString(),10)));const S=_r.encode(i,p,h);return this.renderResult(S,o,u,v)}writeToDom(i,o,u,h,p=null){typeof i=="string"&&(i=document.querySelector(i));const v=this.write(o,u,h,p);i&&i.appendChild(v)}renderResult(i,o,u,h){const p=i.getMatrix();if(p===null)throw new Ie;const v=p.getWidth(),S=p.getHeight(),N=v+h*2,I=S+h*2,D=Math.max(o,N),z=Math.max(u,I),H=Math.min(Math.floor(D/N),Math.floor(z/I)),W=Math.floor((D-v*H)/2),ae=Math.floor((z-S*H)/2),se=this.createSVGElement(D,z);for(let xe=0,Ae=ae;xe<S;xe++,Ae+=H)for(let Xe=0,qe=W;Xe<v;Xe++,qe+=H)if(p.get(Xe,xe)===1){const Fe=this.createSvgRectElement(qe,Ae,H,H);se.appendChild(Fe)}return se}createSVGElement(i,o){const u=document.createElementNS(ps.SVG_NS,"svg");return u.setAttributeNS(null,"height",i.toString()),u.setAttributeNS(null,"width",o.toString()),u}createSvgRectElement(i,o,u,h){const p=document.createElementNS(ps.SVG_NS,"rect");return p.setAttributeNS(null,"x",i.toString()),p.setAttributeNS(null,"y",o.toString()),p.setAttributeNS(null,"height",u.toString()),p.setAttributeNS(null,"width",h.toString()),p.setAttributeNS(null,"fill","#000000"),p}}ps.QUIET_ZONE_SIZE=4,ps.SVG_NS="http://www.w3.org/2000/svg";class hl{encode(i,o,u,h,p){if(i.length===0)throw new A("Found empty contents");if(o!==Q.QR_CODE)throw new A("Can only encode QR_CODE, but got "+o);if(u<0||h<0)throw new A(`Requested dimensions are too small: ${u}x${h}`);let v=Ht.L,S=hl.QUIET_ZONE_SIZE;p!==null&&(p.get(cn.ERROR_CORRECTION)!==void 0&&(v=Ht.fromString(p.get(cn.ERROR_CORRECTION).toString())),p.get(cn.MARGIN)!==void 0&&(S=Number.parseInt(p.get(cn.MARGIN).toString(),10)));const N=_r.encode(i,v,p);return hl.renderResult(N,u,h,S)}static renderResult(i,o,u,h){const p=i.getMatrix();if(p===null)throw new Ie;const v=p.getWidth(),S=p.getHeight(),N=v+h*2,I=S+h*2,D=Math.max(o,N),z=Math.max(u,I),H=Math.min(Math.floor(D/N),Math.floor(z/I)),W=Math.floor((D-v*H)/2),ae=Math.floor((z-S*H)/2),se=new fe(D,z);for(let xe=0,Ae=ae;xe<S;xe++,Ae+=H)for(let Xe=0,qe=W;Xe<v;Xe++,qe+=H)p.get(Xe,xe)===1&&se.setRegion(qe,Ae,H,H);return se}}hl.QUIET_ZONE_SIZE=4;class f1{encode(i,o,u,h,p){let v;switch(o){case Q.QR_CODE:v=new hl;break;default:throw new A("No encoder available for format "+o)}return v.encode(i,o,u,h,p)}}class ni extends ne{constructor(i,o,u,h,p,v,S,N){if(super(v,S),this.yuvData=i,this.dataWidth=o,this.dataHeight=u,this.left=h,this.top=p,h+v>o||p+S>u)throw new A("Crop rectangle does not fit within image data.");N&&this.reverseHorizontal(v,S)}getRow(i,o){if(i<0||i>=this.getHeight())throw new A("Requested row is outside the image: "+i);const u=this.getWidth();(o==null||o.length<u)&&(o=new Uint8ClampedArray(u));const h=(i+this.top)*this.dataWidth+this.left;return M.arraycopy(this.yuvData,h,o,0,u),o}getMatrix(){const i=this.getWidth(),o=this.getHeight();if(i===this.dataWidth&&o===this.dataHeight)return this.yuvData;const u=i*o,h=new Uint8ClampedArray(u);let p=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return M.arraycopy(this.yuvData,p,h,0,u),h;for(let v=0;v<o;v++){const S=v*i;M.arraycopy(this.yuvData,p,h,S,i),p+=this.dataWidth}return h}isCropSupported(){return!0}crop(i,o,u,h){return new ni(this.yuvData,this.dataWidth,this.dataHeight,this.left+i,this.top+o,u,h,!1)}renderThumbnail(){const i=this.getWidth()/ni.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/ni.THUMBNAIL_SCALE_FACTOR,u=new Int32Array(i*o),h=this.yuvData;let p=this.top*this.dataWidth+this.left;for(let v=0;v<o;v++){const S=v*i;for(let N=0;N<i;N++){const I=h[p+N*ni.THUMBNAIL_SCALE_FACTOR]&255;u[S+N]=4278190080|I*65793}p+=this.dataWidth*ni.THUMBNAIL_SCALE_FACTOR}return u}getThumbnailWidth(){return this.getWidth()/ni.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/ni.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(i,o){const u=this.yuvData;for(let h=0,p=this.top*this.dataWidth+this.left;h<o;h++,p+=this.dataWidth){const v=p+i/2;for(let S=p,N=p+i-1;S<v;S++,N--){const I=u[S];u[S]=u[N],u[N]=I}}}invert(){return new pe(this)}}ni.THUMBNAIL_SCALE_FACTOR=2;class Su extends ne{constructor(i,o,u,h,p,v,S){if(super(o,u),this.dataWidth=h,this.dataHeight=p,this.left=v,this.top=S,i.BYTES_PER_ELEMENT===4){const N=o*u,I=new Uint8ClampedArray(N);for(let D=0;D<N;D++){const z=i[D],H=z>>16&255,W=z>>7&510,ae=z&255;I[D]=(H+W+ae)/4&255}this.luminances=I}else this.luminances=i;if(h===void 0&&(this.dataWidth=o),p===void 0&&(this.dataHeight=u),v===void 0&&(this.left=0),S===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+u>this.dataHeight)throw new A("Crop rectangle does not fit within image data.")}getRow(i,o){if(i<0||i>=this.getHeight())throw new A("Requested row is outside the image: "+i);const u=this.getWidth();(o==null||o.length<u)&&(o=new Uint8ClampedArray(u));const h=(i+this.top)*this.dataWidth+this.left;return M.arraycopy(this.luminances,h,o,0,u),o}getMatrix(){const i=this.getWidth(),o=this.getHeight();if(i===this.dataWidth&&o===this.dataHeight)return this.luminances;const u=i*o,h=new Uint8ClampedArray(u);let p=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return M.arraycopy(this.luminances,p,h,0,u),h;for(let v=0;v<o;v++){const S=v*i;M.arraycopy(this.luminances,p,h,S,i),p+=this.dataWidth}return h}isCropSupported(){return!0}crop(i,o,u,h){return new Su(this.luminances,u,h,this.dataWidth,this.dataHeight,this.left+i,this.top+o)}invert(){return new pe(this)}}class wf extends K{static forName(i){return this.getCharacterSetECIByName(i)}}class io{}io.ISO_8859_1=K.ISO8859_1;class ml{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class Af{static singletonList(i){return[i]}static min(i,o){return i.sort(o)[0]}}class Sf{constructor(i){this.previous=i}getPrevious(){return this.previous}}class xs extends Sf{constructor(i,o,u){super(i),this.value=o,this.bitCount=u}appendTo(i,o){i.appendBits(this.value,this.bitCount)}add(i,o){return new xs(this,i,o)}addBinaryShift(i,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new xs(this,i,o)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+U.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class oc extends xs{constructor(i,o,u){super(i,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=u}appendTo(i,o){for(let u=0;u<this.binaryShiftByteCount;u++)(u===0||u===31&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):u===0?i.appendBits(Math.min(this.binaryShiftByteCount,31),5):i.appendBits(this.binaryShiftByteCount-31,5)),i.appendBits(o[this.binaryShiftStart+u],8)}addBinaryShift(i,o){return new oc(this,i,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Ef(B,i,o){return new oc(B,i,o)}function pl(B,i,o){return new xs(B,i,o)}const xl=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],qi=0,cc=1,wa=2,Eu=3,Ba=4,so=new xs(null,0,0),gs=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function h1(B){for(let i of B)F.fill(i,-1);return B[qi][Ba]=0,B[cc][Ba]=0,B[cc][qi]=28,B[Eu][Ba]=0,B[wa][Ba]=0,B[wa][qi]=15,B}const lo=h1(F.createInt32Array(6,6));class za{constructor(i,o,u,h){this.token=i,this.mode=o,this.binaryShiftByteCount=u,this.bitCount=h}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,o){let u=this.bitCount,h=this.token;if(i!==this.mode){let v=gs[this.mode][i];h=pl(h,v&65535,v>>16),u+=v>>16}let p=i===wa?4:5;return h=pl(h,o,p),new za(h,i,0,u+p)}shiftAndAppend(i,o){let u=this.token,h=this.mode===wa?4:5;return u=pl(u,lo[this.mode][i],h),u=pl(u,o,5),new za(u,this.mode,0,this.bitCount+h+5)}addBinaryShiftChar(i){let o=this.token,u=this.mode,h=this.bitCount;if(this.mode===Ba||this.mode===wa){let S=gs[u][qi];o=pl(o,S&65535,S>>16),h+=S>>16,u=qi}let p=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,v=new za(o,u,this.binaryShiftByteCount+1,h+p);return v.binaryShiftByteCount===2078&&(v=v.endBinaryShift(i+1)),v}endBinaryShift(i){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=Ef(o,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new za(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let o=this.bitCount+(gs[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?o+=za.calculateBinaryShiftCost(i)-za.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(o+=10),o<=i.bitCount}toBitArray(i){let o=[];for(let h=this.endBinaryShift(i.length).token;h!==null;h=h.getPrevious())o.unshift(h);let u=new V;for(const h of o)h.appendTo(u,i);return u}toString(){return ee.format("%s bits=%d bytes=%d",xl[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}za.INITIAL_STATE=new za(so,qi,0,0);function Nf(B){const i=ee.getCharCode(" "),o=ee.getCharCode("."),u=ee.getCharCode(",");B[qi][i]=1;const h=ee.getCharCode("Z"),p=ee.getCharCode("A");for(let H=p;H<=h;H++)B[qi][H]=H-p+2;B[cc][i]=1;const v=ee.getCharCode("z"),S=ee.getCharCode("a");for(let H=S;H<=v;H++)B[cc][H]=H-S+2;B[wa][i]=1;const N=ee.getCharCode("9"),I=ee.getCharCode("0");for(let H=I;H<=N;H++)B[wa][H]=H-I+2;B[wa][u]=12,B[wa][o]=13;const D=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let H=0;H<D.length;H++)B[Eu][ee.getCharCode(D[H])]=H;const z=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let H=0;H<z.length;H++)ee.getCharCode(z[H])>0&&(B[Ba][ee.getCharCode(z[H])]=H);return B}const oo=Nf(F.createInt32Array(5,256));class ys{constructor(i){this.text=i}encode(){const i=ee.getCharCode(" "),o=ee.getCharCode(`
`);let u=Af.singletonList(za.INITIAL_STATE);for(let p=0;p<this.text.length;p++){let v,S=p+1<this.text.length?this.text[p+1]:0;switch(this.text[p]){case ee.getCharCode("\r"):v=S===o?2:0;break;case ee.getCharCode("."):v=S===i?3:0;break;case ee.getCharCode(","):v=S===i?4:0;break;case ee.getCharCode(":"):v=S===i?5:0;break;default:v=0}v>0?(u=ys.updateStateListForPair(u,p,v),p++):u=this.updateStateListForChar(u,p)}return Af.min(u,(p,v)=>p.getBitCount()-v.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,o){const u=[];for(let h of i)this.updateStateForChar(h,o,u);return ys.simplifyStates(u)}updateStateForChar(i,o,u){let h=this.text[o]&255,p=oo[i.getMode()][h]>0,v=null;for(let S=0;S<=Ba;S++){let N=oo[S][h];if(N>0){if(v==null&&(v=i.endBinaryShift(o)),!p||S===i.getMode()||S===wa){const I=v.latchAndAppend(S,N);u.push(I)}if(!p&&lo[i.getMode()][S]>=0){const I=v.shiftAndAppend(S,N);u.push(I)}}}if(i.getBinaryShiftByteCount()>0||oo[i.getMode()][h]===0){let S=i.addBinaryShiftChar(o);u.push(S)}}static updateStateListForPair(i,o,u){const h=[];for(let p of i)this.updateStateForPair(p,o,u,h);return this.simplifyStates(h)}static updateStateForPair(i,o,u,h){let p=i.endBinaryShift(o);if(h.push(p.latchAndAppend(Ba,u)),i.getMode()!==Ba&&h.push(p.shiftAndAppend(Ba,u)),u===3||u===4){let v=p.latchAndAppend(wa,16-u).latchAndAppend(wa,1);h.push(v)}if(i.getBinaryShiftByteCount()>0){let v=i.addBinaryShiftChar(o).addBinaryShiftChar(o+1);h.push(v)}}static simplifyStates(i){let o=[];for(const u of i){let h=!0;for(const p of o){if(p.isBetterThanOrEqualTo(u)){h=!1;break}u.isBetterThanOrEqualTo(p)&&(o=o.filter(v=>v!==p))}h&&o.push(u)}return o}}class Xt{constructor(){}static encodeBytes(i){return Xt.encode(i,Xt.DEFAULT_EC_PERCENT,Xt.DEFAULT_AZTEC_LAYERS)}static encode(i,o,u){let h=new ys(i).encode(),p=U.truncDivision(h.getSize()*o,100)+11,v=h.getSize()+p,S,N,I,D,z;if(u!==Xt.DEFAULT_AZTEC_LAYERS){if(S=u<0,N=Math.abs(u),N>(S?Xt.MAX_NB_BITS_COMPACT:Xt.MAX_NB_BITS))throw new A(ee.format("Illegal value %s for layers",u));I=Xt.totalBitsInLayer(N,S),D=Xt.WORD_SIZE[N];let Fe=I-I%D;if(z=Xt.stuffBits(h,D),z.getSize()+p>Fe)throw new A("Data to large for user specified layer");if(S&&z.getSize()>D*64)throw new A("Data to large for user specified layer")}else{D=0,z=null;for(let Fe=0;;Fe++){if(Fe>Xt.MAX_NB_BITS)throw new A("Data too large for an Aztec code");if(S=Fe<=3,N=S?Fe+1:Fe,I=Xt.totalBitsInLayer(N,S),v>I)continue;(z==null||D!==Xt.WORD_SIZE[N])&&(D=Xt.WORD_SIZE[N],z=Xt.stuffBits(h,D));let Ft=I-I%D;if(!(S&&z.getSize()>D*64)&&z.getSize()+p<=Ft)break}}let H=Xt.generateCheckWords(z,I,D),W=z.getSize()/D,ae=Xt.generateModeMessage(S,N,W),se=(S?11:14)+N*4,xe=new Int32Array(se),Ae;if(S){Ae=se;for(let Fe=0;Fe<xe.length;Fe++)xe[Fe]=Fe}else{Ae=se+1+2*U.truncDivision(U.truncDivision(se,2)-1,15);let Fe=U.truncDivision(se,2),Ft=U.truncDivision(Ae,2);for(let Pt=0;Pt<Fe;Pt++){let Kr=Pt+U.truncDivision(Pt,15);xe[Fe-Pt-1]=Ft-Kr-1,xe[Fe+Pt]=Ft+Kr+1}}let Xe=new fe(Ae);for(let Fe=0,Ft=0;Fe<N;Fe++){let Pt=(N-Fe)*4+(S?9:12);for(let Kr=0;Kr<Pt;Kr++){let Aa=Kr*2;for(let qn=0;qn<2;qn++)H.get(Ft+Aa+qn)&&Xe.set(xe[Fe*2+qn],xe[Fe*2+Kr]),H.get(Ft+Pt*2+Aa+qn)&&Xe.set(xe[Fe*2+Kr],xe[se-1-Fe*2-qn]),H.get(Ft+Pt*4+Aa+qn)&&Xe.set(xe[se-1-Fe*2-qn],xe[se-1-Fe*2-Kr]),H.get(Ft+Pt*6+Aa+qn)&&Xe.set(xe[se-1-Fe*2-Kr],xe[Fe*2+qn])}Ft+=Pt*8}if(Xt.drawModeMessage(Xe,S,Ae,ae),S)Xt.drawBullsEye(Xe,U.truncDivision(Ae,2),5);else{Xt.drawBullsEye(Xe,U.truncDivision(Ae,2),7);for(let Fe=0,Ft=0;Fe<U.truncDivision(se,2)-1;Fe+=15,Ft+=16)for(let Pt=U.truncDivision(Ae,2)&1;Pt<Ae;Pt+=2)Xe.set(U.truncDivision(Ae,2)-Ft,Pt),Xe.set(U.truncDivision(Ae,2)+Ft,Pt),Xe.set(Pt,U.truncDivision(Ae,2)-Ft),Xe.set(Pt,U.truncDivision(Ae,2)+Ft)}let qe=new ml;return qe.setCompact(S),qe.setSize(Ae),qe.setLayers(N),qe.setCodeWords(W),qe.setMatrix(Xe),qe}static drawBullsEye(i,o,u){for(let h=0;h<u;h+=2)for(let p=o-h;p<=o+h;p++)i.set(p,o-h),i.set(p,o+h),i.set(o-h,p),i.set(o+h,p);i.set(o-u,o-u),i.set(o-u+1,o-u),i.set(o-u,o-u+1),i.set(o+u,o-u),i.set(o+u,o-u+1),i.set(o+u,o+u-1)}static generateModeMessage(i,o,u){let h=new V;return i?(h.appendBits(o-1,2),h.appendBits(u-1,6),h=Xt.generateCheckWords(h,28,4)):(h.appendBits(o-1,5),h.appendBits(u-1,11),h=Xt.generateCheckWords(h,40,4)),h}static drawModeMessage(i,o,u,h){let p=U.truncDivision(u,2);if(o)for(let v=0;v<7;v++){let S=p-3+v;h.get(v)&&i.set(S,p-5),h.get(v+7)&&i.set(p+5,S),h.get(20-v)&&i.set(S,p+5),h.get(27-v)&&i.set(p-5,S)}else for(let v=0;v<10;v++){let S=p-5+v+U.truncDivision(v,5);h.get(v)&&i.set(S,p-7),h.get(v+10)&&i.set(p+7,S),h.get(29-v)&&i.set(S,p+7),h.get(39-v)&&i.set(p-7,S)}}static generateCheckWords(i,o,u){let h=i.getSize()/u,p=new ao(Xt.getGF(u)),v=U.truncDivision(o,u),S=Xt.bitsToWords(i,u,v);p.encode(S,v-h);let N=o%u,I=new V;I.appendBits(0,N);for(const D of Array.from(S))I.appendBits(D,u);return I}static bitsToWords(i,o,u){let h=new Int32Array(u),p,v;for(p=0,v=i.getSize()/o;p<v;p++){let S=0;for(let N=0;N<o;N++)S|=i.get(p*o+N)?1<<o-N-1:0;h[p]=S}return h}static getGF(i){switch(i){case 4:return Je.AZTEC_PARAM;case 6:return Je.AZTEC_DATA_6;case 8:return Je.AZTEC_DATA_8;case 10:return Je.AZTEC_DATA_10;case 12:return Je.AZTEC_DATA_12;default:throw new A("Unsupported word size "+i)}}static stuffBits(i,o){let u=new V,h=i.getSize(),p=(1<<o)-2;for(let v=0;v<h;v+=o){let S=0;for(let N=0;N<o;N++)(v+N>=h||i.get(v+N))&&(S|=1<<o-1-N);(S&p)===p?(u.appendBits(S&p,o),v--):(S&p)===0?(u.appendBits(S|1,o),v--):u.appendBits(S,o)}return u}static totalBitsInLayer(i,o){return((o?88:112)+16*i)*i}}Xt.DEFAULT_EC_PERCENT=33,Xt.DEFAULT_AZTEC_LAYERS=0,Xt.MAX_NB_BITS=32,Xt.MAX_NB_BITS_COMPACT=4,Xt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class co{encode(i,o,u,h){return this.encodeWithHints(i,o,u,h,null)}encodeWithHints(i,o,u,h,p){let v=io.ISO_8859_1,S=Xt.DEFAULT_EC_PERCENT,N=Xt.DEFAULT_AZTEC_LAYERS;return p!=null&&(p.has(cn.CHARACTER_SET)&&(v=wf.forName(p.get(cn.CHARACTER_SET).toString())),p.has(cn.ERROR_CORRECTION)&&(S=U.parseInt(p.get(cn.ERROR_CORRECTION).toString())),p.has(cn.AZTEC_LAYERS)&&(N=U.parseInt(p.get(cn.AZTEC_LAYERS).toString()))),co.encodeLayers(i,o,u,h,v,S,N)}static encodeLayers(i,o,u,h,p,v,S){if(o!==Q.AZTEC)throw new A("Can only encode AZTEC, but got "+o);let N=Xt.encode(ee.getBytes(i,p),v,S);return co.renderResult(N,u,h)}static renderResult(i,o,u){let h=i.getMatrix();if(h==null)throw new Ie;let p=h.getWidth(),v=h.getHeight(),S=Math.max(o,p),N=Math.max(u,v),I=Math.min(S/p,N/v),D=(S-p*I)/2,z=(N-v*I)/2,H=new fe(S,N);for(let W=0,ae=z;W<v;W++,ae+=I)for(let se=0,xe=D;se<p;se++,xe+=I)h.get(se,W)&&H.setRegion(xe,ae,I,I);return H}}r.AbstractExpandedDecoder=Vt,r.ArgumentException=w,r.ArithmeticException=Be,r.AztecCode=ml,r.AztecCodeReader=Ui,r.AztecCodeWriter=co,r.AztecDecoder=Ct,r.AztecDetector=Ai,r.AztecDetectorResult=ll,r.AztecEncoder=Xt,r.AztecHighLevelEncoder=ys,r.AztecPoint=nn,r.BarcodeFormat=Q,r.Binarizer=j,r.BinaryBitmap=T,r.BitArray=V,r.BitMatrix=fe,r.BitSource=kt,r.BrowserAztecCodeReader=to,r.BrowserBarcodeReader=pt,r.BrowserCodeReader=Te,r.BrowserDatamatrixCodeReader=tc,r.BrowserMultiFormatReader=bf,r.BrowserPDF417Reader=c1,r.BrowserQRCodeReader=u1,r.BrowserQRCodeSvgWriter=ps,r.CharacterSetECI=K,r.ChecksumException=_,r.Code128Reader=He,r.Code39Reader=lr,r.DataMatrixDecodedBitStreamParser=va,r.DataMatrixReader=Pa,r.DecodeHintType=Y,r.DecoderResult=me,r.DefaultGridSampler=fs,r.DetectorResult=Da,r.EAN13Reader=mt,r.EncodeHintType=cn,r.Exception=y,r.FormatException=L,r.GenericGF=Je,r.GenericGFPoly=st,r.GlobalHistogramBinarizer=te,r.GridSampler=zi,r.GridSamplerInstance=Hn,r.HTMLCanvasElementLuminanceSource=Oe,r.HybridBinarizer=ie,r.ITFReader=jt,r.IllegalArgumentException=A,r.IllegalStateException=Ie,r.InvertedLuminanceSource=pe,r.LuminanceSource=ne,r.MathUtils=lt,r.MultiFormatOneDReader=Ye,r.MultiFormatReader=vf,r.MultiFormatWriter=f1,r.NotFoundException=Z,r.OneDReader=Qt,r.PDF417DecodedBitStreamParser=Ee,r.PDF417DecoderErrorCorrection=Ni,r.PDF417Reader=Sn,r.PDF417ResultMetadata=fl,r.PerspectiveTransform=In,r.PlanarYUVLuminanceSource=ni,r.QRCodeByteMatrix=lc,r.QRCodeDataMask=la,r.QRCodeDecodedBitStreamParser=Or,r.QRCodeDecoderErrorCorrectionLevel=Ht,r.QRCodeDecoderFormatInformation=hn,r.QRCodeEncoder=_r,r.QRCodeEncoderQRCode=ms,r.QRCodeMaskUtil=Fr,r.QRCodeMatrixUtil=St,r.QRCodeMode=xt,r.QRCodeReader=Ei,r.QRCodeVersion=ut,r.QRCodeWriter=hl,r.RGBLuminanceSource=Su,r.RSS14Reader=De,r.RSSExpandedReader=Le,r.ReaderException=sc,r.ReedSolomonDecoder=Nt,r.ReedSolomonEncoder=ao,r.ReedSolomonException=Et,r.Result=ke,r.ResultMetadataType=Ze,r.ResultPoint=et,r.StringUtils=ee,r.UnsupportedOperationException=Ce,r.VideoInputDevice=$,r.WhiteRectangleDetector=hr,r.WriterException=ur,r.ZXingArrays=F,r.ZXingCharset=wf,r.ZXingInteger=U,r.ZXingStandardCharsets=io,r.ZXingStringBuilder=ce,r.ZXingStringEncoding=oe,r.ZXingSystem=M,r.createAbstractExpandedDecoder=Hi,Object.defineProperty(r,"__esModule",{value:!0})}))})(bd,bd.exports)),bd.exports}var qr=e$();const t$=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var m4=(function(){function e(t,r,n){if(this.formatMap=new Map([[at.QR_CODE,qr.BarcodeFormat.QR_CODE],[at.AZTEC,qr.BarcodeFormat.AZTEC],[at.CODABAR,qr.BarcodeFormat.CODABAR],[at.CODE_39,qr.BarcodeFormat.CODE_39],[at.CODE_93,qr.BarcodeFormat.CODE_93],[at.CODE_128,qr.BarcodeFormat.CODE_128],[at.DATA_MATRIX,qr.BarcodeFormat.DATA_MATRIX],[at.MAXICODE,qr.BarcodeFormat.MAXICODE],[at.ITF,qr.BarcodeFormat.ITF],[at.EAN_13,qr.BarcodeFormat.EAN_13],[at.EAN_8,qr.BarcodeFormat.EAN_8],[at.PDF_417,qr.BarcodeFormat.PDF_417],[at.RSS_14,qr.BarcodeFormat.RSS_14],[at.RSS_EXPANDED,qr.BarcodeFormat.RSS_EXPANDED],[at.UPC_A,qr.BarcodeFormat.UPC_A],[at.UPC_E,qr.BarcodeFormat.UPC_E],[at.UPC_EAN_EXTENSION,qr.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!t$)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var l=this.createZXingFormats(t),c=new Map;c.set(qr.DecodeHintType.POSSIBLE_FORMATS,l),c.set(qr.DecodeHintType.TRY_HARDER,!1),this.hints=c}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,l){try{n(r.decode(t))}catch(c){l(c)}})},e.prototype.decode=function(t){var r=new qr.MultiFormatReader(this.verbose,this.hints),n=new qr.HTMLCanvasElementLuminanceSource(t),l=new qr.BinaryBitmap(new qr.HybridBinarizer(n)),c=r.decode(l);return{text:c.text,format:EI.create(this.toHtml5QrcodeSupportedFormats(c.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,l){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,l=t;n<l.length;n++){var c=l[n];this.formatMap.has(c)?r.push(this.formatMap.get(c)):this.logger.logError("".concat(c," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e})(),r$=function(e,t,r,n){function l(c){return c instanceof r?c:new r(function(f){f(c)})}return new(r||(r=Promise))(function(c,f){function x(w){try{y(n.next(w))}catch(A){f(A)}}function b(w){try{y(n.throw(w))}catch(A){f(A)}}function y(w){w.done?c(w.value):l(w.value).then(x,b)}y((n=n.apply(e,t||[])).next())})},n$=function(e,t){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},n,l,c,f;return f={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function x(y){return function(w){return b([y,w])}}function b(y){if(n)throw new TypeError("Generator is already executing.");for(;f&&(f=0,y[0]&&(r=0)),r;)try{if(n=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return r.label++,{value:y[1],done:!1};case 5:r.label++,l=y[1],y=[0];continue;case 7:y=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){r=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){r.label=y[1];break}if(y[0]===6&&r.label<c[1]){r.label=c[1],c=y;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(y);break}c[2]&&r.ops.pop(),r.trys.pop();continue}y=t.call(e,r)}catch(w){y=[6,w],l=0}finally{n=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},p4=(function(){function e(t,r,n){if(this.formatMap=new Map([[at.QR_CODE,"qr_code"],[at.AZTEC,"aztec"],[at.CODABAR,"codabar"],[at.CODE_39,"code_39"],[at.CODE_93,"code_93"],[at.CODE_128,"code_128"],[at.DATA_MATRIX,"data_matrix"],[at.ITF,"itf"],[at.EAN_13,"ean_13"],[at.EAN_8,"ean_8"],[at.PDF_417,"pdf417"],[at.UPC_A,"upc_a"],[at.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var l=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(l),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return r$(this,void 0,void 0,function(){var r,n;return n$(this,function(l){switch(l.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=l.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:EI.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,l=0,c=t;l<c.length;l++){var f=c[l],x=f.boundingBox.width*f.boundingBox.height;x>n&&(n=x,r=f)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,l=t;n<l.length;n++){var c=l[n];this.formatMap.has(c)?r.push(this.formatMap.get(c)):this.logger.warn("".concat(c," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,l){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e})(),x4=function(e,t,r,n){function l(c){return c instanceof r?c:new r(function(f){f(c)})}return new(r||(r=Promise))(function(c,f){function x(w){try{y(n.next(w))}catch(A){f(A)}}function b(w){try{y(n.throw(w))}catch(A){f(A)}}function y(w){w.done?c(w.value):l(w.value).then(x,b)}y((n=n.apply(e,t||[])).next())})},g4=function(e,t){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},n,l,c,f;return f={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function x(y){return function(w){return b([y,w])}}function b(y){if(n)throw new TypeError("Generator is already executing.");for(;f&&(f=0,y[0]&&(r=0)),r;)try{if(n=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return r.label++,{value:y[1],done:!1};case 5:r.label++,l=y[1],y=[0];continue;case 7:y=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){r=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){r.label=y[1];break}if(y[0]===6&&r.label<c[1]){r.label=c[1],c=y;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(y);break}c[2]&&r.ops.pop(),r.trys.pop();continue}y=t.call(e,r)}catch(w){y=[6,w],l=0}finally{n=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},a$=(function(){function e(t,r,n,l){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&p4.isSupported()?(this.primaryDecoder=new p4(t,n,l),this.secondaryDecoder=new m4(t,n,l)):this.primaryDecoder=new m4(t,n,l)}return e.prototype.decodeAsync=function(t){return x4(this,void 0,void 0,function(){var r;return g4(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return x4(this,void 0,void 0,function(){var r,n;return g4(this,function(l){switch(l.label){case 0:r=performance.now(),l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,l.sent()];case 3:if(n=l.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var l=n[r];t+=l}var c=t/this.executionResults.length;console.log("".concat(c," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e})(),Yb=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(n[c]=l[c])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),om=function(e,t,r,n){function l(c){return c instanceof r?c:new r(function(f){f(c)})}return new(r||(r=Promise))(function(c,f){function x(w){try{y(n.next(w))}catch(A){f(A)}}function b(w){try{y(n.throw(w))}catch(A){f(A)}}function y(w){w.done?c(w.value):l(w.value).then(x,b)}y((n=n.apply(e,t||[])).next())})},cm=function(e,t){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},n,l,c,f;return f={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function x(y){return function(w){return b([y,w])}}function b(y){if(n)throw new TypeError("Generator is already executing.");for(;f&&(f=0,y[0]&&(r=0)),r;)try{if(n=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return r.label++,{value:y[1],done:!1};case 5:r.label++,l=y[1],y=[0];continue;case 7:y=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){r=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){r.label=y[1];break}if(y[0]===6&&r.label<c[1]){r.label=c[1],c=y;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(y);break}c[2]&&r.ops.pop(),r.trys.pop();continue}y=t.call(e,r)}catch(w){y=[6,w],l=0}finally{n=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},OI=(function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e})(),i$=(function(e){Yb(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var l={advanced:[n]};return this.track.applyConstraints(l)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t})(OI),s$=(function(e){Yb(t,e);function t(r){return e.call(this,"zoom",r)||this}return t})(i$),l$=(function(e){Yb(t,e);function t(r){return e.call(this,"torch",r)||this}return t})(OI),o$=(function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new s$(this.track)},e.prototype.torchFeature=function(){return new l$(this.track)},e})(),c$=(function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,l=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,l),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,l){return om(this,void 0,void 0,function(){var c,f;return cm(this,function(x){switch(x.label){case 0:return c=new e(t,r,l),n.aspectRatio?(f={aspectRatio:n.aspectRatio},[4,c.getFirstTrackOrFail().applyConstraints(f)]):[3,2];case 1:x.sent(),x.label=2;case 2:return c.setupSurface(),[2,c]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return om(this,void 0,void 0,function(){return cm(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var l=t.mediaStream.getVideoTracks(),c=l.length,f=0;t.mediaStream.getVideoTracks().forEach(function(x){t.mediaStream.removeTrack(x),x.stop(),++f,f>=c&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new o$(this.getFirstTrackOrFail())},e})(),u$=(function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return om(this,void 0,void 0,function(){return cm(this,function(l){return[2,c$.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return om(this,void 0,void 0,function(){var r,n;return cm(this,function(l){switch(l.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=l.sent(),[2,new e(n)]}})})},e})(),y4=function(e,t,r,n){function l(c){return c instanceof r?c:new r(function(f){f(c)})}return new(r||(r=Promise))(function(c,f){function x(w){try{y(n.next(w))}catch(A){f(A)}}function b(w){try{y(n.throw(w))}catch(A){f(A)}}function y(w){w.done?c(w.value):l(w.value).then(x,b)}y((n=n.apply(e,t||[])).next())})},v4=function(e,t){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},n,l,c,f;return f={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function x(y){return function(w){return b([y,w])}}function b(y){if(n)throw new TypeError("Generator is already executing.");for(;f&&(f=0,y[0]&&(r=0)),r;)try{if(n=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return r.label++,{value:y[1],done:!1};case 5:r.label++,l=y[1],y=[0];continue;case 7:y=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){r=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){r.label=y[1];break}if(y[0]===6&&r.label<c[1]){r.label=c[1],c=y;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(y);break}c[2]&&r.ops.pop(),r.trys.pop();continue}y=t.call(e,r)}catch(w){y=[6,w],l=0}finally{n=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},d$=(function(){function e(){}return e.failIfNotSupported=function(){return y4(this,void 0,void 0,function(){return v4(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return y4(this,void 0,void 0,function(){return v4(this,function(r){return[2,u$.create(t)]})})},e})(),f$=function(e,t,r,n){function l(c){return c instanceof r?c:new r(function(f){f(c)})}return new(r||(r=Promise))(function(c,f){function x(w){try{y(n.next(w))}catch(A){f(A)}}function b(w){try{y(n.throw(w))}catch(A){f(A)}}function y(w){w.done?c(w.value):l(w.value).then(x,b)}y((n=n.apply(e,t||[])).next())})},h$=function(e,t){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},n,l,c,f;return f={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function x(y){return function(w){return b([y,w])}}function b(y){if(n)throw new TypeError("Generator is already executing.");for(;f&&(f=0,y[0]&&(r=0)),r;)try{if(n=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return r.label++,{value:y[1],done:!1};case 5:r.label++,l=y[1],y=[0];continue;case 7:y=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){r=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){r.label=y[1];break}if(y[0]===6&&r.label<c[1]){r.label=c[1],c=y;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(y);break}c[2]&&r.ops.pop(),r.trys.pop();continue}y=t.call(e,r)}catch(w){y=[6,w],l=0}finally{n=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},m$=(function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Yc.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Yc.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return f$(this,void 0,void 0,function(){var t,r,n,l,c,f,x;return h$(this,function(b){switch(b.label){case 0:return t=function(y){for(var w=y.getVideoTracks(),A=0,T=w;A<T.length;A++){var _=T[A];_.enabled=!1,_.stop(),y.removeTrack(_)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=b.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=b.sent(),l=[],c=0,f=n;c<f.length;c++)x=f[c],x.kind==="videoinput"&&l.push({id:x.deviceId,label:x.label});return t(r),[2,l]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(c){for(var f=[],x=0,b=c;x<b.length;x++){var y=b[x];y.kind==="video"&&f.push({id:y.id,label:y.label})}t(f)},l=MediaStreamTrack;l.getSources(n)})},e})(),Jr;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Jr||(Jr={}));var p$=(function(){function e(){this.state=Jr.NOT_STARTED,this.onGoingTransactionNewState=Jr.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Jr.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Jr.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Jr.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Jr.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Jr.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Jr.UNKNOWN:throw"Transition from unknown is not allowed";case Jr.NOT_STARTED:this.failIfNewStateIs(t,[Jr.PAUSED]);break;case Jr.SCANNING:break;case Jr.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,l=r;n<l.length;n++){var c=l[n];if(t===c)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e})(),x$=(function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Jr.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Jr.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Jr.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Jr.PAUSED},e})(),g$=(function(){function e(){}return e.create=function(){return new x$(new p$)},e})(),y$=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(n[c]=l[c])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),qa=(function(e){y$(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t})(_i),v$=(function(){function e(t,r){this.logger=r,this.fps=qa.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=qa.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?TI.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!es(this.qrbox)},e.create=function(t,r){return new e(t,r)},e})(),b4=(function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new CI(this.verbose),this.qrcode=new a$(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=g$.create()}return e.prototype.start=function(t,r,n,l){var c=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var f;l?f=l:f=this.verbose?this.logger.log:function(){};var x=v$.create(r,this.logger);this.clearElement();var b=!1;x.videoConstraints&&(x.isMediaStreamConstraintsValid()?b=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var y=b,w=document.getElementById(this.elementId);w.clientWidth?w.clientWidth:qa.DEFAULT_WIDTH,w.style.position="relative",this.shouldScan=!0,this.element=w;var A=this,T=this.stateManagerProxy.startTransition(Jr.SCANNING);return new Promise(function(_,j){var M=y?x.videoConstraints:A.createVideoConstraints(t);if(!M){T.cancel(),j("videoConstraints should be defined");return}var k={};(!y||x.aspectRatio)&&(k.aspectRatio=x.aspectRatio);var R={onRenderSurfaceReady:function(F,U){A.setupUi(F,U,x),A.isScanning=!0,A.foreverScan(x,n,f)}};d$.failIfNotSupported().then(function(F){F.create(M).then(function(U){return U.render(c.element,k,R).then(function(V){A.renderedCamera=V,T.execute(),_(null)}).catch(function(V){T.cancel(),j(V)})}).catch(function(U){T.cancel(),j(Yc.errorGettingUserMedia(U))})}).catch(function(F){T.cancel(),j(Yc.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Jr.PAUSED),this.showPausedState(),(es(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(Jr.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Jr.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var c=document.getElementById(qa.SHADED_REGION_ELEMENT_ID);c&&t.element.removeChild(c)}},l=this;return this.renderedCamera.close().then(function(){return l.renderedCamera=null,l.element&&(l.element.removeChild(l.canvasElement),l.canvasElement=null),n(),l.qrRegion&&(l.qrRegion=null),l.context&&(l.context=null),r.execute(),l.hidePausedState(),l.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(es(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(l,c){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var f=new Image;f.onload=function(){var x=f.width,b=f.height,y=document.getElementById(n.elementId),w=y.clientWidth?y.clientWidth:qa.DEFAULT_WIDTH,A=Math.max(y.clientHeight?y.clientHeight:b,qa.FILE_SCAN_MIN_HEIGHT),T=n.computeCanvasDrawConfig(x,b,w,A);if(r){var _=n.createCanvasElement(w,A,"qr-canvas-visible");_.style.display="inline-block",y.appendChild(_);var j=_.getContext("2d");if(!j)throw"Unable to get 2d context from canvas";j.canvas.width=w,j.canvas.height=A,j.drawImage(f,0,0,x,b,T.x,T.y,T.width,T.height)}var M=qa.FILE_SCAN_HIDDEN_CANVAS_PADDING,k=Math.max(f.width,T.width),R=Math.max(f.height,T.height),F=k+2*M,U=R+2*M,V=n.createCanvasElement(F,U);y.appendChild(V);var q=V.getContext("2d");if(!q)throw"Unable to get 2d context from canvas";q.canvas.width=F,q.canvas.height=U,q.drawImage(f,0,0,x,b,M,M,k,R);try{n.qrcode.decodeRobustlyAsync(V).then(function(Y){l(d4.createFromQrcodeResult(Y))}).catch(c)}catch(Y){c("QR code parse error, error = ".concat(Y))}},f.onerror=c,f.onabort=c,f.onstalled=c,f.onsuspend=c,f.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return m$.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!TI.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[at.QR_CODE,at.AZTEC,at.CODABAR,at.CODE_39,at.CODE_93,at.CODE_128,at.DATA_MATRIX,at.MAXICODE,at.ITF,at.EAN_13,at.EAN_8,at.PDF_417,at.RSS_14,at.RSS_EXPANDED,at.UPC_A,at.UPC_E,at.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],l=0,c=t.formatsToSupport;l<c.length;l++){var f=c[l];$Z(f)?n.push(f):this.logger.warn("Invalid format: ".concat(f," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(es(t))return!0;if(!es(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(es(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return es(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var l=this,c=n.qrbox;this.validateQrboxConfig(c);var f=this.toQrdimensions(t,r,c),x=function(y){if(y<qa.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(qa.MIN_QR_BOX_SIZE,"px.")},b=function(y){return y>t&&(l.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),y=t),y};x(f.width),x(f.height),f.width=b(f.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(l){throw new Error("qrbox config was passed as a function but it failed with unknown error"+l)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var l=es(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(l);var c=this.toQrdimensions(t,r,l);c.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var f=n.isShadedBoxEnabled()&&c.height<=r,x={x:0,y:0,width:t,height:r},b=f?this.getShadedRegionBounds(t,r,c):x,y=this.createCanvasElement(b.width,b.height),w={willReadFrequently:!0},A=y.getContext("2d",w);A.canvas.width=b.width,A.canvas.height=b.height,this.element.append(y),f&&this.possiblyInsertShadingElement(this.element,t,r,c),this.createScannerPausedUiElement(this.element),this.qrRegion=b,this.context=A,this.canvasElement=y},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=Yc.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(l){return t(l.text,d4.createFromQrcodeResult(l)),n.possiblyUpdateShaders(!0),!0}).catch(function(l){n.possiblyUpdateShaders(!1);var c=Yc.codeParseError(l);return r(c,NI.createFrom(c)),!1})},e.prototype.foreverScan=function(t,r,n){var l=this;if(this.shouldScan&&this.renderedCamera){var c=this.renderedCamera.getSurface(),f=c.videoWidth/c.clientWidth,x=c.videoHeight/c.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var b=this.qrRegion.width*f,y=this.qrRegion.height*x,w=this.qrRegion.x*f,A=this.qrRegion.y*x;this.context.drawImage(c,w,A,b,y,0,0,this.qrRegion.width,this.qrRegion.height);var T=function(){l.foreverScanTimeout=setTimeout(function(){l.foreverScan(t,r,n)},l.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(_){!_&&t.disableFlip!==!0?(l.context.translate(l.context.canvas.width,0),l.context.scale(-1,1),l.scanContext(r,n).finally(function(){T()})):T()}).catch(function(_){l.logger.logError("Error happend while scanning context",_),T()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",l={user:!0,environment:!0},c="exact",f=function(j){if(j in l)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(j,"'")},x=Object.keys(t);if(x.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(x.length," keys");var b=Object.keys(t)[0];if(b!==r&&b!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(b===r){var y=t.facingMode;if(typeof y=="string"){if(f(y))return{facingMode:y}}else if(typeof y=="object")if(c in y){if(f(y["".concat(c)]))return{facingMode:{exact:y["".concat(c)]}}}else throw"'facingMode' should be string or object with"+" ".concat(c," as key.");else{var w=typeof y;throw"Invalid type of 'facingMode' = ".concat(w)}}else{var A=t.deviceId;if(typeof A=="string")return{deviceId:A};if(typeof A=="object"){if(c in A)return{deviceId:{exact:A["".concat(c)]}};throw"'deviceId' should be string or object with"+" ".concat(c," as key.")}else{var T=typeof A;throw"Invalid type of 'deviceId' = ".concat(T)}}}var _=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(_)},e.prototype.computeCanvasDrawConfig=function(t,r,n,l){if(t<=n&&r<=l){var c=(n-t)/2,f=(l-r)/2;return{x:c,y:f,width:t,height:r}}else{var x=t,b=r;return t>n&&(r=n/t*r,t=n),r>l&&(t=l/r*t,r=l),this.logger.log("Image downsampled from "+"".concat(x,"X").concat(b)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,l)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?qa.BORDER_SHADER_MATCH_COLOR:qa.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var l=t,c=r,f=document.createElement("canvas");return f.style.width="".concat(l,"px"),f.style.height="".concat(c,"px"),f.style.display="none",f.id=es(n)?"qr-canvas":n,f},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,l){if(!(r-l.width<1||n-l.height<1)){var c=document.createElement("div");c.style.position="absolute";var f=(r-l.width)/2,x=(n-l.height)/2;if(c.style.borderLeft="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderRight="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderTop="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderBottom="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),c.style.boxSizing="border-box",c.style.top="0px",c.style.bottom="0px",c.style.left="0px",c.style.right="0px",c.id="".concat(qa.SHADED_REGION_ELEMENT_ID),r-l.width<11||n-l.height<11)this.hasBorderShaders=!1;else{var b=5,y=40;this.insertShaderBorders(c,y,b,-b,null,0,!0),this.insertShaderBorders(c,y,b,-b,null,0,!1),this.insertShaderBorders(c,y,b,null,-b,0,!0),this.insertShaderBorders(c,y,b,null,-b,0,!1),this.insertShaderBorders(c,b,y+b,-b,null,-b,!0),this.insertShaderBorders(c,b,y+b,null,-b,-b,!0),this.insertShaderBorders(c,b,y+b,-b,null,-b,!1),this.insertShaderBorders(c,b,y+b,null,-b,-b,!1),this.hasBorderShaders=!0}t.append(c)}},e.prototype.insertShaderBorders=function(t,r,n,l,c,f,x){var b=document.createElement("div");b.style.position="absolute",b.style.backgroundColor=qa.BORDER_SHADER_DEFAULT_COLOR,b.style.width="".concat(r,"px"),b.style.height="".concat(n,"px"),l!==null&&(b.style.top="".concat(l,"px")),c!==null&&(b.style.bottom="".concat(c,"px")),x?b.style.left="".concat(f,"px"):b.style.right="".concat(f,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(b),t.appendChild(b)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e})(),qb="data:image/svg+xml;base64,",b$=qb+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",w$=qb+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",w4=qb+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",A$="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",A4=(function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e})(),S$=(function(){function e(){this.data=A4.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=A4.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e})(),E$=(function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=f4.poweredBy();var r=document.createElement("a");r.innerText="ScanApp",r.href="https://scanapp.org",r.target="new",r.style.color="white",this.infoDiv.appendChild(r);var n=document.createElement("br"),l=document.createElement("br");this.infoDiv.appendChild(n),this.infoDiv.appendChild(l);var c=document.createElement("a");c.innerText=f4.reportIssues(),c.href="https://github.com/mebjas/html5-qrcode/issues",c.target="new",c.style.color="white",this.infoDiv.appendChild(c),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e})(),N$=(function(){function e(t,r){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=r,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var r=this;this.infoIcon.alt="Info icon",this.infoIcon.src=w4,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(n){return r.onHoverIn()},this.infoIcon.onmouseout=function(n){return r.onHoverOut()},this.infoIcon.onclick=function(n){return r.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=A$,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=w4,this.infoIcon.style.opacity="0.6")},e})(),C$=(function(){function e(){var t=this;this.infoDiv=new E$,this.infoIcon=new N$(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e})(),T$=function(e,t,r,n){function l(c){return c instanceof r?c:new r(function(f){f(c)})}return new(r||(r=Promise))(function(c,f){function x(w){try{y(n.next(w))}catch(A){f(A)}}function b(w){try{y(n.throw(w))}catch(A){f(A)}}function y(w){w.done?c(w.value):l(w.value).then(x,b)}y((n=n.apply(e,t||[])).next())})},O$=function(e,t){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},n,l,c,f;return f={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function x(y){return function(w){return b([y,w])}}function b(y){if(n)throw new TypeError("Generator is already executing.");for(;f&&(f=0,y[0]&&(r=0)),r;)try{if(n=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return r.label++,{value:y[1],done:!1};case 5:r.label++,l=y[1],y=[0];continue;case 7:y=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){r=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){r.label=y[1];break}if(y[0]===6&&r.label<c[1]){r.label=c[1],c=y;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(y);break}c[2]&&r.ops.pop(),r.trys.pop();continue}y=t.call(e,r)}catch(w){y=[6,w],l=0}finally{n=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},S4=(function(){function e(){}return e.hasPermissions=function(){return T$(this,void 0,void 0,function(){var t,r,n,l;return O$(this,function(c){switch(c.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=c.sent(),r=0,n=t;r<n.length;r++)if(l=n[r],l.kind==="videoinput"&&l.label)return[2,!0];return[2,!1]}})})},e})(),Fl=(function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,r=this.supportedScanTypes;t<r.length;t++){var n=r[t];if(e.isCameraScanType(n))return!0}return!1},e.isCameraScanType=function(t){return t===$l.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===$l.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return _i.DEFAULT_SUPPORTED_SCAN_TYPE;var r=_i.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>r)throw"Max ".concat(r," values expected for ")+"supportedScanTypes";for(var n=0,l=t;n<l.length;n++){var c=l[n];if(!_i.DEFAULT_SUPPORTED_SCAN_TYPE.includes(c))throw"Unsupported scan type ".concat(c)}return t},e})(),Ka=(function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e})(),Us=(function(){function e(){}return e.createElement=function(t,r){var n=document.createElement(t);return n.id=r,n.classList.add(Ka.ALL_ELEMENT_CLASS),t==="button"&&n.setAttribute("type","button"),n},e})(),II=function(e,t,r,n){function l(c){return c instanceof r?c:new r(function(f){f(c)})}return new(r||(r=Promise))(function(c,f){function x(w){try{y(n.next(w))}catch(A){f(A)}}function b(w){try{y(n.throw(w))}catch(A){f(A)}}function y(w){w.done?c(w.value):l(w.value).then(x,b)}y((n=n.apply(e,t||[])).next())})},_I=function(e,t){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},n,l,c,f;return f={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function x(y){return function(w){return b([y,w])}}function b(y){if(n)throw new TypeError("Generator is already executing.");for(;f&&(f=0,y[0]&&(r=0)),r;)try{if(n=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return r.label++,{value:y[1],done:!1};case 5:r.label++,l=y[1],y=[0];continue;case 7:y=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){r=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){r.label=y[1];break}if(y[0]===6&&r.label<c[1]){r.label=c[1],c=y;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(y);break}c[2]&&r.ops.pop(),r.trys.pop();continue}y=t.call(e,r)}catch(w){y=[6,w],l=0}finally{n=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},E4=(function(){function e(t,r,n){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=r,this.onTorchActionFailureCallback=n}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return II(this,void 0,void 0,function(){var t,r;return _I(this,function(n){switch(n.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return n.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return r=n.sent(),this.propagateFailure(t,r),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,r){t===r?(this.buttonController.setText(r?yr.torchOffButton():yr.torchOnButton()),this.isTorchOn=r):this.propagateFailure(r),this.buttonController.enable()},e.prototype.propagateFailure=function(t,r){var n=t?yr.torchOnFailedMessage():yr.torchOffFailedMessage();r&&(n+="; Error = "+r),this.onTorchActionFailureCallback(n)},e.prototype.reset=function(){this.isTorchOn=!1},e})(),I$=(function(){function e(t,r){this.onTorchActionFailureCallback=r,this.torchButton=Us.createElement("button",Ka.TORCH_BUTTON_ID),this.torchController=new E4(t,this,r)}return e.prototype.render=function(t,r){var n=this;this.torchButton.innerText=yr.torchOnButton(),this.torchButton.style.display=r.display,this.torchButton.style.marginLeft=r.marginLeft;var l=this;this.torchButton.addEventListener("click",function(c){return II(n,void 0,void 0,function(){return _I(this,function(f){switch(f.label){case 0:return[4,l.torchController.flipState()];case 1:return f.sent(),l.torchController.isTorchEnabled()?(l.torchButton.classList.remove(Ka.TORCH_BUTTON_CLASS_TORCH_OFF),l.torchButton.classList.add(Ka.TORCH_BUTTON_CLASS_TORCH_ON)):(l.torchButton.classList.remove(Ka.TORCH_BUTTON_CLASS_TORCH_ON),l.torchButton.classList.add(Ka.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new E4(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=yr.torchOnButton(),this.torchController.reset()},e.create=function(t,r,n,l){var c=new e(r,l);return c.render(t,n),c},e})(),_$=(function(){function e(t,r,n){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=r?"block":"none",t.appendChild(this.fileBasedScanRegion);var l=document.createElement("label");l.setAttribute("for",this.getFileScanInputId()),l.style.display="inline-block",this.fileBasedScanRegion.appendChild(l),this.fileSelectionButton=Us.createElement("button",Ka.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(x){l.click()}),l.append(this.fileSelectionButton),this.fileScanInput=Us.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",l.appendChild(this.fileScanInput);var c=this;this.fileScanInput.addEventListener("change",function(x){if(!(x==null||x.target==null)){var b=x.target;if(!(b.files&&b.files.length===0)){var y=b.files,w=y[0],A=w.name;c.setImageNameToButton(A),n(w)}}});var f=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(f),this.fileBasedScanRegion.addEventListener("dragenter",function(x){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionActiveBorder(),x.stopPropagation(),x.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(x){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionDefaultBorder(),x.stopPropagation(),x.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(x){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionActiveBorder(),x.stopPropagation(),x.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(x){x.stopPropagation(),x.preventDefault(),c.fileBasedScanRegion.style.border=c.fileBasedScanRegionDefaultBorder();var b=x.dataTransfer;if(b){var y=b.files;if(!y||y.length===0)return;for(var w=!1,A=0;A<y.length;++A){var T=y.item(A);if(T){var _=/image.*/;if(T.type.match(_)){w=!0;var j=T.name;c.setImageNameToButton(j),n(T),f.innerText=yr.dragAndDropMessage();break}}}w||(f.innerText=yr.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=yr.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var r=20;if(t.length>r){var n=t.substring(0,8),l=t.length,c=t.substring(l-8,l);t="".concat(n,"....").concat(c)}var f=yr.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=f},e.prototype.setInitialValueToButton=function(){var t=yr.fileSelectionChooseImage()+" - "+yr.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,r,n){var l=new e(t,r,n);return l},e})(),M$=(function(){function e(t){this.selectElement=Us.createElement("select",Ka.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var r=document.createElement("span");r.style.marginRight="10px";var n=this.cameras.length;if(n===0)throw new Error("No cameras found");if(n===1)r.style.display="none";else{var l=yr.selectCamera();r.innerText="".concat(l," (").concat(this.cameras.length,")  ")}for(var c=1,f=0,x=this.cameras;f<x.length;f++){var b=x[f],y=b.id,w=b.label==null?y:b.label;(!w||w==="")&&(w=[yr.anonymousCameraPrefix(),c++].join(" "));var A=document.createElement("option");A.value=y,A.innerText=w,this.options.push(A),this.selectElement.appendChild(A)}r.appendChild(this.selectElement),t.appendChild(r)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var r=0,n=this.options;r<n.length;r++){var l=n[r];if(l.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,r){var n=new e(r);return n.render(t),n},e})(),j$=(function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Us.createElement("input",Ka.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,r){this.zoomElementContainer.style.display=r?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var n=yr.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(n),this.rangeText.style.marginRight="10px";var l=this;this.rangeInput.addEventListener("input",function(){return l.onValueChange()}),this.rangeInput.addEventListener("change",function(){return l.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=yr.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,r,n,l){this.rangeInput.min=t.toString(),this.rangeInput.max=r.toString(),this.rangeInput.step=l.toString(),this.rangeInput.value=n.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,r){var n=new e;return n.render(t,r),n},e})(),Xa;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Xa||(Xa={}));function k$(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function D$(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var MI=(function(){function e(t,r,n){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(r),this.verbose=n===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Fl(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new CI(this.verbose),this.persistedDataManager=new S$,r.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,r){var n=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(c,f){if(t)t(c,f);else{if(n.lastMatchFound===c)return;n.lastMatchFound=c,n.setHeaderMessage(yr.lastMatch(c),Xa.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(c,f){r&&r(c,f)};var l=document.getElementById(this.elementId);if(!l)throw"HTML Element with id=".concat(this.elementId," not found");l.innerHTML="",this.createBasicLayout(l),this.html5Qrcode=new b4(this.getScanRegionId(),D$(this.config,this.verbose))},e.prototype.pause=function(t){(es(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,r=function(){var n=document.getElementById(t.elementId);n&&(n.innerHTML="",t.resetBasicLayout(n))};return this.html5Qrcode?new Promise(function(n,l){if(!t.html5Qrcode){n();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(c){if(!t.html5Qrcode){n();return}t.html5Qrcode.clear(),r(),n()}).catch(function(c){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",c),l(c)}):(t.html5Qrcode.clear(),r(),n())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=_i.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!_i.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=_i.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=_i.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:_i.SCAN_DEFAULT_FPS,rememberLastUsedCamera:_i.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:_i.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var r=document.createElement("div"),n=this.getScanRegionId();r.id=n,r.style.width="100%",r.style.minHeight="100px",r.style.textAlign="center",t.appendChild(r),Fl.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var l=document.createElement("div"),c=this.getDashboardId();l.id=c,l.style.width="100%",t.appendChild(l),this.setupInitialDashboard(l)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var r=document.createElement("div");r.style.textAlign="left",r.style.margin="0px",t.appendChild(r);var n=new C$;n.renderInto(r);var l=document.createElement("div");l.id=this.getHeaderMessageContainerId(),l.style.display="none",l.style.textAlign="center",l.style.fontSize="14px",l.style.padding="2px 10px",l.style.margin="4px",l.style.borderTop="1px solid #f6f6f6",r.appendChild(l)},e.prototype.createSection=function(t){var r=document.createElement("div");r.id=this.getDashboardSectionId(),r.style.width="100%",r.style.padding="10px 0px 10px 0px",r.style.textAlign="left",t.appendChild(r)},e.prototype.createCameraListUi=function(t,r,n){var l=this;l.showHideScanTypeSwapLink(!1),l.setHeaderMessage(yr.cameraPermissionRequesting());var c=function(){n||l.createPermissionButton(t,r)};b4.getCameras().then(function(f){l.persistedDataManager.setHasPermission(!0),l.showHideScanTypeSwapLink(!0),l.resetHeaderMessage(),f&&f.length>0?(t.removeChild(r),l.renderCameraSelection(f)):(l.setHeaderMessage(yr.noCameraFound(),Xa.STATUS_WARNING),c())}).catch(function(f){l.persistedDataManager.setHasPermission(!1),n?n.disabled=!1:c(),l.setHeaderMessage(f,Xa.STATUS_WARNING),l.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,r){var n=this,l=Us.createElement("button",this.getCameraPermissionButtonId());l.innerText=yr.cameraPermissionTitle(),l.addEventListener("click",function(){l.disabled=!0,n.createCameraListUi(t,r,l)}),r.appendChild(l)},e.prototype.createPermissionsUi=function(t,r){var n=this;if(Fl.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){S4.hasPermissions().then(function(l){l?n.createCameraListUi(t,r):(n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(t,r))}).catch(function(l){n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(t,r)});return}this.createPermissionButton(t,r)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),r=document.createElement("div");t.appendChild(r);var n=document.createElement("div");n.id=this.getDashboardSectionCameraScanRegionId(),n.style.display=Fl.isCameraScanType(this.currentScanType)?"block":"none",r.appendChild(n);var l=document.createElement("div");l.style.textAlign="center",n.appendChild(l),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(n,l),this.renderFileScanUi(r)},e.prototype.renderFileScanUi=function(t){var r=Fl.isFileScanType(this.currentScanType),n=this,l=function(c){if(!n.html5Qrcode)throw"html5Qrcode not defined";Fl.isFileScanType(n.currentScanType)&&(n.setHeaderMessage(yr.loadingImage()),n.html5Qrcode.scanFileV2(c,!0).then(function(f){n.resetHeaderMessage(),n.qrCodeSuccessCallback(f.decodedText,f)}).catch(function(f){n.setHeaderMessage(f,Xa.STATUS_WARNING),n.qrCodeErrorCallback(f,NI.createFrom(f))}))};this.fileSelectionUi=_$.create(t,r,l)},e.prototype.renderCameraSelection=function(t){var r=this,n=this,l=document.getElementById(this.getDashboardSectionCameraScanRegionId());l.style.textAlign="center";var c=j$.create(l,!1),f=function(M){var k=M.zoomFeature();if(k.isSupported()){c.setOnCameraZoomValueChangeCallback(function(F){k.apply(F)});var R=1;r.config.defaultZoomValueIfSupported&&(R=r.config.defaultZoomValueIfSupported),R=QZ(R,k.min(),k.max()),c.setValues(k.min(),k.max(),R,k.step()),c.show()}},x=M$.create(l,t),b=document.createElement("span"),y=Us.createElement("button",Ka.CAMERA_START_BUTTON_ID);y.innerText=yr.scanButtonStartScanningText(),b.appendChild(y);var w=Us.createElement("button",Ka.CAMERA_STOP_BUTTON_ID);w.innerText=yr.scanButtonStopScanningText(),w.style.display="none",w.disabled=!0,b.appendChild(w);var A,T=function(M){if(!M.torchFeature().isSupported()){A&&A.hide();return}A?A.updateTorchCapability(M.torchFeature()):A=I$.create(b,M.torchFeature(),{display:"none",marginLeft:"5px"},function(k){n.setHeaderMessage(k,Xa.STATUS_WARNING)}),A.show()};l.appendChild(b);var _=function(M){M||(y.style.display="none"),y.innerText=yr.scanButtonStartScanningText(),y.style.opacity="1",y.disabled=!1,M&&(y.style.display="inline-block")};if(y.addEventListener("click",function(M){y.innerText=yr.scanButtonScanningStarting(),x.disable(),y.disabled=!0,y.style.opacity="0.5",r.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!1),n.resetHeaderMessage();var k=x.getValue();n.persistedDataManager.setLastUsedCameraId(k),n.html5Qrcode.start(k,k$(n.config),n.qrCodeSuccessCallback,n.qrCodeErrorCallback).then(function(R){w.disabled=!1,w.style.display="inline-block",_(!1);var F=n.html5Qrcode.getRunningTrackCameraCapabilities();r.config.showTorchButtonIfSupported===!0&&T(F),r.config.showZoomSliderIfSupported===!0&&f(F)}).catch(function(R){n.showHideScanTypeSwapLink(!0),x.enable(),_(!0),n.setHeaderMessage(R,Xa.STATUS_WARNING)})}),x.hasSingleItem()&&y.click(),w.addEventListener("click",function(M){if(!n.html5Qrcode)throw"html5Qrcode not defined";w.disabled=!0,n.html5Qrcode.stop().then(function(k){r.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!0),x.enable(),y.disabled=!1,w.style.display="none",y.style.display="inline-block",A&&(A.reset(),A.hide()),c.removeOnCameraZoomValueChangeCallback(),c.hide(),n.insertCameraScanImageToScanRegion()}).catch(function(k){w.disabled=!1,n.setHeaderMessage(k,Xa.STATUS_WARNING)})}),n.persistedDataManager.getLastUsedCameraId()){var j=n.persistedDataManager.getLastUsedCameraId();x.hasValue(j)?(x.setValue(j),y.click()):n.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,r=yr.textIfCameraScanSelected(),n=yr.textIfFileScanSelected(),l=document.getElementById(this.getDashboardSectionId()),c=document.createElement("div");c.style.textAlign="center";var f=Us.createElement("span",this.getDashboardSectionSwapLinkId());f.style.textDecoration="underline",f.style.cursor="pointer",f.innerText=Fl.isCameraScanType(this.currentScanType)?r:n,f.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Fl.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),f.innerText=n,t.currentScanType=$l.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),f.innerText=r,t.currentScanType=$l.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),c.appendChild(f),l.appendChild(c)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,r=this;if(this.persistedDataManager.hasCameraPermissions()){S4.hasPermissions().then(function(n){if(n){var l=document.getElementById(r.getCameraPermissionButtonId());if(!l)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";l.click()}else r.persistedDataManager.setHasPermission(!1)}).catch(function(n){r.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,r){r||(r=Xa.STATUS_DEFAULT);var n=this.getHeaderMessageDiv();switch(n.innerText=t,n.style.display="block",r){case Xa.STATUS_SUCCESS:n.style.background="rgba(106, 175, 80, 0.26)",n.style.color="#477735";break;case Xa.STATUS_WARNING:n.style.background="rgba(203, 36, 49, 0.14)",n.style.color="#cb2431";break;case Xa.STATUS_DEFAULT:default:n.style.background="rgba(0, 0, 0, 0)",n.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){r.innerHTML="<br>",r.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(n){r.innerHTML="<br>",r.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=b$,this.cameraScanImage.alt=yr.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.fileScanImage){r.innerHTML="<br>",r.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(n){r.innerHTML="<br>",r.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=w$,this.fileScanImage.alt=yr.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return Ka.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return Ka.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e})();const R$=(e,t,r=Wr.WARNING)=>r===Wr.DISABLED?"DISABLED":e<0?"OVERSOLD":e===0?"OUT_OF_STOCK":e<=t?"LOW_STOCK":"IN_STOCK",P$=e=>{switch(e){case"OVERSOLD":return"bg-red-100 text-red-700 border-red-200";case"OUT_OF_STOCK":return"bg-slate-100 text-slate-600 border-slate-200";case"LOW_STOCK":return"bg-orange-100 text-orange-700 border-orange-200";case"IN_STOCK":return"text-emerald-600 bg-emerald-50 border-emerald-200";case"DISABLED":default:return"text-slate-400"}},L$=e=>{switch(e){case"OVERSOLD":return"Oversold";case"OUT_OF_STOCK":return"Out of Stock";case"LOW_STOCK":return"Low Stock";case"IN_STOCK":return"In Stock";default:return"-"}},B$=(e,t,r=Wr.WARNING,n)=>{if(r===Wr.DISABLED)return{status:"OK",issues:[]};const l=[],c={},f=(x,b)=>b?`${x}_${b}`:x;return e.forEach(x=>{if(!x.productId)return;const b=f(x.productId,x.variantId);c[b]=(c[b]||0)+x.quantity}),Object.keys(c).forEach(x=>{const[b,y]=x.split("_"),w=t.find(k=>k.id===b);if(!w)return;let A=0;w.name;let T;if(y&&w.hasVariants&&w.variants){const k=w.variants.find(R=>R.id===y);if(!k)return;A=k.stock||0,T=k.name,`${w.name}${k.name}`}else A=w.stock||0;const _=n&&n[x]||0,j=A+_,M=c[x];M>j&&l.push({productId:b,productName:w.name,variantName:T,availableStock:j,requestedQuantity:M,shortage:M-j})}),l.length===0?{status:"OK",issues:[]}:{status:r===Wr.STRICT?"BLOCK":"WARNING",issues:l}},N4=()=>{const e=xa(),{id:t}=av(),[r]=Y4(),{customers:n,products:l,businessProfile:c,addInvoice:f,updateInvoice:x,invoices:b,addCustomer:y,addProduct:w,user:A,updateCustomerAdvance:T,processSalesReturn:_}=Ln(),{showAlert:j}=Ql(),[M,k]=O.useState(""),[R,F]=O.useState(new Date().toISOString().split("T")[0]),[U,V]=O.useState(""),[q,Y]=O.useState(Ot.PENDING),[L,J]=O.useState([]),[K,Ce]=O.useState("edit"),[oe,ee]=O.useState(""),[ce,fe]=O.useState(""),[Z,te]=O.useState(!1),[ie,ne]=O.useState(0),[pe,Oe]=O.useState(!1),[$,de]=O.useState("GST"),[Te,ke]=O.useState("EXISTING"),[Qe,Q]=O.useState({name:"",phone:""}),[Pe,Ze]=O.useState(!1),[me,nt]=O.useState({name:"",gstin:"",phone:"",state:c.state,address:"",email:""}),[st,Be]=O.useState({}),[Je,Et]=O.useState({name:"",gstin:"",phone:"",state:c.state,address:""}),[Ie,Nt]=O.useState(!1),[bt,Ct]=O.useState({}),[lt,wn]=O.useState("A4"),[et,Da]=O.useState(!1),[ll,hr]=O.useState(""),[zi,In]=O.useState({}),[fs,Hn]=O.useState(!1),[nn,Ai]=O.useState(!1),[Ui,to]=O.useState([]),[Qt,He]=O.useState(null),[lr,jt]=O.useState(!1),[ge,Me]=O.useState({}),[Ue,Ge]=O.useState({}),[Ve,mt]=O.useState(new Date().toISOString().split("T")[0]),[wt,Jt]=O.useState(""),[_t,tr]=O.useState("ADJUST"),[yt,mr]=O.useState("Cash");O.useEffect(()=>{if(t){const ue=b.find(De=>De.id===t);if(ue){k(ue.customerId),F(ue.date),V(ue.dueDate),Y(ue.status),J(ue.items),ee(ue.notes||""),fe(ue.invoiceNumber),ne(ue.paidAmount??(ue.status===Ot.PAID?ue.grandTotal:0)),de(ue.billingType||"GST"),ue.customerType==="temporary"?(ke("TEMP"),Q({name:ue.customerName,phone:""})):ke("EXISTING");const De={};ue.items.forEach(Ye=>{if(Ye.productId){const pt=Ye.variantId?`${Ye.productId}_${Ye.variantId}`:Ye.productId;De[pt]=(De[pt]||0)+Ye.quantity}}),Ct(De),ue.returns&&ue.returns.length>0&&Nt(!0),r.get("mode")==="view"&&Ce("preview")}else e("/invoices")}},[t,b,e,r]),O.useEffect(()=>{if(Z){const ue=new MI("reader",{fps:10,qrbox:{width:250,height:250}},!1);return ue.render(De=>{Cr(De),ue.clear(),te(!1)},De=>{}),()=>{try{ue.clear()}catch{}}}},[Z]),O.useEffect(()=>{if(K==="preview"){const ue=document.createElement("style");ue.id="dynamic-print-styles";let De="@page { margin: 10mm; }";return(lt==="Thermal80"||lt==="Thermal58")&&(De="@page { margin: 0; size: auto; } body { margin: 0; padding: 0; }"),ue.innerHTML=De,document.head.appendChild(ue),()=>{const Ye=document.getElementById("dynamic-print-styles");Ye&&Ye.remove()}}},[lt,K]),O.useEffect(()=>{Te==="TEMP"&&de("NON_GST")},[Te]);const Cr=ue=>{let De=l.find(pt=>pt.barcode===ue||pt.hsn===ue),Ye;if(!De){for(const pt of l)if(pt.hasVariants&&pt.variants){const We=pt.variants.find(Ke=>Ke.barcode===ue);if(We){De=pt,Ye=We.id;break}}}De?(rr(De,Ye),new Audio("https://www.soundjay.com/button/beep-07.wav").play().catch(We=>console.log("Audio play failed",We))):j({title:"Product Not Found",message:`Product with code ${ue} not found!`,type:"error"})},rr=(ue,De)=>{let Ye=ue.price,pt;if(De&&ue.variants){const Ke=ue.variants.find(rt=>rt.id===De);Ke&&(Ye=Ke.price,pt=Ke.name)}else ue.hasVariants&&ue.variants&&ue.variants.length>0&&(Ye=ue.variants[0].price,De=ue.variants[0].id,pt=ue.variants[0].name);const We={id:aa(),productId:ue.id,name:ue.name,quantity:1,price:Ye,gstRate:ue.gstRate,discount:0,amount:Ye,variantId:De,variantName:pt};J(Ke=>[...Ke,We])},Gn=()=>{const ue={id:aa(),productId:"",name:"",quantity:1,price:0,gstRate:0,discount:0,amount:0};J([...L,ue])},an=(ue,De)=>{const Ye=l.find(pt=>pt.id===De);J(pt=>pt.map(We=>{if(We.id===ue)if(Ye){let Ke,rt,pr=Ye.price;Ye.hasVariants&&Ye.variants&&Ye.variants.length>0&&(Ke=Ye.variants[0].id,rt=Ye.variants[0].name,pr=Ye.variants[0].price);const Mn=pr*We.quantity,kt=Mn*We.discount/100;return{...We,productId:Ye.id,name:Ye.name,price:pr,gstRate:Ye.gstRate,amount:Mn-kt,variantId:Ke,variantName:rt}}else return{...We,productId:"",name:String(De),variantId:void 0,variantName:void 0};return We}))},Ra=(ue,De)=>{J(Ye=>Ye.map(pt=>{if(pt.id===ue&&pt.productId){const We=l.find(Ke=>Ke.id===pt.productId);if(We&&We.variants){const Ke=We.variants.find(rt=>rt.id===De);if(Ke){const rt=Ke.price*pt.quantity,pr=rt*pt.discount/100;return{...pt,variantId:Ke.id,variantName:Ke.name,price:Ke.price,amount:rt-pr}}}}return pt}))},kr=(ue,De,Ye)=>{J(pt=>pt.map(We=>{if(We.id===ue){const Ke={...We,[De]:Ye},rt=Ke.price*Ke.quantity,pr=rt*Ke.discount/100;return Ke.amount=rt-pr,Ke}return We}))},sa=ue=>{J(L.filter(De=>De.id!==ue))};let sn=c.state;if(Te==="EXISTING"&&M){const ue=n.find(De=>De.id===M);ue&&(sn=ue.state)}else Te==="NEW"&&Je.state&&(sn=Je.state);const ze=Jg(L,c.state,sn,$),Mt=n.find(ue=>ue.id===M),Vt=(Mt==null?void 0:Mt.advanceBalance)||0;O.useEffect(()=>{if(Te==="EXISTING"&&pe&&Vt>0){const ue=ze.grandTotal,De=Math.min(ue,Vt);ne(De)}else!pe&&!t&&ne(0)},[pe,ze.grandTotal,Vt,Te]);const nr=ue=>{ue===Ot.PAID?ne(ze.grandTotal):ue===Ot.PENDING&&(ne(0),Oe(!1)),Y(ue)},_n=ue=>{ue>ze.grandTotal?ne(ze.grandTotal):ne(ue),ue>=ze.grandTotal?Y(Ot.PAID):ue>0?Y(Ot.PARTIALLY_PAID):Y(Ot.PENDING)},ti=()=>{var Ye,pt;const ue={};Te==="EXISTING"&&!M&&(ue.customer="Please select a customer"),Te==="NEW"&&((Ye=Je.name)!=null&&Ye.trim()||(ue.customerName="Name required")),Te==="TEMP"&&((pt=Qe.name)!=null&&pt.trim()||(ue.customerName="Name required")),L.length===0&&(ue.items="Add at least one item");const De=L.filter(We=>We.name);return L.length>0&&De.length===0&&(ue.items="Items must have a product name"),In(ue),Object.keys(ue).length===0},Si=()=>{const ue={};if(me.name.trim()||(ue.name="Business Name is required"),me.phone.trim()||(ue.phone="Phone is required"),me.state||(ue.state="State is required"),Object.keys(ue).length>0){Be(ue);return}const De=aa(),Ye={id:De,name:me.name,phone:me.phone,gstin:me.gstin,email:me.email,state:me.state,address:me.address,advanceBalance:0,isActive:!0,excludeFromReports:!1};y(Ye),k(De),ke("EXISTING"),Ze(!1),nt({name:"",phone:"",gstin:"",email:"",state:c.state,address:""}),Be({}),j({title:"Customer Added",message:"New customer created and selected.",type:"success"})},ea=()=>{var We;if(!ti())return;const ue=L.filter(Ke=>!Ke.productId&&Ke.name);if(ue.length>0){to(ue),Ai(!0);return}const De=((We=c.stockSettings)==null?void 0:We.mode)||Wr.WARNING,Ye=!!t;if(!Ie){const Ke=B$(L,l,De,Ye?bt:void 0);if(Ke.status!=="OK"){He(Ke);return}}Fi(L)},Fi=async ue=>{var Mn;const De=ue.filter(kt=>kt.name);let Ye=M,pt="",We="",Ke="",rt="registered";if(Te==="TEMP")Ye="",pt=Qe.name,We="N/A",Ke=c.state,rt="temporary";else{const kt=n.find(ht=>ht.id===M);kt&&(pt=kt.name,We=kt.gstin,Ke=kt.state)}const pr={id:t||aa(),invoiceNumber:ce||`INV-${new Date().getFullYear()}-${Math.floor(Math.random()*1e4)}`,date:R,dueDate:U||R,customerId:Ye,customerName:pt,customerGstin:We,customerState:Ke,items:De,subTotal:ze.totalTaxable,taxTotal:ze.totalTax,grandTotal:ze.grandTotal,paidAmount:ie,balanceAmount:ze.grandTotal-ie,status:q,notes:oe,isInterState:ze.isInterState,billingType:$,customerType:rt};if(t){const kt=await x(pr);kt.success?e("/invoices"):kt.message&&j({title:"Update Failed",message:kt.message,type:"error"})}else{const kt=await f(pr);if(kt.success){if(Te==="EXISTING"&&pe&&Vt>0&&ie>0){const ht=Math.max(0,Vt-ie);T(Ye,ht)}e("/invoices")}else(Mn=kt.message)!=null&&Mn.includes("Insufficient stock")?j({title:"Stock Error",message:kt.message,type:"error"}):(hr(kt.message||"Limit reached."),Da(!0))}},ln=b.find(ue=>ue.id===t),Vn=O.useMemo(()=>{if(!ln)return{totalRefundValue:0,newGrandTotal:0,excessPayment:0};let ue=0;ln.items.forEach(We=>{const Ke=ge[We.id]||0;if(Ke>0){const pr=We.amount/We.quantity*Ke*(1+(ln.billingType==="NON_GST"?0:We.gstRate)/100);ue+=pr}});const De=Math.max(0,ln.grandTotal-ue),Ye=ln.paidAmount||0,pt=Math.max(0,Ye-De);return{totalRefundValue:ue,newGrandTotal:De,excessPayment:pt}},[ln,ge]);O.useEffect(()=>{Vn.excessPayment<=0?tr("ADJUST"):_t==="ADJUST"&&tr("CASH")},[Vn.excessPayment,_t]);const zr=()=>{const ue=[...L];Ui.forEach(De=>{const Ye=aa();w({id:Ye,name:De.name,price:De.price,gstRate:De.gstRate,hsn:"",stock:0});const pt=ue.findIndex(We=>We.id===De.id);pt!==-1&&(ue[pt].productId=Ye)}),Ai(!1),Fi(ue)},er=()=>{Ai(!1),Fi(L)},Hi=ue=>{const De=ue.target.value;oh(A,c.plan).allowedPrintSizes.includes(De)?wn(De):(hr(`Printing in ${De} is a Premium feature.`),Da(!0))},Yn=()=>{const ue=document.getElementById("printable-area");if(!window.html2pdf||!ue){j({title:"PDF Error",message:"PDF generator not ready.",type:"warning"});return}const De=ue.offsetHeight*.264583+10;let Ye={margin:5,filename:`Invoice_${ce||"draft"}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,logging:!1},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};if(lt==="A5")Ye.jsPDF={unit:"mm",format:"a5",orientation:"landscape"};else if(lt.includes("Thermal")){const pt=lt==="Thermal80"?80:58;Ye.jsPDF={unit:"mm",format:[pt,Math.max(De,50)],orientation:"portrait"},Ye.margin=0}window.html2pdf().set(Ye).from(ue).save()},Ur=ue=>{var Ke;const De=l.find(rt=>rt.id===ue.productId);if(!De)return null;const Ye=((Ke=c.stockSettings)==null?void 0:Ke.mode)||Wr.WARNING;if(Ye===Wr.DISABLED)return null;let pt=De.stock||0;if(ue.variantId&&De.hasVariants&&De.variants){const rt=De.variants.find(pr=>pr.id===ue.variantId);rt&&(pt=rt.stock||0)}let We=pt;if(t){const rt=ue.variantId?`${ue.productId}_${ue.variantId}`:ue.productId,pr=bt[rt]||0;We+=pr}return ue.quantity>We?Ye===Wr.STRICT?{type:"error",text:`Exceeds stock (${We} avail)`}:{type:"warning",text:`Low stock (${We} avail)`}:null},Le=()=>{const ue=lt.includes("Thermal"),De=lt==="Thermal58",Ye=b.find(kt=>kt.id===t),pt=Ye?Ye.items:L,We=Ye?Ye.billingType:$,Ke=Ye?Ye.customerType==="temporary":Te==="TEMP";let rt=c.state;Ye?rt=Ye.customerState:Te==="EXISTING"&&Mt?rt=Mt.state:Te==="NEW"&&(rt=Je.state||c.state);const pr=Jg(pt,c.state,rt,We),Mn=()=>{switch(lt){case"A4":return"max-w-[210mm] p-8";case"A5":return"max-w-[148mm] p-6";case"Thermal80":return"max-w-[80mm] w-[80mm] text-xs p-3 leading-tight";case"Thermal58":return"max-w-[58mm] w-[58mm] text-[9px] p-1 leading-tight";default:return"max-w-[210mm] p-8"}};return m.jsxs("div",{className:`bg-white mx-auto shadow-xl rounded-sm print:shadow-none print:w-full print:max-w-none relative text-slate-900 print:absolute print:top-0 print:left-0 print:z-50 print:m-0 h-auto min-h-0 overflow-visible ${Mn()}`,id:"printable-area",children:[m.jsxs("div",{className:`flex ${ue?"flex-col text-center":"flex-col sm:flex-row justify-between items-start"} ${ue?"mb-2":"mb-6"} border-b border-slate-200 pb-2 relative z-10 gap-2`,children:[m.jsxs("div",{children:[m.jsx("h1",{className:`${De?"text-sm":ue?"text-lg":"text-3xl"} font-bold text-slate-900 mb-1`,children:We==="NON_GST"?"INVOICE":"TAX INVOICE"}),m.jsxs("p",{className:`${De?"text-[9px]":"text-sm"} font-medium text-slate-500`,children:["#",ce||"DRAFT"]})]}),m.jsxs("div",{className:`${ue?"text-center":"text-left sm:text-right"}`,children:[m.jsx("h2",{className:`${De?"text-xs":ue?"text-base":"text-xl"} font-bold text-slate-800`,children:c.name||"Your Business Name"}),!ue&&m.jsx("p",{className:"text-xs text-slate-500",children:c.address}),We==="GST"&&m.jsxs("p",{className:"text-xs font-bold text-slate-600",children:["GSTIN: ",c.gstin]})]})]}),m.jsxs("div",{className:"mb-4 text-xs",children:[m.jsx("p",{className:"font-bold text-slate-700",children:"Bill To:"}),m.jsx("p",{className:"text-slate-900 font-semibold",children:(Ye==null?void 0:Ye.customerName)||(Te==="TEMP"?Qe.name:Te==="NEW"?Je.name:Mt==null?void 0:Mt.name)}),We==="GST"&&!Ke&&m.jsxs("p",{className:"text-slate-500",children:["GSTIN: ",(Ye==null?void 0:Ye.customerGstin)||(Te==="NEW"?Je.gstin:Mt==null?void 0:Mt.gstin)||"N/A"]}),(Ke||We==="NON_GST")&&We==="GST"&&m.jsx("p",{className:"text-slate-500",children:"GSTIN: N/A"})]}),m.jsx("div",{className:"overflow-visible mb-2 relative z-10",children:m.jsxs("table",{className:"w-full table-fixed",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b border-slate-300",children:[m.jsx("th",{className:`text-left font-bold text-slate-500 uppercase w-[40%] ${De?"py-0.5 px-0 text-[8px]":"py-1 px-0.5"}`,children:"Item"}),m.jsx("th",{className:`text-right font-bold text-slate-500 uppercase w-[15%] ${De?"py-0.5 px-0 text-[8px]":"py-1 px-0.5"}`,children:"Qty"}),m.jsx("th",{className:`text-right font-bold text-slate-500 uppercase w-[20%] ${De?"py-0.5 px-0 text-[8px]":"py-1 px-0.5"}`,children:"Rate"}),m.jsx("th",{className:`text-right font-bold text-slate-500 uppercase w-[25%] ${De?"py-0.5 px-0 text-[8px]":"py-1 px-0.5"}`,children:"Amt"})]})}),m.jsx("tbody",{className:"divide-y divide-slate-100",children:pt.map(kt=>{const ht=kt.returnedQuantity||0,va=Math.max(0,kt.quantity-ht),ec=kt.price*va,Tr=ec*kt.discount/100,Pa=ec-Tr;return m.jsxs("tr",{children:[m.jsxs("td",{className:`text-slate-900 break-words whitespace-normal leading-tight ${De?"py-0.5 px-0 text-[9px]":"py-1 px-0.5"}`,children:[kt.name,ht>0&&!ue?m.jsxs("div",{className:"text-[10px] mt-0.5 flex gap-2",children:[m.jsxs("span",{className:"text-slate-500",children:["Orig: ",kt.quantity]}),m.jsxs("span",{className:"text-red-500 font-bold",children:["Ret: -",ht]})]}):null]}),m.jsx("td",{className:`text-slate-900 text-right ${De?"py-0.5 px-0 text-[9px]":"py-1 px-0.5"}`,children:ht>0?m.jsx("span",{className:"font-bold",children:va}):kt.quantity}),m.jsx("td",{className:`text-slate-900 text-right ${De?"py-0.5 px-0 text-[9px]":"py-1 px-0.5"}`,children:$e(kt.price)}),m.jsx("td",{className:`font-medium text-slate-900 text-right ${De?"py-0.5 px-0 text-[9px]":"py-1 px-0.5"}`,children:$e(Pa)})]},kt.id)})})]})}),m.jsx("div",{className:"flex justify-end relative z-10",children:m.jsx("div",{className:`text-right ${ue?"w-full":"w-1/2 sm:w-1/3"}`,children:m.jsx("div",{className:"border-t border-slate-300 pt-1 space-y-0.5",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:`font-bold ${De?"text-[9px]":"text-lg"}`,children:"Grand Total:"}),m.jsx("span",{className:`font-bold ${De?"text-[9px]":"text-lg"}`,children:$e(pr.grandTotal)})]})})})})]})};return m.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto pb-20 print:p-0 print:m-0 print:max-w-none print:space-y-0",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-2 md:gap-4 no-print",children:[m.jsxs("div",{className:"flex items-center gap-2 md:gap-4 w-full sm:w-auto",children:[m.jsx("button",{onClick:()=>e("/invoices"),className:"p-1.5 md:p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:m.jsx(dv,{className:"w-4 h-4 md:w-5 md:h-5 text-slate-500 dark:text-slate-300"})}),m.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2",children:[m.jsx("h1",{className:"text-xl md:text-2xl font-bold text-slate-900 dark:text-white truncate",children:t?K==="preview"?"View Invoice":"Edit Invoice":K==="preview"?"Preview Invoice":"New Invoice"}),Ie&&m.jsxs("span",{className:"text-[10px] bg-red-100 text-red-700 px-2 py-0.5 rounded-full font-bold flex items-center gap-1",children:[m.jsx(Wl,{className:"w-3 h-3"})," Returns Active"]})]})]}),m.jsxs("div",{className:"flex gap-2 md:gap-3 w-full sm:w-auto overflow-x-auto pb-1 sm:pb-0 items-center",children:[K==="preview"&&m.jsxs("div",{className:"flex gap-2 items-center",children:[m.jsxs("div",{className:"relative",children:[m.jsxs("select",{value:lt,onChange:Hi,className:"appearance-none bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200 py-1.5 md:py-2 px-2 md:px-3 pr-8 rounded-lg md:rounded-xl text-xs md:text-sm font-medium focus:outline-none cursor-pointer",children:[m.jsx("option",{value:"A4",children:"A4"}),m.jsx("option",{value:"A5",children:"A5"}),m.jsx("option",{value:"Thermal80",children:"80mm"}),m.jsx("option",{value:"Thermal58",children:"58mm"})]}),m.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:m.jsx(mS,{className:"w-3 h-3"})})]}),t&&m.jsxs("button",{onClick:()=>jt(!0),className:"flex items-center gap-1.5 md:gap-2 px-3 py-1.5 md:py-2 bg-red-50 text-red-600 font-bold rounded-lg md:rounded-xl border border-red-200 hover:bg-red-100 transition-all text-xs md:text-sm whitespace-nowrap",children:[m.jsx(Oo,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})," Return Items"]})]}),m.jsx("button",{onClick:()=>Ce(K==="edit"?"preview":"edit"),className:"px-3 md:px-4 py-1.5 md:py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200 font-medium rounded-lg md:rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 shadow-sm transition-colors whitespace-nowrap text-xs md:text-base",children:K==="edit"?"Preview":"Edit"}),K==="preview"?m.jsxs("div",{className:"flex gap-2 md:gap-3",children:[m.jsxs("button",{onClick:Yn,className:"flex items-center gap-1.5 md:gap-2 px-3 md:px-5 py-1.5 md:py-2 bg-slate-800 text-white font-medium rounded-lg md:rounded-xl hover:bg-slate-900 shadow-md transition-all whitespace-nowrap text-xs md:text-base",children:[m.jsx(hv,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})," Download"]}),m.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-1.5 md:gap-2 px-3 md:px-5 py-1.5 md:py-2 bg-slate-800 text-white font-medium rounded-lg md:rounded-xl hover:bg-slate-900 shadow-md transition-all whitespace-nowrap text-xs md:text-base",children:[m.jsx(mS,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})," Print"]})]}):m.jsxs("div",{className:"flex gap-2 md:gap-3",children:[!t&&m.jsxs("button",{onClick:()=>Hn(!0),className:"flex items-center gap-1.5 md:gap-2 px-3 md:px-4 py-1.5 md:py-2 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 font-bold rounded-lg md:rounded-xl hover:bg-slate-200 dark:hover:bg-slate-600 transition-all whitespace-nowrap text-xs md:text-base",children:[m.jsx(dD,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})," Clear"]}),m.jsxs("button",{onClick:ea,className:"flex items-center gap-1.5 md:gap-2 px-3 md:px-5 py-1.5 md:py-2 bg-primary-600 text-white font-bold rounded-lg md:rounded-xl hover:bg-primary-700 shadow-lg shadow-primary-600/30 transition-all whitespace-nowrap text-xs md:text-base",children:[m.jsx(pv,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})," ",Ie?"Update Details":"Save"]})]})]})]}),K==="preview"?m.jsxs("div",{className:"space-y-8",children:[m.jsx(Le,{}),(ln==null?void 0:ln.returns)&&ln.returns.length>0&&m.jsxs("div",{className:"max-w-[210mm] mx-auto bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 no-print",children:[m.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[m.jsx(Ek,{className:"w-5 h-5 text-slate-500"})," Return History"]}),m.jsx("div",{className:"space-y-4",children:ln.returns.map(ue=>m.jsx("div",{className:"border border-slate-100 dark:border-slate-700 rounded-xl p-4 bg-slate-50 dark:bg-slate-900/30",children:m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"font-bold text-sm text-slate-700 dark:text-slate-300",children:["Return on ",ja(ue.date)]}),m.jsxs("p",{className:"text-xs text-slate-500",children:["Reason: ",ue.reason]})]}),m.jsx("div",{className:"text-right",children:m.jsxs("p",{className:"text-sm font-bold text-red-500",children:["-",$e(ue.totalRefundAmount)]})})]})},ue.id))})]})]}):m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[m.jsxs("div",{className:"lg:col-span-8 xl:col-span-9 space-y-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 md:p-6 rounded-xl md:rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 transition-colors",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 md:gap-4 mb-4 md:mb-6",children:[m.jsx("h3",{className:"text-xs md:text-sm font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Invoice Details"}),m.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-700 rounded-lg p-1",children:[m.jsx("button",{onClick:()=>de("GST"),disabled:Te==="TEMP"||Ie,className:`px-3 md:px-4 py-1.5 text-[10px] md:text-xs font-bold rounded-md transition-all ${$==="GST"?"bg-white dark:bg-slate-600 shadow text-primary-600 dark:text-primary-300":"text-slate-500 dark:text-slate-400"} disabled:opacity-50`,children:"GST Billing"}),m.jsx("button",{onClick:()=>de("NON_GST"),disabled:Ie,className:`px-3 md:px-4 py-1.5 text-[10px] md:text-xs font-bold rounded-md transition-all ${$==="NON_GST"?"bg-white dark:bg-slate-600 shadow text-primary-600 dark:text-primary-300":"text-slate-500 dark:text-slate-400"} disabled:opacity-50`,children:"Non-GST"})]})]}),m.jsx("div",{className:"mb-4 md:mb-6 flex gap-2 overflow-x-auto pb-1",children:[{id:"EXISTING",label:"Existing Customer",icon:su,action:()=>ke("EXISTING")},{id:"NEW",label:"Create New",icon:oT,action:()=>Ze(!0)},{id:"TEMP",label:"Temporary / Guest",icon:cT,action:()=>ke("TEMP")}].map(ue=>m.jsxs("button",{onClick:()=>{Ie||ue.action()},disabled:Ie,className:`flex items-center gap-1.5 md:gap-2 px-3 md:px-4 py-1.5 md:py-2 rounded-lg md:rounded-xl text-xs md:text-sm font-bold border transition-all whitespace-nowrap ${Te===ue.id&&ue.id!=="NEW"||ue.id==="NEW"&&!1?"bg-primary-50 dark:bg-primary-900/20 border-primary-200 dark:border-primary-800 text-primary-700 dark:text-primary-300":"border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700"} disabled:opacity-50 disabled:cursor-not-allowed`,children:[m.jsx(ue.icon,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})," ",ue.label]},ue.id))}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[Te==="EXISTING"&&m.jsx("div",{className:"space-y-1",children:m.jsx(Wo,{label:"Select Customer *",value:M,onChange:ue=>k(ue.target.value),options:n.filter(ue=>ue.isActive!==!1).map(ue=>({value:ue.id,label:ue.name})),placeholder:"-- Choose Customer --",className:zi.customer?"border-red-500":"",disabled:Ie})}),Te==="TEMP"&&m.jsxs("div",{className:"space-y-4 p-4 bg-orange-50 dark:bg-orange-900/10 rounded-xl border border-orange-100 dark:border-orange-800 animate-in fade-in slide-in-from-top-2",children:[m.jsxs("div",{className:"flex items-center gap-2 text-xs text-orange-700 dark:text-orange-400 font-bold mb-2",children:[m.jsx(Rk,{className:"w-4 h-4"})," Non-GST Billing Only"]}),m.jsx(It,{label:"Customer Name *",value:Qe.name,onChange:ue=>Q({...Qe,name:ue.target.value}),error:zi.customerName}),m.jsx(It,{label:"Phone (Optional)",value:Qe.phone,onChange:ue=>Q({...Qe,phone:ue.target.value})})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx(It,{label:"Invoice Date",type:"date",value:R,onChange:ue=>F(ue.target.value)}),m.jsx(It,{label:"Due Date",type:"date",value:U,onChange:ue=>V(ue.target.value)})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 pt-4 border-t border-slate-100 dark:border-slate-700",children:[m.jsx(Wo,{label:"Payment Status",value:q===Ot.PARTIALLY_PAID||q===Ot.OVERDUE?ie>0?Ot.PARTIALLY_PAID:Ot.PENDING:q,onChange:ue=>nr(ue.target.value),options:[{value:Ot.PENDING,label:"Pending / Unpaid"},{value:Ot.PAID,label:"Fully Paid"}]}),m.jsx(It,{label:"Paid Amount ()",type:"number",min:"0",value:ie,onChange:ue=>_n(parseFloat(ue.target.value)||0),className:ie>0?"font-bold text-emerald-600":""})]}),Te==="EXISTING"&&Mt&&Vt>0&&!t&&m.jsxs("div",{className:"mt-4 col-span-2 p-3 bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-100 dark:border-indigo-800 rounded-xl flex items-center gap-3 animate-in fade-in slide-in-from-top-1",children:[m.jsx(xm,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"text-sm font-bold text-indigo-900 dark:text-indigo-200",children:"Use Advance Balance?"}),m.jsxs("p",{className:"text-xs text-indigo-700 dark:text-indigo-300",children:["Available: ",$e(Vt)]})]}),m.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:pe,onChange:ue=>Oe(ue.target.checked),className:"sr-only peer"}),m.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none rounded-full peer dark:bg-slate-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 md:p-6 rounded-xl md:rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 transition-colors relative",children:[Ie&&m.jsx("div",{className:"absolute inset-0 bg-slate-50/50 dark:bg-slate-900/50 z-10 rounded-2xl flex items-center justify-center pointer-events-none"}),m.jsxs("div",{className:"flex justify-between items-center mb-4 relative z-20",children:[m.jsx("h3",{className:"text-xs md:text-sm font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Items"}),!Ie&&m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:()=>te(!0),className:"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 px-2 md:px-3 py-1.5 rounded-lg flex items-center gap-1 hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors text-xs md:text-sm font-bold",children:[m.jsx(Qg,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})," Scan"]}),m.jsx("button",{onClick:Gn,className:"bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 px-2 md:px-3 py-1.5 rounded-lg font-bold text-xs md:text-sm hover:bg-primary-100 dark:hover:bg-primary-900/50 transition-colors",children:"+ Add Item"})]})]}),m.jsxs("div",{className:"space-y-3 md:space-y-4",children:[m.jsxs("div",{className:"hidden lg:grid grid-cols-12 gap-2 text-xs font-bold text-slate-500 dark:text-slate-400 uppercase px-2",children:[m.jsx("div",{className:"col-span-4",children:"Item Details"}),m.jsx("div",{className:"col-span-2",children:"Variant"}),m.jsx("div",{className:"col-span-2",children:"Qty"}),m.jsx("div",{className:"col-span-2",children:"Price"}),m.jsx("div",{className:"col-span-2 text-right",children:"Total"})]}),L.map(ue=>{var kt;const De=Ur(ue),Ye=l.find(ht=>ht.id===ue.productId),pt=(Ye==null?void 0:Ye.hasVariants)&&(Ye==null?void 0:Ye.variants)&&Ye.variants.length>0,We=ue.returnedQuantity||0,Ke=Math.max(0,ue.quantity-We),rt=ue.price*Ke,pr=rt*ue.discount/100,Mn=rt-pr;return m.jsx("div",{className:`bg-slate-50 dark:bg-slate-700/30 p-3 md:p-4 rounded-lg md:rounded-xl border border-slate-200 dark:border-slate-700 transition-colors ${Ie?"opacity-70":""}`,children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-2 items-center",children:[m.jsxs("div",{className:"md:col-span-4",children:[m.jsx(Jy,{placeholder:"Select Product",value:ue.productId,onTextChange:ht=>an(ue.id,ht),onChange:ht=>an(ue.id,ht),options:l.map(ht=>({value:ht.id,label:ht.name})),disabled:Ie}),!Ie&&De&&m.jsx("p",{className:`text-[10px] mt-1 ${De.type==="error"?"text-red-500":"text-orange-500"}`,children:De.text}),Ie&&We>0&&m.jsxs("p",{className:"text-[10px] mt-1 text-red-500 font-bold flex gap-2",children:[m.jsxs("span",{children:["Original: ",ue.quantity]}),m.jsxs("span",{children:["Returned: ",We]}),m.jsxs("span",{className:"text-emerald-600",children:["Net: ",Ke]})]})]}),m.jsx("div",{className:"md:col-span-2",children:pt?m.jsx("select",{value:ue.variantId||"",onChange:ht=>Ra(ue.id,ht.target.value),disabled:Ie,className:"w-full px-2 py-2 md:py-2.5 rounded-lg md:rounded-xl border border-slate-200 dark:border-slate-700 text-xs md:text-sm bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:outline-none disabled:bg-slate-100 disabled:dark:bg-slate-900 disabled:cursor-not-allowed",children:(kt=Ye==null?void 0:Ye.variants)==null?void 0:kt.map(ht=>m.jsx("option",{value:ht.id,children:ht.name},ht.id))}):m.jsx("span",{className:"text-xs text-slate-400 pl-2 block md:text-center",children:"-"})}),m.jsx("div",{className:"md:col-span-2",children:m.jsx(It,{type:"number",min:"1",value:Ie?Ke:ue.quantity,onChange:ht=>kr(ue.id,"quantity",parseInt(ht.target.value)||0),className:`!px-2 !py-1.5 md:!px-3 md:!py-2 text-xs md:text-sm ${Ie&&We>0?"text-emerald-600 font-bold":""}`,disabled:Ie})}),m.jsx("div",{className:"md:col-span-2",children:m.jsx(It,{type:"number",min:"0",value:ue.price,onChange:ht=>kr(ue.id,"price",parseFloat(ht.target.value)||0),className:"!px-2 !py-1.5 md:!px-3 md:!py-2 text-xs md:text-sm",disabled:Ie})}),m.jsxs("div",{className:"md:col-span-2 flex items-center justify-between gap-2",children:[m.jsx("span",{className:"font-bold text-xs md:text-sm ml-auto text-slate-900 dark:text-white",children:$e(Mn)}),m.jsx("button",{onClick:()=>sa(ue.id),disabled:Ie,className:"text-slate-400 hover:text-red-500 p-1.5 md:p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors disabled:opacity-30 disabled:cursor-not-allowed",children:m.jsx(ko,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})})]})]})},ue.id)}),L.length===0&&m.jsx("div",{className:"text-center py-6 md:py-8 border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-xl",children:m.jsx("p",{className:"text-xs md:text-sm text-slate-400",children:"No items added. Scan or add manually."})})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 md:p-6 rounded-xl md:rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 transition-colors",children:[m.jsx("label",{className:"block text-xs md:text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Notes / Terms"}),m.jsx("textarea",{rows:3,value:oe,onChange:ue=>ee(ue.target.value),placeholder:"E.g. Payment due in 7 days.",className:"w-full px-3 md:px-4 py-2 md:py-2.5 rounded-lg md:rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-sm text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 transition-colors"})]})]}),m.jsx("div",{className:"lg:col-span-4 xl:col-span-3",children:m.jsxs("div",{className:"bg-slate-900 dark:bg-slate-950 text-white p-4 md:p-6 rounded-xl md:rounded-2xl shadow-lg sticky top-24",children:[m.jsx("h3",{className:"text-base md:text-lg font-bold mb-4 md:mb-6",children:"Payment Summary"}),m.jsxs("div",{className:"space-y-2 md:space-y-3 mb-4 md:mb-6",children:[m.jsxs("div",{className:"flex justify-between text-slate-400 text-xs md:text-sm",children:[m.jsx("span",{children:"Taxable Value"}),m.jsx("span",{children:$e(ze.totalTaxable)})]}),$==="GST"&&m.jsxs("div",{className:"flex justify-between text-slate-400 text-xs md:text-sm",children:[m.jsx("span",{children:"Total Tax"}),m.jsx("span",{children:$e(ze.totalTax)})]}),m.jsx("div",{className:"h-px bg-slate-700 my-2"}),m.jsxs("div",{className:"flex justify-between text-lg md:text-xl font-bold text-white",children:[m.jsx("span",{children:"Total"}),m.jsx("span",{children:$e(ze.grandTotal)})]}),m.jsxs("div",{className:"flex justify-between text-xs md:text-sm text-emerald-400",children:[m.jsx("span",{children:"Paid"}),m.jsx("span",{children:$e(ie)})]}),ze.grandTotal-ie>0&&m.jsxs("div",{className:"flex justify-between text-xs md:text-sm text-red-400 font-bold",children:[m.jsx("span",{children:"Balance"}),m.jsx("span",{children:$e(ze.grandTotal-ie)})]})]})]})})]}),Pe&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-center justify-center p-4 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-lg shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[m.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Add New Customer"}),m.jsx("button",{onClick:()=>Ze(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:m.jsx(Hs,{className:"w-6 h-6 rotate-45"})})]}),m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsx(It,{label:"Business Name *",value:me.name,onChange:ue=>nt({...me,name:ue.target.value}),required:!0,error:st.name}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx(It,{label:"GSTIN",value:me.gstin,onChange:ue=>nt({...me,gstin:ue.target.value.toUpperCase()}),className:"uppercase",placeholder:"27ABCDE1234F1Z5"}),m.jsx(Jy,{label:"State *",value:me.state||"",onChange:ue=>nt({...me,state:ue}),options:uv.map(ue=>({value:ue,label:ue})),placeholder:"Select State",error:st.state})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx(It,{label:"Phone *",type:"tel",placeholder:"10 digit number",value:me.phone,onChange:ue=>{const De=ue.target.value.replace(/[^0-9]/g,"");De.length<=10&&nt({...me,phone:De})},required:!0,error:st.phone}),m.jsx(It,{label:"Email",type:"email",value:me.email,onChange:ue=>nt({...me,email:ue.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Address"}),m.jsx("textarea",{rows:2,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",value:me.address,onChange:ue=>nt({...me,address:ue.target.value})})]}),m.jsx("button",{onClick:Si,className:"w-full py-3 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-xl mt-4 shadow-lg shadow-primary-500/20",children:"Save Customer"})]})]})}),Qt&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4 animate-in fade-in zoom-in-95",children:m.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-2xl overflow-hidden border border-slate-200 dark:border-slate-700",children:m.jsxs("div",{className:"p-6",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Stock Warning"}),m.jsx("p",{className:"text-sm text-slate-500",children:"Some items exceed available stock."}),m.jsxs("div",{className:"flex gap-3 mt-4",children:[m.jsx("button",{onClick:()=>He(null),className:"flex-1 py-2 bg-slate-100 rounded-lg font-bold text-slate-700",children:"Cancel"}),Qt.status!=="BLOCK"&&m.jsx("button",{onClick:()=>{He(null),Fi(L)},className:"flex-1 py-2 bg-orange-500 text-white rounded-lg font-bold",children:"Proceed Anyway"})]})]})})}),nn&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in zoom-in-95",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-xl overflow-hidden p-6",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"Unlisted Products"}),m.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Add these to inventory?"}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:zr,className:"flex-1 py-2.5 bg-emerald-600 text-white font-bold rounded-xl",children:"Yes, Add"}),m.jsx("button",{onClick:er,className:"flex-1 py-2.5 bg-slate-100 text-slate-700 font-bold rounded-xl",children:"No, Just Save"})]})]})})]})},z$=()=>{const{customers:e,addCustomer:t,updateCustomer:r,invoices:n,processCustomerPayment:l,deactivateCustomer:c,toggleCustomerReporting:f,restoreCustomer:x}=Ln(),{showAlert:b}=Ql(),[y,w]=O.useState(!1),[A,T]=O.useState(!1),[_,j]=O.useState(""),[M,k]=O.useState(null),[R,F]=O.useState(!1),[U,V]=O.useState({isOpen:!1,customerId:null}),[q,Y]=O.useState(null),[L,J]=O.useState({amount:"",date:new Date().toISOString().split("T")[0],mode:"Cash",note:""}),[K,Ce]=O.useState(null),[oe,ee]=O.useState({name:"",gstin:"",email:"",phone:"",address:"",state:""}),[ce,fe]=O.useState({}),Z=()=>{ee({name:"",gstin:"",email:"",phone:"",address:"",state:""}),k(null),fe({})},te=Q=>{ee(Q),k(Q.id),fe({}),w(!0)},ie=Q=>{const Pe=Q.target.value.replace(/[^0-9]/g,"");Pe.length<=10&&(ee(Ze=>({...Ze,phone:Pe})),Pe.length===10&&ce.phone&&fe(Ze=>({...Ze,phone:""})))},ne=()=>{var Pe,Ze;const Q={};return(Pe=oe.name)!=null&&Pe.trim()||(Q.name="Business Name is required"),oe.state||(Q.state="State is required"),(Ze=oe.phone)!=null&&Ze.trim()?oe.phone.length!==10&&(Q.phone="Phone must be exactly 10 digits"):Q.phone="Phone is required",oe.gstin&&oe.gstin.trim()!==""&&(/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[A-Z0-9]{1}Z[A-Z0-9]{1}$/.test(oe.gstin)||(Q.gstin="Invalid GSTIN format. Example: 27ABCDE1234F1Z5")),fe(Q),Object.keys(Q).length===0},pe=Q=>{if(Q.preventDefault(),!!ne()){if(M){const Pe={...oe,id:M,gstin:oe.gstin||"",email:oe.email||"",phone:oe.phone||"",address:oe.address||""};r(Pe)}else{const Pe={id:aa(),name:oe.name,gstin:oe.gstin||"",email:oe.email||"",phone:oe.phone||"",address:oe.address||"",state:oe.state,advanceBalance:0,isActive:!0,excludeFromReports:!1};t(Pe)}w(!1),Z()}},Oe=Q=>{Y(Q),J({amount:"",date:new Date().toISOString().split("T")[0],mode:"Cash",note:""}),T(!0)},$=async Q=>{if(Q.preventDefault(),!q||!L.amount)return;const Pe=await l({customerId:q.id,amount:parseFloat(L.amount),date:L.date,mode:L.mode,note:L.note});Pe.success?(b({title:"Success",message:Pe.message||"Payment processed",type:"success"}),T(!1),Y(null)):b({title:"Error",message:Pe.message||"Failed",type:"error"})},de=Q=>{V({isOpen:!0,customerId:Q})},Te=Q=>{U.customerId&&(c(U.customerId,Q),V({isOpen:!1,customerId:null}))},ke=Q=>{const Pe=n.filter(Je=>Je.customerId===Q&&!Je.isDeleted),Ze=Pe.reduce((Je,Et)=>Je+Et.grandTotal,0),me=Pe.reduce((Je,Et)=>Je+(Et.paidAmount||0),0),nt=Pe.reduce((Je,Et)=>Je+(Et.balanceAmount||0),0),st=Pe.filter(Je=>Je.status===Ot.PARTIALLY_PAID).length,Be=Pe.filter(Je=>Je.status===Ot.OVERDUE).length;return{totalAmount:Ze,paidAmount:me,outstanding:nt,partialCount:st,overdueCount:Be}},Qe=e.filter(Q=>{const Pe=Q.name.toLowerCase().includes(_.toLowerCase())||Q.gstin.toLowerCase().includes(_.toLowerCase());return R?Pe&&Q.isActive===!1:Pe&&Q.isActive!==!1});return m.jsxs("div",{children:[m.jsxs("div",{className:"sticky top-0 z-20 bg-slate-50 dark:bg-slate-900 px-3 md:px-4 lg:px-10 pt-3 md:pt-4 lg:pt-10 pb-3 md:pb-4",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-3 md:gap-4 mb-3 md:mb-4",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl md:text-2xl font-bold text-slate-900 dark:text-white",children:"Customers"}),m.jsx("p",{className:"text-xs md:text-base text-slate-500 dark:text-slate-400",children:"Manage clients & payments"})]}),m.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[m.jsxs("button",{onClick:()=>F(!R),className:`px-3 md:px-4 py-2 md:py-2.5 rounded-lg md:rounded-xl text-sm font-medium flex items-center gap-1.5 md:gap-2 border transition-all flex-1 sm:flex-none justify-center ${R?"bg-slate-800 text-white border-slate-800":"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 border-slate-200 dark:border-slate-700"}`,children:[R?m.jsx(mm,{className:"w-4 h-4 md:w-5 md:h-5"}):m.jsx(qd,{className:"w-4 h-4 md:w-5 md:h-5"}),R?"Hide Inactive":"Show Inactive"]}),m.jsxs("button",{onClick:()=>{Z(),w(!0)},className:"bg-primary-600 hover:bg-primary-700 text-white px-3 md:px-5 py-2 md:py-2.5 rounded-lg md:rounded-xl text-sm font-medium flex items-center gap-1.5 md:gap-2 shadow-lg shadow-primary-600/30 transition-all flex-1 sm:flex-none justify-center",children:[m.jsx(Hs,{className:"w-4 h-4 md:w-5 md:h-5"}),"Add Customer"]})]})]}),m.jsxs("div",{className:"relative",children:[m.jsx(Wd,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-4 h-4 md:w-5 md:h-5"}),m.jsx("input",{type:"text",placeholder:"Search by name or GSTIN...",value:_,onChange:Q=>j(Q.target.value),className:"w-full pl-9 md:pl-10 pr-4 py-2.5 md:py-3 rounded-lg md:rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-sm text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),m.jsxs("div",{className:"px-3 md:px-4 lg:px-10 pb-10 space-y-4 md:space-y-6",children:[m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3 md:gap-6",children:Qe.map(Q=>{const Pe=ke(Q.id),Ze=K===Q.id,me=Q.isActive===!1;return m.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-xl md:rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm transition-all relative overflow-hidden ${me?"opacity-60 grayscale-[0.5]":"hover:shadow-md"}`,children:[me&&m.jsx("div",{className:"absolute top-0 right-0 bg-red-500 text-white text-[10px] font-bold px-3 py-1 rounded-bl-xl z-10",children:"Inactive"}),m.jsxs("div",{className:"p-4 md:p-5",children:[m.jsxs("div",{className:"flex justify-between items-start mb-3 md:mb-4",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 rounded-full flex items-center justify-center font-bold text-base md:text-lg",children:Q.name.charAt(0)}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-base md:text-lg text-slate-900 dark:text-white leading-tight",children:Q.name}),Q.gstin?m.jsx("span",{className:"text-[10px] font-mono bg-slate-100 dark:bg-slate-700 px-1.5 py-0.5 rounded text-slate-500",children:Q.gstin}):m.jsx("span",{className:"text-[10px] text-slate-400",children:"Unregistered"})]})]}),!me&&m.jsxs("div",{className:"flex gap-1",children:[m.jsx("button",{onClick:()=>te(Q),className:"text-slate-400 hover:text-primary-500 p-1.5 rounded hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:m.jsx(pm,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>de(Q.id),className:"text-slate-400 hover:text-red-500 p-1.5 rounded hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:m.jsx(ko,{className:"w-4 h-4"})})]}),me&&m.jsx("button",{onClick:()=>x(Q.id),className:"text-emerald-500 hover:text-emerald-700 text-xs font-bold underline px-2 py-1",children:"Restore"})]}),m.jsxs("div",{className:"space-y-2 mb-4",children:[m.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400",children:[m.jsx(aT,{className:"w-4 h-4 text-slate-400"})," ",m.jsx("span",{children:Q.phone})]}),m.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400",children:[m.jsx($k,{className:"w-4 h-4 text-slate-400"})," ",m.jsx("span",{className:"truncate",children:Q.state})]})]}),m.jsxs("div",{className:"pt-3 md:pt-4 border-t border-slate-100 dark:border-slate-700 flex gap-2",children:[m.jsx(Ma,{to:`/customers/${Q.id}/history`,className:"p-2 md:p-2.5 rounded-lg md:rounded-xl border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors flex items-center justify-center text-slate-600 dark:text-slate-300",title:"View History",children:m.jsx(rT,{className:"w-4 h-4 md:w-5 md:h-5"})}),m.jsxs("button",{onClick:()=>Oe(Q),disabled:me,className:`flex-1 flex items-center justify-center gap-1.5 md:gap-2 py-2 md:py-2.5 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg md:rounded-xl text-xs md:text-sm font-bold shadow-lg shadow-emerald-600/20 transition-all active:scale-95 whitespace-nowrap ${me?"opacity-50 cursor-not-allowed pointer-events-none":""}`,children:[m.jsx(hm,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})," Add Payment"]}),m.jsx("button",{onClick:()=>Ce(Ze?null:Q.id),className:`p-2 md:p-2.5 rounded-lg md:rounded-xl border transition-colors ${Ze?"bg-slate-100 dark:bg-slate-700 border-transparent":"border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700"}`,title:"Financial Summary",children:Ze?m.jsx(mk,{className:"w-4 h-4 md:w-5 md:h-5 text-slate-600 dark:text-slate-300"}):m.jsx(eT,{className:"w-4 h-4 md:w-5 md:h-5 text-slate-400"})})]})]}),Ze&&m.jsx("div",{className:"px-5 pb-5 animate-in slide-in-from-top-2 fade-in",children:m.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 rounded-xl p-4 space-y-3 border border-slate-100 dark:border-slate-700/50",children:[m.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-slate-200 dark:border-slate-700/50 mb-2",children:[m.jsx("span",{className:"text-xs font-bold text-slate-500",children:"Include invoices in reports"}),m.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[m.jsx("input",{type:"checkbox",className:"sr-only peer",checked:!Q.excludeFromReports,onChange:nt=>f(Q.id,nt.target.checked)}),m.jsx("div",{className:"w-9 h-5 bg-slate-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-slate-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-primary-600"})]})]}),m.jsxs("div",{className:"flex justify-between items-center text-sm",children:[m.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Total Billed"}),m.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:$e(Pe.totalAmount)})]}),m.jsxs("div",{className:"flex justify-between items-center text-sm",children:[m.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Total Paid"}),m.jsx("span",{className:"font-bold text-emerald-600",children:$e(Pe.paidAmount)})]}),m.jsxs("div",{className:"flex justify-between items-center text-sm",children:[m.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Outstanding"}),m.jsx("span",{className:"font-bold text-red-500",children:$e(Pe.outstanding)})]}),(Pe.partialCount>0||Pe.overdueCount>0)&&m.jsxs("div",{className:"flex gap-2 mt-2",children:[Pe.overdueCount>0&&m.jsxs("span",{className:"text-[10px] bg-red-100 text-red-700 px-2 py-1 rounded-full font-bold",children:[Pe.overdueCount," Overdue"]}),Pe.partialCount>0&&m.jsxs("span",{className:"text-[10px] bg-orange-100 text-orange-700 px-2 py-1 rounded-full font-bold",children:[Pe.partialCount," Partial"]})]}),m.jsxs("div",{className:"pt-2 border-t border-slate-200 dark:border-slate-700 flex justify-between items-center",children:[m.jsxs("span",{className:"text-xs font-bold text-slate-500 flex items-center gap-1",children:[m.jsx(xm,{className:"w-3 h-3"})," Advance Bal"]}),m.jsx("span",{className:"font-bold text-indigo-600 text-sm",children:$e(Q.advanceBalance||0)})]})]})})]},Q.id)})}),Qe.length===0&&m.jsx("div",{className:"text-center py-20 bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 border-dashed",children:m.jsx("p",{className:"text-slate-400",children:R?"No inactive customers found.":"No active customers found."})})]}),U.isOpen&&m.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-2xl overflow-hidden p-6 relative",children:[m.jsx("button",{onClick:()=>V({isOpen:!1,customerId:null}),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600",children:m.jsx(qs,{className:"w-5 h-5"})}),m.jsxs("div",{className:"flex flex-col items-center text-center mb-6",children:[m.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-4",children:m.jsx(Kc,{className:"w-8 h-8 text-red-500"})}),m.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Deactivate Customer?"}),m.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-2",children:["This customer has existing invoices.",m.jsx("br",{}),"Do you want to disable all related invoices from reports and calculations?"]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("button",{onClick:()=>Te(!0),className:"w-full py-3 bg-red-600 hover:bg-red-700 text-white font-bold rounded-xl shadow-lg shadow-red-600/20 transition-all text-sm",children:"Disable Customer & Exclude Invoices"}),m.jsx("button",{onClick:()=>Te(!1),className:"w-full py-3 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 hover:bg-orange-200 dark:hover:bg-orange-900/50 font-bold rounded-xl transition-all text-sm border border-orange-200 dark:border-orange-800",children:"Keep Invoices Active"}),m.jsx("button",{onClick:()=>V({isOpen:!1,customerId:null}),className:"w-full py-3 text-slate-500 hover:text-slate-700 font-bold text-sm",children:"Cancel"})]})]})}),y&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-lg shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[m.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:M?"Edit Customer":"Add New Customer"}),m.jsx("button",{onClick:()=>w(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:m.jsx(Hs,{className:"w-6 h-6 rotate-45"})})]}),m.jsxs("form",{onSubmit:pe,className:"p-6 space-y-4",children:[m.jsx(It,{label:"Business Name *",value:oe.name,onChange:Q=>ee({...oe,name:Q.target.value}),required:!0,error:ce.name}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx(It,{label:"GSTIN",value:oe.gstin,onChange:Q=>ee({...oe,gstin:Q.target.value.toUpperCase()}),className:"uppercase",error:ce.gstin,placeholder:"27ABCDE1234F1Z5"}),m.jsx(Jy,{label:"State *",value:oe.state||"",onChange:Q=>ee({...oe,state:Q}),options:uv.map(Q=>({value:Q,label:Q})),placeholder:"Select State",error:ce.state})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx(It,{label:"Phone *",type:"tel",placeholder:"10 digit number",value:oe.phone,onChange:ie,required:!0,error:ce.phone}),m.jsx(It,{label:"Email",type:"email",value:oe.email,onChange:Q=>ee({...oe,email:Q.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Address"}),m.jsx("textarea",{rows:2,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",value:oe.address,onChange:Q=>ee({...oe,address:Q.target.value})})]}),m.jsx("button",{type:"submit",className:"w-full py-3 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-xl mt-4",children:M?"Update Customer":"Save Customer"})]})]})}),A&&q&&m.jsx("div",{className:"fixed inset-0 bg-black/60 z-[60] flex items-center justify-center p-4 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[m.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-emerald-50 dark:bg-emerald-900/10",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Record Payment"}),m.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["for ",q.name]})]}),m.jsx("button",{onClick:()=>T(!1),className:"text-slate-400 hover:text-slate-600",children:m.jsx(Hs,{className:"w-6 h-6 rotate-45"})})]}),m.jsxs("form",{onSubmit:$,className:"p-6 space-y-4",children:[m.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-900 rounded-xl text-center border border-slate-100 dark:border-slate-700",children:[m.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold mb-1",children:"Current Outstanding"}),m.jsx("p",{className:"text-2xl font-bold text-red-500",children:$e(ke(q.id).outstanding)})]}),m.jsx(It,{label:"Payment Amount () *",type:"number",min:"1",autoFocus:!0,value:L.amount,onChange:Q=>J({...L,amount:Q.target.value}),className:"font-bold text-lg"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx(It,{label:"Date",type:"date",value:L.date,onChange:Q=>J({...L,date:Q.target.value})}),m.jsx(Wo,{label:"Mode",value:L.mode,onChange:Q=>J({...L,mode:Q.target.value}),options:[{value:"Cash",label:"Cash"},{value:"UPI",label:"UPI"},{value:"Bank Transfer",label:"Bank Transfer"},{value:"Cheque",label:"Cheque"},{value:"Other",label:"Other"}]})]}),m.jsx(It,{label:"Note (Optional)",placeholder:"e.g. Transaction ID",value:L.note,onChange:Q=>J({...L,note:Q.target.value})}),m.jsxs("div",{className:"text-xs text-slate-500 bg-blue-50 dark:bg-blue-900/10 p-3 rounded-lg border border-blue-100 dark:border-blue-800",children:[m.jsx("strong",{children:"Smart Allocation:"})," Payment will first clear overdue invoices, then pending ones. Any extra amount will be saved as ",m.jsx("strong",{children:"Advance Balance"}),"."]}),m.jsx("button",{type:"submit",className:"w-full py-3 bg-emerald-600 hover:bg-emerald-700 text-white font-bold rounded-xl shadow-lg shadow-emerald-500/20",children:"Confirm Payment"})]})]})})]})},U$=()=>{const{id:e}=av(),t=xa(),{customers:r,invoices:n,customerPayments:l}=Ln(),c=r.find(b=>b.id===e);if(!c)return m.jsxs("div",{className:"p-10 text-center",children:[m.jsx("p",{className:"text-slate-500",children:"Customer not found."}),m.jsx("button",{onClick:()=>t("/customers"),className:"text-primary-600 font-bold mt-2",children:"Go Back"})]});const f=O.useMemo(()=>{const b=n.filter(_=>_.customerId===c.id&&!_.isDeleted),y=b.reduce((_,j)=>_+j.grandTotal,0),w=b.reduce((_,j)=>_+(j.paidAmount||0),0),A=b.reduce((_,j)=>_+(j.balanceAmount||0),0),T=b.filter(_=>_.status==="Overdue").reduce((_,j)=>_+(j.balanceAmount||0),0);return{totalBilled:y,totalPaid:w,outstanding:A,overdue:T,advance:c.advanceBalance||0}},[n,c]),x=O.useMemo(()=>{const b=[];return n.filter(A=>A.customerId===c.id&&!A.isDeleted).forEach(A=>{b.push({id:A.id,date:A.date,type:"INVOICE",title:`Invoice #${A.invoiceNumber}`,amount:A.grandTotal,description:m.jsxs("div",{className:"flex flex-col gap-1",children:[m.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:["Invoice created with ",A.items.length," items."]}),m.jsx("div",{className:"flex gap-2 mt-1",children:m.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full font-bold border uppercase
                            ${A.status==="Paid"?"bg-emerald-100 text-emerald-700 border-emerald-200":A.status==="Overdue"?"bg-red-100 text-red-700 border-red-200":"bg-orange-100 text-orange-700 border-orange-200"}`,children:A.status})})]}),icon:zo,colorClass:"bg-blue-100 text-blue-600 border-blue-200",details:A})}),l.filter(A=>A.customerId===c.id).forEach(A=>{const T=A.remainingToAdvance&&A.remainingToAdvance>0;b.push({id:A.id,date:A.date,type:"PAYMENT",title:"Payment Received",amount:A.amount,description:m.jsxs("div",{className:"space-y-2",children:[m.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:["Received via ",m.jsx("strong",{children:A.mode}),A.note&&m.jsxs("span",{className:"italic text-slate-400",children:['  "',A.note,'"']})]}),A.appliedToInvoices&&A.appliedToInvoices.length>0&&m.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-2 rounded-lg text-xs space-y-1 border border-slate-200 dark:border-slate-700",children:[m.jsx("p",{className:"font-bold text-slate-500 uppercase",children:"Applied To:"}),A.appliedToInvoices.map((_,j)=>{const M=n.find(k=>k.id===_.invoiceId);return m.jsxs("div",{className:"flex justify-between text-slate-700 dark:text-slate-300",children:[m.jsx("span",{children:M?M.invoiceNumber:"Invoice"}),m.jsx("span",{className:"font-mono",children:$e(_.amount)})]},j)})]}),T&&m.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-purple-600 bg-purple-50 dark:bg-purple-900/20 px-2 py-1 rounded border border-purple-100 dark:border-purple-800 w-fit",children:[m.jsx(xm,{className:"w-3 h-3"}),$e(A.remainingToAdvance)," added to Advance"]})]}),icon:hm,colorClass:"bg-emerald-100 text-emerald-600 border-emerald-200",details:A})}),b.sort((A,T)=>new Date(T.date).getTime()-new Date(A.date).getTime())},[n,l,c.id]);return m.jsxs("div",{className:"animate-in fade-in duration-300 pb-20",children:[m.jsx("div",{className:"sticky top-0 z-20 bg-slate-50 dark:bg-slate-900 px-4 lg:px-10 pt-4 lg:pt-10 pb-4",children:m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("button",{onClick:()=>t("/customers"),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:m.jsx(dv,{className:"w-5 h-5 text-slate-500 dark:text-slate-300"})}),m.jsxs("div",{children:[m.jsxs("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[c.name,m.jsx("span",{className:"text-sm font-normal text-slate-400 bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded-full border border-slate-200 dark:border-slate-700",children:"History"})]}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Transaction Timeline & Ledger"})]})]}),m.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-xl text-sm font-bold text-slate-600 dark:text-slate-300 transition-colors",children:[m.jsx(hv,{className:"w-4 h-4"})," Export Statement"]})]})}),m.jsxs("div",{className:"px-4 lg:px-10 pb-10 space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold",children:"Total Billed"}),m.jsx("p",{className:"text-lg font-bold text-slate-900 dark:text-white",children:$e(f.totalBilled)})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold",children:"Total Paid"}),m.jsx("p",{className:"text-lg font-bold text-emerald-600",children:$e(f.totalPaid)})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold",children:"Outstanding"}),m.jsx("p",{className:"text-lg font-bold text-red-500",children:$e(f.outstanding)})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold",children:"Overdue"}),m.jsx("p",{className:"text-lg font-bold text-red-600",children:$e(f.overdue)})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold",children:"Advance Bal"}),m.jsx("p",{className:"text-lg font-bold text-purple-600",children:$e(f.advance)})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm p-6",children:[m.jsxs("h3",{className:"font-bold text-lg mb-6 flex items-center gap-2",children:[m.jsx(fv,{className:"w-5 h-5 text-slate-400"})," Recent Activity"]}),m.jsxs("div",{className:"space-y-8 relative before:absolute before:inset-0 before:ml-5 before:-translate-x-px md:before:mx-auto md:before:translate-x-0 before:h-full before:w-0.5 before:bg-gradient-to-b before:from-transparent before:via-slate-200 before:to-transparent",children:[x.map(b=>{const y=b.type==="INVOICE";return m.jsxs("div",{className:"relative flex items-center justify-between md:justify-normal md:odd:flex-row-reverse group is-active",children:[m.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 bg-white dark:bg-slate-800 shrink-0 md:order-1 md:group-odd:-translate-x-1/2 md:group-even:translate-x-1/2 shadow-sm z-10 ${b.colorClass}`,children:m.jsx(b.icon,{className:"w-5 h-5"})}),m.jsxs("div",{className:"w-[calc(100%-4rem)] md:w-[calc(50%-2.5rem)] p-4 bg-slate-50 dark:bg-slate-900/40 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-md transition-shadow",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:b.title}),m.jsx("time",{className:"font-mono text-xs text-slate-500",children:ja(b.date)})]}),m.jsx("div",{className:"text-slate-600 dark:text-slate-400 mb-2",children:b.description}),m.jsx("div",{className:`font-bold text-right ${y?"text-slate-700 dark:text-slate-200":"text-emerald-600"}`,children:y?$e(b.amount):`+ ${$e(b.amount)}`})]})]},b.id)}),x.length===0&&m.jsx("div",{className:"text-center py-10 text-slate-400",children:"No transactions recorded for this customer yet."})]})]})]})]})},F$=()=>{var fe,Z,te,ie;const{products:e,addProduct:t,updateProduct:r,deleteProduct:n,businessProfile:l}=Ln(),[c,f]=O.useState(!1),[x,b]=O.useState(""),[y,w]=O.useState(null),[A,T]=O.useState(!1),[_,j]=O.useState(null),M=((fe=l.stockSettings)==null?void 0:fe.lowStockThreshold)??5,k=((Z=l.stockSettings)==null?void 0:Z.mode)||Wr.WARNING,[R,F]=O.useState({name:"",hsn:"",barcode:"",price:0,gstRate:18,stock:0,hasVariants:!1,variants:[]}),[U,V]=O.useState({});O.useEffect(()=>{if(A){const ne=new MI("product-reader",{fps:10,qrbox:{width:250,height:250}},!1);return ne.render(pe=>{_==="main"?F($=>({...$,barcode:pe})):_&&typeof _=="object"&&F($=>{const de=[...$.variants||[]];return de[_.variantIndex]&&(de[_.variantIndex].barcode=pe),{...$,variants:de}}),new Audio("https://www.soundjay.com/button/beep-07.wav").play().catch($=>console.log("Audio play failed",$)),ne.clear(),T(!1),j(null)},pe=>{}),()=>{try{ne.clear()}catch{}}}},[A]);const q=()=>{F({name:"",hsn:"",barcode:"",price:0,gstRate:18,stock:0,hasVariants:!1,variants:[]}),w(null),V({})},Y=ne=>{F(JSON.parse(JSON.stringify(ne))),w(ne.id),V({}),f(!0)},L=()=>{var pe;const ne={};return(pe=R.name)!=null&&pe.trim()||(ne.name="Product Name is required"),R.hasVariants?!R.variants||R.variants.length===0?ne.variants="At least one variant is required":R.variants.forEach((Oe,$)=>{Oe.name||(ne[`variant_${$}_name`]="Required"),(Oe.price===void 0||Oe.price==="")&&(ne[`variant_${$}_price`]="Required"),(Oe.stock===void 0||Oe.stock==="")&&(ne[`variant_${$}_stock`]="Required")}):(R.price===void 0||R.price<0)&&(ne.price="Valid Price is required"),V(ne),Object.keys(ne).length===0},J=ne=>{if(ne.preventDefault(),!L())return;const pe={id:y||aa(),name:R.name,hsn:R.hsn||"",gstRate:Number(R.gstRate),hasVariants:R.hasVariants,barcode:R.hasVariants?void 0:R.barcode||"",price:R.hasVariants?0:Number(R.price),stock:R.hasVariants?0:Number(R.stock)||0,variants:R.hasVariants?(R.variants||[]).map(Oe=>({...Oe,price:Number(Oe.price),stock:Number(Oe.stock)})):[]};y?r(pe):t(pe),f(!1),q()},K=()=>{F(ne=>({...ne,variants:[...ne.variants||[],{id:aa(),name:"",price:"",stock:"",barcode:""}]}))},Ce=ne=>{F(pe=>{var Oe;return{...pe,variants:(Oe=pe.variants)==null?void 0:Oe.filter(($,de)=>de!==ne)}})},oe=(ne,pe,Oe)=>{F($=>{const de=[...$.variants||[]];return de[ne]={...de[ne],[pe]:Oe},{...$,variants:de}})},ee=O.useMemo(()=>{const ne=[];return e.forEach(pe=>{const Oe=pe.name.toLowerCase().includes(x.toLowerCase())||pe.hsn.includes(x)||pe.barcode&&pe.barcode.includes(x);let $=!1;pe.hasVariants&&pe.variants&&($=pe.variants.some(de=>de.name.toLowerCase().includes(x.toLowerCase())||de.barcode&&de.barcode.includes(x))),(Oe||$)&&(pe.hasVariants&&pe.variants&&pe.variants.length>0?pe.variants.forEach(de=>{ne.push({...pe,isVariant:!0,variantId:de.id,displayName:`${pe.name} (${de.name})`,displayBarcode:de.barcode,displayPrice:de.price,displayStock:de.stock,originalProduct:pe})}):ne.push({...pe,isVariant:!1,displayName:pe.name,displayBarcode:pe.barcode,displayPrice:pe.price,displayStock:pe.stock,originalProduct:pe}))}),ne},[e,x]),ce=({stock:ne})=>{const pe=R$(ne,M,k),Oe=P$(pe),$=L$(pe);let de=null;return pe==="OVERSOLD"?de=fm:pe==="LOW_STOCK"?de=Kc:pe==="IN_STOCK"&&(de=Bo),pe==="DISABLED"?m.jsx("span",{className:"text-slate-400",children:"-"}):pe==="IN_STOCK"?m.jsxs("span",{className:"text-emerald-600 font-medium text-sm flex items-center gap-1",children:[m.jsx(Bo,{className:"w-3.5 h-3.5"})," In Stock"]}):m.jsxs("span",{className:`inline-flex items-center gap-1 text-[10px] font-bold px-2 py-1 rounded-full uppercase border ${Oe}`,children:[de&&m.jsx(de,{className:"w-3 h-3"})," ",$]})};return m.jsxs("div",{children:[m.jsxs("div",{className:"sticky top-0 z-20 bg-slate-50 dark:bg-slate-900 px-3 md:px-4 lg:px-10 pt-3 md:pt-4 lg:pt-10 pb-3 md:pb-4",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-3 md:gap-4 mb-3 md:mb-4",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl md:text-2xl font-bold text-slate-900 dark:text-white",children:"Inventory"}),m.jsx("p",{className:"text-xs md:text-base text-slate-500 dark:text-slate-400",children:"Manage products & services"})]}),m.jsxs("button",{onClick:()=>{q(),f(!0)},className:"bg-primary-600 hover:bg-primary-700 text-white px-3 md:px-5 py-2 md:py-2.5 rounded-lg md:rounded-xl text-sm font-medium flex items-center gap-1.5 md:gap-2 shadow-lg shadow-primary-600/30 transition-all w-full sm:w-auto justify-center",children:[m.jsx(Hs,{className:"w-4 h-4 md:w-5 md:h-5"}),"Add Product"]})]}),m.jsxs("div",{className:"relative",children:[m.jsx(Wd,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-4 h-4 md:w-5 md:h-5"}),m.jsx("input",{type:"text",placeholder:"Search by name, HSN or barcode...",value:x,onChange:ne=>b(ne.target.value),className:"w-full pl-9 md:pl-10 pr-4 py-2.5 md:py-3 rounded-lg md:rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-sm text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),m.jsx("div",{className:"px-3 md:px-4 lg:px-10 pb-10 space-y-4 md:space-y-6",children:m.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl md:rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-3 md:px-6 py-3 md:py-4 text-[10px] md:text-xs font-bold text-slate-500 dark:text-slate-400 uppercase min-w-[150px] md:min-w-[200px]",children:"Product"}),m.jsx("th",{className:"px-3 md:px-6 py-3 md:py-4 text-[10px] md:text-xs font-bold text-slate-500 dark:text-slate-400 uppercase text-right hidden sm:table-cell",children:"HSN"}),m.jsx("th",{className:"px-3 md:px-6 py-3 md:py-4 text-[10px] md:text-xs font-bold text-slate-500 dark:text-slate-400 uppercase text-right hidden md:table-cell",children:"Barcode"}),m.jsx("th",{className:"px-3 md:px-6 py-3 md:py-4 text-[10px] md:text-xs font-bold text-slate-500 dark:text-slate-400 uppercase text-right",children:"Price"}),m.jsx("th",{className:"px-3 md:px-6 py-3 md:py-4 text-[10px] md:text-xs font-bold text-slate-500 dark:text-slate-400 uppercase text-right",children:"Stock"}),m.jsx("th",{className:"px-3 md:px-6 py-3 md:py-4 text-[10px] md:text-xs font-bold text-slate-500 dark:text-slate-400 uppercase text-right",children:"Status"}),m.jsx("th",{className:"px-3 md:px-6 py-3 md:py-4 text-[10px] md:text-xs font-bold text-slate-500 dark:text-slate-400 uppercase text-right",children:"Action"})]})}),m.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[ee.map((ne,pe)=>m.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[m.jsx("td",{className:"px-3 md:px-6 py-3 md:py-4",children:m.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[m.jsx("div",{className:`w-6 h-6 md:w-8 md:h-8 rounded-lg flex items-center justify-center shrink-0 ${ne.isVariant?"bg-orange-50 dark:bg-orange-900/30 text-orange-600 ml-2 md:ml-4":"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600"}`,children:ne.isVariant?m.jsx(Gk,{className:"w-3 h-3 md:w-4 md:h-4"}):m.jsx(Xd,{className:"w-3 h-3 md:w-4 md:h-4"})}),m.jsxs("div",{children:[m.jsx("span",{className:"font-medium text-xs md:text-base text-slate-900 dark:text-white block",children:ne.displayName}),m.jsxs("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 md:hidden",children:["HSN: ",ne.hsn||"-"]})]})]})}),m.jsx("td",{className:"px-3 md:px-6 py-3 md:py-4 text-right text-slate-500 dark:text-slate-400 font-mono text-xs md:text-sm hidden sm:table-cell",children:ne.hsn||"-"}),m.jsx("td",{className:"px-3 md:px-6 py-3 md:py-4 text-right text-slate-500 dark:text-slate-400 font-mono text-xs md:text-sm hidden md:table-cell",children:ne.displayBarcode||"-"}),m.jsx("td",{className:"px-3 md:px-6 py-3 md:py-4 text-right font-medium text-xs md:text-base text-slate-900 dark:text-white",children:$e(ne.displayPrice)}),m.jsx("td",{className:"px-3 md:px-6 py-3 md:py-4 text-right text-slate-500 dark:text-slate-400 font-bold text-xs md:text-base",children:k===Wr.DISABLED?"-":ne.displayStock}),m.jsx("td",{className:"px-3 md:px-6 py-3 md:py-4 text-right",children:m.jsx(ce,{stock:ne.displayStock||0})}),m.jsx("td",{className:"px-3 md:px-6 py-3 md:py-4 text-right",children:m.jsxs("div",{className:"flex items-center justify-end gap-1 md:gap-2",children:[m.jsx("button",{onClick:()=>Y(ne.originalProduct),className:"text-slate-400 hover:text-primary-500 transition-colors p-1.5 md:p-2",title:"Edit Product",children:m.jsx(pm,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})}),!ne.isVariant&&m.jsx("button",{onClick:()=>n(ne.id),className:"text-slate-400 hover:text-red-500 transition-colors p-1.5 md:p-2",title:"Delete Product",children:m.jsx(ko,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})})]})})]},`${ne.id}_${pe}`)),ee.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:7,className:"px-6 py-10 text-center text-slate-400",children:"No products found. Add some inventory to get started."})})]})]})})})}),A&&m.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 w-full max-w-md relative",children:[m.jsx("button",{onClick:()=>T(!1),className:"absolute top-4 right-4 p-2 bg-slate-100 dark:bg-slate-700 rounded-full text-slate-500 hover:text-red-500 transition-colors",children:m.jsx(qs,{className:"w-5 h-5"})}),m.jsx("h3",{className:"text-lg font-bold mb-4 text-center dark:text-white",children:"Scan Barcode"}),m.jsx("div",{id:"product-reader",className:"w-full h-64 bg-black rounded-lg overflow-hidden"}),m.jsx("p",{className:"text-center text-sm text-slate-500 mt-4",children:"Point your camera at a barcode"})]})}),c&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-3xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh]",children:[m.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center shrink-0",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:y?"Edit Product":"Add New Product"}),m.jsx("button",{onClick:()=>f(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:m.jsx(Hs,{className:"w-6 h-6 rotate-45"})})]}),m.jsxs("form",{onSubmit:J,className:"p-6 overflow-y-auto",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx(It,{label:"Product Name *",value:R.name,onChange:ne=>F({...R,name:ne.target.value}),required:!0,error:U.name}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx(It,{label:"HSN Code",value:R.hsn,onChange:ne=>F({...R,hsn:ne.target.value})}),m.jsx(Wo,{label:"GST Rate",value:R.gstRate,onChange:ne=>F({...R,gstRate:Number(ne.target.value)}),options:[{value:0,label:"0%"},{value:5,label:"5%"},{value:12,label:"12%"},{value:18,label:"18%"},{value:28,label:"28%"}]})]}),m.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-xl border border-slate-100 dark:border-slate-700",children:[m.jsx("button",{type:"button",onClick:()=>F(ne=>({...ne,hasVariants:!ne.hasVariants})),className:`w-12 h-6 rounded-full transition-colors relative ${R.hasVariants?"bg-primary-600":"bg-slate-300 dark:bg-slate-600"}`,children:m.jsx("div",{className:`w-4 h-4 bg-white rounded-full absolute top-1 transition-transform ${R.hasVariants?"left-7":"left-1"}`})}),m.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:"This product has variants (e.g. Size, Color)"})]}),R.hasVariants?m.jsxs("div",{className:"space-y-3 animate-in fade-in slide-in-from-top-2",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Product Variants"}),m.jsx("button",{type:"button",onClick:K,className:"text-xs bg-primary-100 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 px-3 py-1.5 rounded-lg font-bold hover:bg-primary-200",children:"+ Add Variant"})]}),U.variants&&m.jsx("p",{className:"text-xs text-red-500",children:U.variants}),m.jsxs("div",{className:"space-y-3",children:[(te=R.variants)==null?void 0:te.map((ne,pe)=>m.jsxs("div",{className:"flex gap-2 items-start bg-slate-50 dark:bg-slate-700/30 p-3 rounded-xl border border-slate-200 dark:border-slate-700 relative group",children:[m.jsxs("div",{className:"flex-1 space-y-2",children:[m.jsxs("div",{className:"grid grid-cols-12 gap-3",children:[m.jsxs("div",{className:"col-span-12 sm:col-span-4",children:[m.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-500 dark:text-slate-400 mb-1 block",children:"Size / Label"}),m.jsx(It,{placeholder:"e.g. Small",value:ne.name,onChange:Oe=>oe(pe,"name",Oe.target.value),className:"text-sm",error:U[`variant_${pe}_name`]})]}),m.jsxs("div",{className:"col-span-12 sm:col-span-4",children:[m.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-500 dark:text-slate-400 mb-1 block",children:"Price ()"}),m.jsx(It,{type:"number",min:"0",placeholder:"0.00",value:ne.price,onChange:Oe=>oe(pe,"price",Oe.target.value),onKeyDown:Oe=>Oe.key==="-"&&Oe.preventDefault(),className:"text-sm",error:U[`variant_${pe}_price`]})]}),m.jsxs("div",{className:"col-span-12 sm:col-span-4",children:[m.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-500 dark:text-slate-400 mb-1 block",children:"Stock Qty"}),m.jsx(It,{type:"number",min:"0",placeholder:"0",value:ne.stock,onChange:Oe=>oe(pe,"stock",Oe.target.value),onKeyDown:Oe=>Oe.key==="-"&&Oe.preventDefault(),className:"text-sm",error:U[`variant_${pe}_stock`]})]})]}),m.jsxs("div",{className:"relative",children:[m.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-500 dark:text-slate-400 mb-1 block",children:"Barcode"}),m.jsx(It,{placeholder:"Scan or Enter",value:ne.barcode,onChange:Oe=>oe(pe,"barcode",Oe.target.value),className:"text-sm pr-8"}),m.jsx("button",{type:"button",onClick:()=>{j({variantIndex:pe}),T(!0)},className:"absolute right-2 bottom-2 text-slate-400 hover:text-primary-600",children:m.jsx(Qg,{className:"w-4 h-4"})})]})]}),m.jsx("button",{type:"button",onClick:()=>Ce(pe),className:"text-slate-400 hover:text-red-500 p-1 self-start mt-6",title:"Remove Variant",children:m.jsx(qs,{className:"w-5 h-5"})})]},pe)),((ie=R.variants)==null?void 0:ie.length)===0&&m.jsx("div",{className:"text-center py-6 text-slate-400 text-sm border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-xl",children:'No variants added. Click "+ Add Variant".'})]})]}):m.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-top-2",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx(It,{label:"Price () *",type:"number",min:"0",value:R.price,onChange:ne=>F({...R,price:Number(ne.target.value)}),required:!R.hasVariants,error:U.price}),m.jsx(It,{label:"Initial Stock",type:"number",value:R.stock,onChange:ne=>F({...R,stock:Number(ne.target.value)})})]}),m.jsxs("div",{className:"relative",children:[m.jsx(It,{label:"Barcode",value:R.barcode,onChange:ne=>F({...R,barcode:ne.target.value}),placeholder:"Scan or enter"}),m.jsx("button",{type:"button",onClick:()=>{j("main"),T(!0)},className:"absolute right-2 bottom-2 p-1.5 text-slate-400 hover:text-primary-600 dark:hover:text-primary-400",title:"Scan Barcode",children:m.jsx(Qg,{className:"w-5 h-5"})})]})]})]}),m.jsx("div",{className:"mt-6 pt-4 border-t border-slate-100 dark:border-slate-700",children:m.jsx("button",{type:"submit",className:"w-full py-3 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-xl",children:y?"Update Product":"Save Product"})})]})]})})]})},H$=()=>{const{invoices:e,products:t,businessProfile:r,user:n,customers:l}=Ln(),c=xa(),[f,x]=O.useState("sales"),[b,y]=O.useState("year"),A=oh(n,r.plan).advancedReports,T=r.includeNonGstInReports!==!1,_=O.useMemo(()=>A?e.filter(L=>{if(L.isDeleted||L.excludeFromReports||!T&&L.billingType==="NON_GST")return!1;const J=new Date(L.date),K=new Date;return b==="month"?J.getMonth()===K.getMonth()&&J.getFullYear()===K.getFullYear():b==="year"?J.getFullYear()===K.getFullYear():!0}):[],[e,b,A,T]),j=O.useMemo(()=>{const L={};return _.forEach(J=>{const K=new Date(J.date).toLocaleDateString("default",{month:"short",day:b==="month"?"numeric":void 0});L[K]=(L[K]||0)+(J.grandTotal||0)}),Object.entries(L).map(([J,K])=>({name:J,value:K}))},[_,b]),M=_.reduce((L,J)=>L+(J.paidAmount??0),0),k=_.reduce((L,J)=>L+(J.balanceAmount??0),0);_.filter(L=>L.status===Ot.PAID).length,_.filter(L=>L.status===Ot.PENDING).length,_.filter(L=>L.status===Ot.PARTIALLY_PAID).length,_.filter(L=>L.status===Ot.OVERDUE).length;const R=O.useMemo(()=>{let L={taxable:0,cgst:0,sgst:0,igst:0,totalTax:0},J=[],K={};_.forEach(oe=>{let ee=0,ce=0,fe=0,Z=0;oe.items.forEach(ne=>{const pe=ne.quantity,Oe=ne.returnedQuantity||0,$=Math.max(0,pe-Oe);if($>0){const de=ne.price,Te=de*ne.discount/100,Qe=(de-Te)*$,Q=Qe*ne.gstRate/100;ee+=Qe,oe.isInterState?Z+=Q:(ce+=Q/2,fe+=Q/2)}});const te=ce+fe+Z;J.push({id:oe.id,number:oe.invoiceNumber,customer:oe.customerName,taxable:ee,cgst:ce,sgst:fe,igst:Z,totalTax:te,date:oe.date}),L.taxable+=ee,L.cgst+=ce,L.sgst+=fe,L.igst+=Z,L.totalTax+=te;const ie=new Date(oe.date).toLocaleString("default",{month:"short"});K[ie]=(K[ie]||0)+te});const Ce=Object.entries(K).map(([oe,ee])=>({name:oe,value:ee}));return{summary:L,breakdown:J,trendData:Ce}},[_]),F=O.useMemo(()=>{const L={};return _.forEach(J=>{L[J.customerId]||(L[J.customerId]={revenue:0,outstanding:0,invoiceCount:0}),L[J.customerId].revenue+=J.paidAmount||0,L[J.customerId].outstanding+=J.balanceAmount||0,L[J.customerId].invoiceCount+=1}),l.map(J=>{var K,Ce,oe;return{id:J.id,name:J.name,revenue:((K=L[J.id])==null?void 0:K.revenue)||0,outstanding:((Ce=L[J.id])==null?void 0:Ce.outstanding)||0,invoiceCount:((oe=L[J.id])==null?void 0:oe.invoiceCount)||0,advanceBalance:J.advanceBalance||0}}).filter(J=>J.revenue>0||J.outstanding>0||J.advanceBalance>0).sort((J,K)=>K.revenue-J.revenue)},[_,l]),U=O.useMemo(()=>{const L={};_.forEach(fe=>{fe.items.forEach(Z=>{const te=Z.productId||Z.name;L[te]||(L[te]={id:Z.productId,name:Z.name,qty:0,revenue:0,gst:0});const ie=Z.quantity,ne=Z.returnedQuantity||0,pe=Math.max(0,ie-ne);if(pe>0){const Oe=Z.price,$=Oe*Z.discount/100,Te=(Oe-$)*pe,ke=Te*Z.gstRate/100;L[te].qty+=pe,L[te].revenue+=Te,L[te].gst+=ke}})});const J=Object.values(L),K=[...J].sort((fe,Z)=>Z.qty-fe.qty),Ce=new Set(J.map(fe=>fe.id)),ee=[...t.filter(fe=>!Ce.has(fe.id)).map(fe=>({name:fe.name,revenue:0,qty:0,gst:0})),...[...J].sort((fe,Z)=>fe.revenue-Z.revenue)].slice(0,10),ce=J.reduce((fe,Z)=>fe+Z.gst,0);return{topSelling:K,lowPerforming:ee,allStats:J,totalProductGST:ce}},[_,t]);t.filter(L=>(L.stock||0)<5);const V=()=>{},q=()=>{},Y=()=>m.jsxs("div",{className:"absolute inset-0 z-50 backdrop-blur-md bg-white/50 dark:bg-slate-900/50 flex flex-col items-center justify-center p-4 text-center rounded-3xl border border-slate-200 dark:border-slate-700",children:[m.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-amber-400 to-orange-500 rounded-full flex items-center justify-center shadow-lg mb-6 animate-bounce",children:m.jsx(Wl,{className:"w-8 h-8 text-white"})}),m.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2",children:"Premium Feature Locked"}),m.jsx("p",{className:"text-slate-600 dark:text-slate-400 max-w-md mb-8",children:"Unlock advanced analytics, GST reports, and deep insights to grow your business faster."}),m.jsxs("button",{onClick:()=>c("/pricing"),className:"px-8 py-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 font-bold rounded-xl shadow-xl hover:scale-105 transition-transform flex items-center gap-2",children:[m.jsx(Od,{className:"w-5 h-5"})," Upgrade to Premium"]})]});return m.jsxs("div",{className:"relative min-h-[80vh]",children:[m.jsxs("div",{className:"sticky top-0 z-20 bg-slate-50 dark:bg-slate-900 px-3 md:px-4 lg:px-10 pt-3 md:pt-4 lg:pt-10 pb-3 md:pb-4 border-b border-slate-200/50 dark:border-slate-700/50",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 md:gap-4 mb-3 md:mb-4",children:[m.jsxs("div",{children:[m.jsxs("h1",{className:"text-xl md:text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[m.jsx(Q4,{className:"w-5 h-5 md:w-6 md:h-6 text-primary-600"})," Advanced Reports"]}),m.jsx("p",{className:"text-xs md:text-base text-slate-500 dark:text-slate-400",children:"Deep insights into your business performance"})]}),m.jsxs("div",{className:"flex items-center gap-2 flex-wrap sm:flex-nowrap w-full sm:w-auto",children:[m.jsxs("select",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg md:rounded-xl px-3 md:px-4 py-1.5 md:py-2 text-sm font-medium focus:outline-none w-full sm:w-auto",value:b,onChange:L=>y(L.target.value),disabled:!A,children:[m.jsx("option",{value:"month",children:"This Month"}),m.jsx("option",{value:"year",children:"This Year"}),m.jsx("option",{value:"all",children:"All Time"})]}),m.jsxs("div",{className:"flex gap-2 ml-auto sm:ml-0",children:[m.jsx("button",{onClick:q,disabled:!A,className:"p-1.5 md:p-2 bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-lg md:rounded-xl text-slate-600 dark:text-slate-300 transition-colors",title:"Print / Save PDF",children:m.jsx(zo,{className:"w-4 h-4 md:w-5 md:h-5"})}),m.jsx("button",{onClick:V,disabled:!A,className:"p-1.5 md:p-2 bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-lg md:rounded-xl text-slate-600 dark:text-slate-300 transition-colors",title:"Export CSV",children:m.jsx(hv,{className:"w-4 h-4 md:w-5 md:h-5"})})]})]})]}),m.jsx("div",{className:"flex overflow-x-auto pb-2 gap-2 no-scrollbar",children:[{id:"sales",label:"Sales Overview",icon:uh},{id:"gst",label:"GST Report",icon:zo},{id:"customers",label:"Customer Insights",icon:su},{id:"products",label:"Product Analytics",icon:Xd}].map(L=>m.jsxs("button",{onClick:()=>x(L.id),disabled:!A,className:`flex items-center gap-1.5 md:gap-2 px-3 md:px-4 py-1.5 md:py-2 rounded-lg text-xs md:text-sm font-bold transition-all whitespace-nowrap ${f===L.id?"bg-primary-50 dark:bg-primary-900/20 text-primary-600 dark:text-primary-400":"text-slate-500 hover:text-slate-700 dark:text-slate-400"}`,children:[m.jsx(L.icon,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})," ",L.label]},L.id))})]}),m.jsxs("div",{className:"relative px-3 md:px-4 lg:px-10 pb-10 space-y-4 md:space-y-6 pt-4 md:pt-6",children:[!A&&m.jsx(Y,{}),f==="sales"&&m.jsxs("div",{className:`space-y-4 md:space-y-6 ${A?"":"blur-sm select-none"}`,children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 md:p-6 rounded-xl md:rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm relative overflow-hidden group",children:[m.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:scale-110 transition-transform",children:m.jsx(uh,{className:"w-16 h-16 md:w-24 md:h-24 text-emerald-500"})}),m.jsx("p",{className:"text-slate-500 text-xs md:text-sm font-bold uppercase tracking-wider mb-1 md:mb-2",children:"Net Revenue (Collected)"}),m.jsx("h3",{className:"text-2xl md:text-4xl font-bold text-emerald-600 dark:text-emerald-400",children:$e(M)}),m.jsx("p",{className:"text-xs md:text-sm text-slate-400 mt-1 md:mt-2",children:"After deducting refunds/returns"})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 md:p-6 rounded-xl md:rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm relative overflow-hidden group",children:[m.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 group-hover:scale-110 transition-transform",children:m.jsx(uk,{className:"w-16 h-16 md:w-24 md:h-24 text-red-500"})}),m.jsx("p",{className:"text-slate-500 text-xs md:text-sm font-bold uppercase tracking-wider mb-1 md:mb-2",children:"Outstanding Amount"}),m.jsx("h3",{className:"text-2xl md:text-4xl font-bold text-red-600 dark:text-red-400",children:$e(k)}),m.jsx("p",{className:"text-xs md:text-sm text-slate-400 mt-1 md:mt-2",children:"Total unpaid balance from invoices"})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 md:p-6 rounded-xl md:rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsx("h3",{className:"font-bold text-base md:text-lg mb-4 md:mb-6",children:"Revenue Trend (Actual Sales)"}),m.jsx("div",{className:"h-64 md:h-80 w-full",children:m.jsx(eh,{width:"100%",height:"100%",children:m.jsxs(WZ,{data:j,children:[m.jsx("defs",{children:m.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[m.jsx("stop",{offset:"5%",stopColor:"#4f46e5",stopOpacity:.3}),m.jsx("stop",{offset:"95%",stopColor:"#4f46e5",stopOpacity:0})]})}),m.jsx(Sd,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),m.jsx(Ed,{dataKey:"name",axisLine:!1,tickLine:!1,dy:10,style:{fontSize:"12px"}}),m.jsx(Nd,{axisLine:!1,tickLine:!1,tickFormatter:L=>`${L/1e3}k`,style:{fontSize:"12px"}}),m.jsx(rh,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:L=>$e(L)}),m.jsx(lI,{type:"monotone",dataKey:"value",stroke:"#4f46e5",fillOpacity:1,fill:"url(#colorRevenue)"})]})})})]})]}),f==="gst"&&m.jsxs("div",{className:`space-y-4 md:space-y-6 ${A?"":"blur-sm select-none"}`,children:[m.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-3 md:gap-4",children:[m.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-3 md:p-4 rounded-lg md:rounded-xl border border-slate-200 dark:border-slate-700",children:[m.jsx("p",{className:"text-[10px] md:text-xs font-bold text-slate-500 uppercase mb-1",children:"Taxable Value (Net)"}),m.jsx("p",{className:"text-base md:text-xl font-bold text-slate-900 dark:text-white",children:$e(R.summary.taxable)})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 md:p-4 rounded-lg md:rounded-xl border border-slate-200 dark:border-slate-700",children:[m.jsx("p",{className:"text-[10px] md:text-xs font-bold text-slate-500 uppercase mb-1",children:"CGST"}),m.jsx("p",{className:"text-base md:text-xl font-bold text-slate-900 dark:text-white",children:$e(R.summary.cgst)})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 md:p-4 rounded-lg md:rounded-xl border border-slate-200 dark:border-slate-700",children:[m.jsx("p",{className:"text-[10px] md:text-xs font-bold text-slate-500 uppercase mb-1",children:"SGST"}),m.jsx("p",{className:"text-base md:text-xl font-bold text-slate-900 dark:text-white",children:$e(R.summary.sgst)})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 md:p-4 rounded-lg md:rounded-xl border border-slate-200 dark:border-slate-700",children:[m.jsx("p",{className:"text-[10px] md:text-xs font-bold text-slate-500 uppercase mb-1",children:"IGST"}),m.jsx("p",{className:"text-base md:text-xl font-bold text-slate-900 dark:text-white",children:$e(R.summary.igst)})]}),m.jsxs("div",{className:"bg-primary-50 dark:bg-primary-900/20 p-3 md:p-4 rounded-lg md:rounded-xl border border-primary-100 dark:border-primary-800 col-span-2 lg:col-span-1",children:[m.jsx("p",{className:"text-[10px] md:text-xs font-bold text-primary-600 dark:text-primary-400 uppercase mb-1",children:"Total GST"}),m.jsx("p",{className:"text-base md:text-xl font-bold text-primary-700 dark:text-primary-300",children:$e(R.summary.totalTax)})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 md:p-6 rounded-xl md:rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsx("h3",{className:"font-bold text-base md:text-lg mb-4 md:mb-6",children:"GST Collection Trend"}),m.jsx("div",{className:"h-64 md:h-72 w-full",children:m.jsx(eh,{width:"100%",height:"100%",children:m.jsxs(Qy,{data:R.trendData,children:[m.jsx(Sd,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),m.jsx(Ed,{dataKey:"name",axisLine:!1,tickLine:!1,dy:10,style:{fontSize:"12px"}}),m.jsx(Nd,{axisLine:!1,tickLine:!1,tickFormatter:L=>`${L>=1e3?L/1e3+"k":L}`,style:{fontSize:"12px"}}),m.jsx(rh,{cursor:{fill:"transparent"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:L=>[$e(L),"GST Collected"]}),m.jsx(im,{dataKey:"value",fill:"#4f46e5",radius:[4,4,0,0],barSize:40})]})})})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl md:rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden",children:[m.jsx("div",{className:"p-4 md:p-6 border-b border-slate-100 dark:border-slate-700",children:m.jsx("h3",{className:"font-bold text-base md:text-lg",children:"GST Breakdown"})}),m.jsx("div",{className:"overflow-x-auto max-h-96",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50 sticky top-0 z-10",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-3 md:px-6 py-3 md:py-4 text-[10px] md:text-xs font-bold text-slate-500 uppercase",children:"Invoice"}),m.jsx("th",{className:"px-3 md:px-6 py-3 md:py-4 text-[10px] md:text-xs font-bold text-slate-500 uppercase",children:"Date"}),m.jsx("th",{className:"px-3 md:px-6 py-3 md:py-4 text-[10px] md:text-xs font-bold text-slate-500 uppercase",children:"Customer"}),m.jsx("th",{className:"px-3 md:px-6 py-3 md:py-4 text-[10px] md:text-xs font-bold text-slate-500 uppercase text-right",children:"Taxable"}),m.jsx("th",{className:"px-3 md:px-6 py-3 md:py-4 text-[10px] md:text-xs font-bold text-slate-500 uppercase text-right",children:"CGST"}),m.jsx("th",{className:"px-3 md:px-6 py-3 md:py-4 text-[10px] md:text-xs font-bold text-slate-500 uppercase text-right",children:"SGST"}),m.jsx("th",{className:"px-3 md:px-6 py-3 md:py-4 text-[10px] md:text-xs font-bold text-slate-500 uppercase text-right",children:"IGST"}),m.jsx("th",{className:"px-3 md:px-6 py-3 md:py-4 text-[10px] md:text-xs font-bold text-slate-500 uppercase text-right",children:"Total Tax"})]})}),m.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[R.breakdown.map(L=>m.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[m.jsx("td",{className:"px-3 md:px-6 py-2 md:py-3 font-medium text-xs md:text-base text-slate-900 dark:text-white",children:L.number}),m.jsx("td",{className:"px-3 md:px-6 py-2 md:py-3 text-xs md:text-sm text-slate-500",children:ja(L.date)}),m.jsx("td",{className:"px-3 md:px-6 py-2 md:py-3 text-xs md:text-sm text-slate-500 truncate max-w-[100px] md:max-w-[150px]",children:L.customer}),m.jsx("td",{className:"px-3 md:px-6 py-2 md:py-3 text-right font-medium text-xs md:text-base",children:$e(L.taxable)}),m.jsx("td",{className:"px-3 md:px-6 py-2 md:py-3 text-right text-xs md:text-sm text-slate-500",children:$e(L.cgst)}),m.jsx("td",{className:"px-3 md:px-6 py-2 md:py-3 text-right text-xs md:text-sm text-slate-500",children:$e(L.sgst)}),m.jsx("td",{className:"px-3 md:px-6 py-2 md:py-3 text-right text-xs md:text-sm text-slate-500",children:$e(L.igst)}),m.jsx("td",{className:"px-3 md:px-6 py-2 md:py-3 text-right font-bold text-xs md:text-base text-slate-700 dark:text-slate-300",children:$e(L.totalTax)})]},L.id)),R.breakdown.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:8,className:"px-6 py-10 text-center text-slate-400",children:"No GST data available for selected period."})})]})]})})]})]}),f==="customers"&&m.jsx("div",{className:`space-y-4 md:space-y-6 ${A?"":"blur-sm select-none"}`,children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl md:rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden",children:[m.jsx("div",{className:"p-4 md:p-6 border-b border-slate-100 dark:border-slate-700",children:m.jsx("h3",{className:"font-bold text-base md:text-lg",children:"Customer Financial Performance"})}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-3 md:px-6 py-3 md:py-4 text-[10px] md:text-xs font-bold text-slate-500 uppercase",children:"Customer"}),m.jsx("th",{className:"px-3 md:px-6 py-3 md:py-4 text-[10px] md:text-xs font-bold text-slate-500 uppercase text-right",children:"Revenue"}),m.jsx("th",{className:"px-3 md:px-6 py-3 md:py-4 text-[10px] md:text-xs font-bold text-slate-500 uppercase text-right",children:"Outstanding"}),m.jsx("th",{className:"px-3 md:px-6 py-3 md:py-4 text-[10px] md:text-xs font-bold text-slate-500 uppercase text-right",children:"Advance Bal"}),m.jsx("th",{className:"px-3 md:px-6 py-3 md:py-4 text-[10px] md:text-xs font-bold text-slate-500 uppercase text-center",children:"Invoices"})]})}),m.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[F.map(L=>m.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[m.jsx("td",{className:"px-3 md:px-6 py-3 md:py-4 font-bold text-xs md:text-base text-slate-900 dark:text-white",children:L.name}),m.jsx("td",{className:"px-3 md:px-6 py-3 md:py-4 text-right font-medium text-xs md:text-base text-emerald-600",children:$e(L.revenue)}),m.jsx("td",{className:"px-3 md:px-6 py-3 md:py-4 text-right font-medium text-xs md:text-base text-red-500",children:$e(L.outstanding)}),m.jsx("td",{className:"px-3 md:px-6 py-3 md:py-4 text-right font-medium text-xs md:text-base text-indigo-500",children:$e(L.advanceBalance)}),m.jsx("td",{className:"px-3 md:px-6 py-3 md:py-4 text-center text-xs md:text-base text-slate-500",children:L.invoiceCount})]},L.id)),F.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-slate-400",children:"No data available for this period."})})]})]})})]})}),f==="products"&&m.jsxs("div",{className:`space-y-4 md:space-y-6 ${A?"":"blur-sm select-none"}`,children:[m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 md:gap-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 md:p-6 rounded-xl md:rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsxs("h3",{className:"font-bold text-base md:text-lg mb-3 md:mb-4 flex items-center gap-2",children:[m.jsx(Z4,{className:"w-4 h-4 md:w-5 md:h-5 text-emerald-500"})," Top Selling Products"]}),m.jsxs("div",{className:"space-y-3 md:space-y-4 max-h-96 overflow-y-auto pr-2",children:[U.topSelling.slice(0,10).map((L,J)=>m.jsxs("div",{className:"flex items-center justify-between p-2 md:p-3 bg-slate-50 dark:bg-slate-700/30 rounded-lg md:rounded-xl border border-slate-100 dark:border-slate-600",children:[m.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[m.jsx("span",{className:`w-5 h-5 md:w-6 md:h-6 rounded-full flex items-center justify-center text-[10px] md:text-xs font-bold ${J<3?"bg-amber-100 text-amber-700":"bg-slate-200 dark:bg-slate-600 text-slate-600 dark:text-slate-300"}`,children:J+1}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-xs md:text-sm text-slate-900 dark:text-white",children:L.name}),m.jsxs("p",{className:"text-[10px] text-slate-500",children:[L.qty," units sold (Net)  GST: ",$e(L.gst)]})]})]}),m.jsx("span",{className:"font-bold text-xs md:text-sm text-emerald-600",children:$e(L.revenue)})]},J)),U.topSelling.length===0&&m.jsx("p",{className:"text-center text-slate-400 text-sm py-4",children:"No sales found."})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 md:p-6 rounded-xl md:rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsxs("h3",{className:"font-bold text-base md:text-lg mb-3 md:mb-4 flex items-center gap-2",children:[m.jsx(W4,{className:"w-4 h-4 md:w-5 md:h-5 text-red-500"})," Low Performing Products"]}),m.jsxs("div",{className:"space-y-2 md:space-y-3 max-h-96 overflow-y-auto pr-2",children:[U.lowPerforming.map((L,J)=>m.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 dark:border-slate-700 last:border-0 pb-2 md:pb-3",children:[m.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[m.jsx(fm,{className:"w-3.5 h-3.5 md:w-4 md:h-4 text-slate-300"}),m.jsx("span",{className:"text-slate-700 dark:text-slate-300 text-xs md:text-sm font-medium",children:L.name})]}),m.jsx("span",{className:"text-[10px] md:text-xs bg-slate-100 dark:bg-slate-700 text-slate-500 px-1.5 md:px-2 py-0.5 md:py-1 rounded font-bold",children:L.revenue===0?"Zero Sales":$e(L.revenue)})]},J)),U.lowPerforming.length===0&&m.jsx("p",{className:"text-center text-slate-400 text-sm py-4",children:"All products are performing well."})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3 md:gap-6",children:[m.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-4 md:p-6 rounded-xl md:rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsx("h3",{className:"font-bold text-base md:text-lg mb-4 md:mb-6",children:"Revenue by Product"}),m.jsx("div",{className:"h-64 md:h-72 w-full",children:m.jsx(eh,{width:"100%",height:"100%",children:m.jsxs(Qy,{data:U.topSelling.slice(0,8),children:[m.jsx(Sd,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),m.jsx(Ed,{dataKey:"name",axisLine:!1,tickLine:!1,dy:10,style:{fontSize:"10px"},interval:0}),m.jsx(Nd,{axisLine:!1,tickLine:!1,tickFormatter:L=>`${L/1e3}k`,style:{fontSize:"12px"}}),m.jsx(rh,{cursor:{fill:"transparent"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:L=>$e(L)}),m.jsx(im,{dataKey:"revenue",fill:"#8b5cf6",radius:[4,4,0,0],barSize:32})]})})})]}),m.jsxs("div",{className:"lg:col-span-1 bg-white dark:bg-slate-800 p-0 rounded-xl md:rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden",children:[m.jsx("div",{className:"p-4 md:p-5 border-b border-slate-100 dark:border-slate-700",children:m.jsx("h3",{className:"font-bold text-base md:text-lg",children:"GST Contribution"})}),m.jsx("div",{className:"overflow-x-auto max-h-80",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50 text-[10px] uppercase text-slate-500 sticky top-0",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-3 md:px-4 py-2",children:"Product"}),m.jsx("th",{className:"px-3 md:px-4 py-2 text-right",children:"GST"}),m.jsx("th",{className:"px-3 md:px-4 py-2 text-right",children:"%"})]})}),m.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700 text-xs md:text-sm",children:U.topSelling.map((L,J)=>{const K=U.totalProductGST>0?L.gst/U.totalProductGST*100:0;return m.jsxs("tr",{children:[m.jsx("td",{className:"px-3 md:px-4 py-2 text-slate-700 dark:text-slate-300 font-medium truncate max-w-[100px] md:max-w-[120px]",title:L.name,children:L.name}),m.jsx("td",{className:"px-3 md:px-4 py-2 text-right text-slate-500",children:$e(L.gst)}),m.jsxs("td",{className:"px-3 md:px-4 py-2 text-right font-bold text-indigo-600",children:[K.toFixed(1),"%"]})]},J)})})]})})]})]})]})]})]})},qg=({title:e,price:t,planType:r,features:n,recommended:l=!1,buttonText:c="Get Started",onUpgrade:f,currentPlan:x})=>{const b=x===r;return m.jsxs("div",{className:`relative p-4 md:p-8 rounded-2xl md:rounded-3xl border flex flex-col h-full ${l?"bg-slate-900 text-white border-slate-900 shadow-xl scale-105 z-10":"bg-white dark:bg-slate-800 text-slate-900 dark:text-white border-slate-200 dark:border-slate-700 shadow-sm"}`,children:[l&&m.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-gradient-to-r from-amber-400 to-orange-500 text-white px-3 md:px-4 py-0.5 md:py-1 rounded-full text-[10px] md:text-xs font-bold uppercase tracking-wide shadow-lg whitespace-nowrap",children:"Most Popular"}),m.jsxs("div",{className:"mb-4 md:mb-6",children:[m.jsx("h3",{className:`text-base md:text-lg font-bold ${l?"text-slate-200":"text-slate-500 dark:text-slate-400"}`,children:e}),m.jsxs("div",{className:"flex items-baseline gap-1 mt-1 md:mt-2",children:[m.jsxs("span",{className:"text-3xl md:text-4xl font-bold",children:["",t]}),t!=="0"&&m.jsxs("span",{className:`text-xs md:text-sm ${l?"text-slate-400":"text-slate-500"}`,children:["/",r===Er.PREMIUM_YEARLY?"year":"month"]})]}),m.jsx("p",{className:`text-xs md:text-sm mt-2 md:mt-3 ${l?"text-slate-400":"text-slate-500"}`,children:t==="0"?"Perfect for freelancers & hobbyists.":"For growing businesses needing power."})]}),m.jsx("div",{className:"space-y-3 md:space-y-4 flex-1 mb-6 md:mb-8",children:n.map((y,w)=>m.jsxs("div",{className:"flex items-start gap-2 md:gap-3",children:[y.included?m.jsx("div",{className:`p-0.5 rounded-full ${l?"bg-emerald-500/20 text-emerald-400":"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400"}`,children:m.jsx(J4,{className:"w-3 h-3 md:w-3.5 md:h-3.5"})}):m.jsx("div",{className:`p-0.5 rounded-full ${l?"bg-slate-800 text-slate-600":"bg-slate-100 dark:bg-slate-700 text-slate-400"}`,children:m.jsx(qs,{className:"w-3 h-3 md:w-3.5 md:h-3.5"})}),m.jsx("span",{className:`text-xs md:text-sm ${!y.included&&"text-slate-400 line-through"} ${l?"text-slate-300":"text-slate-700 dark:text-slate-300"}`,children:y.text})]},w))}),m.jsx("button",{onClick:()=>f(r),disabled:b,className:`w-full py-2.5 md:py-3 rounded-lg md:rounded-xl font-bold text-sm md:text-base transition-all ${b?"bg-emerald-500 text-white cursor-default":l?"bg-primary-600 hover:bg-primary-500 text-white shadow-lg shadow-primary-600/40":"bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-900 dark:text-white"}`,children:b?"Current Plan":c})]})},G$=()=>{const{businessProfile:e,upgradePlan:t,user:r}=Ln(),n=xa(),l=x=>{if(x===Er.FREE){alert("You are on the Free plan.");return}const b={key:"rzp_test_mock_key",amount:x===Er.PREMIUM_YEARLY?299900:29900,currency:"INR",name:"BillSahi Premium",description:`Upgrade to ${x}`,image:"https://via.placeholder.com/150",handler:function(w){t(x),n("/profile")},prefill:{name:r==null?void 0:r.name,email:r==null?void 0:r.email,contact:"9999999999"},theme:{color:"#4f46e5"}};new window.Razorpay(b).open()},c=[{text:"10 GST Invoices / month",included:!0},{text:"Maximum 2 Workers",included:!0},{text:"Worker Management (Limited)",included:!0},{text:"Basic Reports",included:!0},{text:"Watermark on Invoice",included:!0},{text:"Salary Tracking",included:!1},{text:"Attendance Tracking",included:!1},{text:"Inventory Management",included:!1},{text:"Priority Support",included:!1}],f=[{text:"Unlimited GST Invoices",included:!0},{text:"Unlimited Workers",included:!0},{text:"Full Worker Management",included:!0},{text:"Monthly Salary Tracking",included:!0},{text:"Worker Attendance Management",included:!0},{text:"Advance Payment Tracking",included:!0},{text:"Advanced GST Reports",included:!0},{text:"No Watermark",included:!0},{text:"Inventory Management",included:!0},{text:"Custom Branding",included:!0},{text:"Priority Support",included:!0}];return m.jsxs("div",{children:[m.jsxs("div",{className:"sticky top-0 z-20 bg-slate-50 dark:bg-slate-900 px-3 md:px-4 lg:px-10 pt-3 md:pt-4 lg:pt-10 pb-3 md:pb-4 text-center border-b border-slate-200/50 dark:border-slate-700/50",children:[m.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900 dark:text-white mb-1",children:"Simple, Transparent Pricing"}),m.jsx("p",{className:"text-xs md:text-base text-slate-600 dark:text-slate-400",children:"Start for free and upgrade as your business grows. No hidden charges."})]}),m.jsxs("div",{className:"px-3 md:px-4 lg:px-10 py-6 md:py-10 max-w-6xl mx-auto",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-8 items-center",children:[m.jsx(qg,{title:"Free Forever",price:"0",planType:Er.FREE,features:c,buttonText:"Current Plan",onUpgrade:()=>{},currentPlan:e.plan}),m.jsx(qg,{title:"Premium Monthly",price:"299",planType:Er.PREMIUM_MONTHLY,features:f,recommended:!0,buttonText:"Upgrade Now",onUpgrade:l,currentPlan:e.plan}),m.jsx(qg,{title:"Premium Yearly",price:"2,999",planType:Er.PREMIUM_YEARLY,features:f,buttonText:"Buy Yearly & Save",onUpgrade:l,currentPlan:e.plan})]}),m.jsxs("div",{className:"mt-10 md:mt-16 bg-indigo-50 dark:bg-indigo-900/20 rounded-2xl md:rounded-3xl p-6 md:p-10 text-center border border-indigo-100 dark:border-indigo-800",children:[m.jsx("h3",{className:"text-xl md:text-2xl font-bold text-indigo-900 dark:text-indigo-200 mb-2",children:"Need a Custom Enterprise Solution?"}),m.jsx("p",{className:"text-sm md:text-base text-indigo-700 dark:text-indigo-300 mb-4 md:mb-6",children:"For large organizations with multiple GSTINs and complex user roles."}),m.jsx("button",{className:"text-primary-700 dark:text-primary-400 font-bold hover:text-primary-800 dark:hover:text-primary-300 underline text-sm md:text-base",children:"Contact Sales Team"})]})]})]})},V$=()=>{const{login:e}=Ln(),t=xa(),[r,n]=O.useState(""),[l,c]=O.useState(""),[f,x]=O.useState(!1),[b,y]=O.useState(!1),[w,A]=O.useState(""),[T,_]=O.useState(!1),j=async M=>{M.preventDefault(),A(""),_(!0);const k=await e(r,l);k.success?t("/"):A(k.message||"Invalid email or password"),_(!1)};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900 transition-colors duration-300",children:m.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-3xl shadow-xl border border-slate-200 dark:border-slate-700 p-8 mx-4",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-primary-500 to-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-primary-500/30 transform rotate-3",children:m.jsx(Wl,{className:"w-7 h-7 text-white"})}),m.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight",children:"Welcome Back"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"Sign in to manage your business"})]}),m.jsxs("form",{onSubmit:j,className:"space-y-5",children:[w&&m.jsxs("div",{className:"p-4 text-sm text-red-600 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900/30 rounded-xl flex items-center gap-2 animate-shake",children:[m.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),w]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 ml-1",children:"Email Address"}),m.jsxs("div",{className:"relative group",children:[m.jsx(mv,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-primary-500 transition-colors"}),m.jsx("input",{type:"email",placeholder:"you@company.com",value:r,onChange:M=>n(M.target.value),required:!0,className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500 text-slate-900 dark:text-white transition-all placeholder:text-slate-400"})]})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 ml-1",children:"Password"}),m.jsxs("div",{className:"relative group",children:[m.jsx(Wl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-primary-500 transition-colors"}),m.jsx("input",{type:f?"text":"password",placeholder:"",value:l,onChange:M=>c(M.target.value),required:!0,className:"w-full pl-12 pr-12 py-3.5 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500 text-slate-900 dark:text-white transition-all placeholder:text-slate-400"}),m.jsx("button",{type:"button",onClick:()=>x(!f),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 focus:outline-none",children:f?m.jsx(mm,{className:"w-5 h-5"}):m.jsx(qd,{className:"w-5 h-5"})})]})]}),m.jsxs("div",{className:"flex items-center justify-between pt-1",children:[m.jsxs("button",{type:"button",onClick:()=>y(!b),className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors focus:outline-none",children:[b?m.jsx(sT,{className:"w-5 h-5 text-primary-600"}):m.jsx(lT,{className:"w-5 h-5"}),"Remember me"]}),m.jsx(Ma,{to:"/forgot-password",className:"text-sm font-bold text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 transition-colors",children:"Forgot Password?"})]}),m.jsx("button",{type:"submit",disabled:T,className:`w-full py-4 bg-gradient-to-r from-primary-600 to-indigo-600 hover:from-primary-700 hover:to-indigo-700 text-white font-bold rounded-xl transition-all shadow-lg shadow-primary-600/30 flex items-center justify-center gap-2 transform active:scale-[0.98] ${T?"opacity-70 cursor-wait":""}`,children:T?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Signing In..."]}):m.jsxs(m.Fragment,{children:["Sign In ",m.jsx(K4,{className:"w-5 h-5"})]})})]}),m.jsx("div",{className:"mt-8 text-center",children:m.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Don't have an account?"," ",m.jsx(Ma,{to:"/register",className:"text-primary-600 font-bold hover:underline",children:"Create Account"})]})})]})})},Cd=({label:e,value:t,onChange:r,placeholder:n="",error:l,showStrength:c=!1,required:f=!1,minLength:x,name:b})=>{const[y,w]=O.useState(!1),T=(_=>{if(!_)return{score:0,label:"",color:"bg-slate-200"};let j=0;return _.length>=6&&j++,_.length>=10&&j++,/[A-Z]/.test(_)&&j++,/[0-9]/.test(_)&&j++,/[^A-Za-z0-9]/.test(_)&&j++,_.length<6?{score:1,label:"Too Short",color:"bg-red-500"}:j<3?{score:2,label:"Weak",color:"bg-orange-500"}:j<4?{score:3,label:"Medium",color:"bg-yellow-500"}:{score:4,label:"Strong",color:"bg-emerald-500"}})(t);return m.jsxs("div",{className:"w-full space-y-1",children:[e&&m.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 ml-1",children:e}),m.jsxs("div",{className:"relative group",children:[m.jsx(Wl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-primary-500 transition-colors"}),m.jsx("input",{name:b,type:y?"text":"password",value:t,onChange:_=>r(_.target.value),placeholder:n,required:f,minLength:x,className:`w-full pl-12 pr-12 py-3.5 bg-slate-50 dark:bg-slate-700/50 border rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500/50 text-slate-900 dark:text-white transition-all placeholder:text-slate-400 ${l?"border-red-500 focus:border-red-500":"border-slate-200 dark:border-slate-600 focus:border-primary-500"}`}),m.jsx("button",{type:"button",onClick:()=>w(!y),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 focus:outline-none p-1 rounded-full hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",tabIndex:-1,children:y?m.jsx(mm,{className:"w-5 h-5"}):m.jsx(qd,{className:"w-5 h-5"})})]}),c&&t.length>0&&m.jsxs("div",{className:"flex items-center gap-2 mt-1.5 ml-1",children:[m.jsx("div",{className:"flex-1 h-1.5 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:m.jsx("div",{className:`h-full transition-all duration-300 ${T.color}`,style:{width:`${T.score/4*100}%`}})}),m.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400",children:T.label})]}),l&&m.jsx("p",{className:"text-xs text-red-500 font-bold ml-1 animate-in slide-in-from-top-1",children:l})]})},Y$=()=>{const{register:e,verifyAccount:t}=Ln(),{showAlert:r}=Ql(),n=xa(),[l,c]=O.useState(1),[f,x]=O.useState(""),[b,y]=O.useState(""),[w,A]=O.useState(""),[T,_]=O.useState(""),[j,M]=O.useState(""),[k,R]=O.useState(""),[F,U]=O.useState({}),[V,q]=O.useState(!1),[Y,L]=O.useState(!1);O.useEffect(()=>{const Ce={};let oe=!0;w&&w.length<6&&(Ce.password="Password must be at least 6 characters",oe=!1),T&&w!==T&&(Ce.confirm="Passwords do not match",oe=!1),(!f||!b||!w||!T)&&(oe=!1),U(Ce),L(oe)},[f,b,w,T]);const J=async Ce=>{if(Ce.preventDefault(),!Y)return;R(""),q(!0);const oe=await e(f,b,w);oe.success?c(2):R(oe.message||"Registration failed"),q(!1)},K=async Ce=>{Ce.preventDefault(),R(""),q(!0);const oe=await t(b,j);oe.success?(r({title:"Success",message:"Account verified successfully! Logging you in...",type:"success"}),n("/")):R(oe.message||"Verification failed"),q(!1)};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900 transition-colors duration-300",children:m.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-3xl shadow-xl border border-slate-200 dark:border-slate-700 p-8 mx-4",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-emerald-500/30",children:l===1?m.jsx(oT,{className:"w-7 h-7 text-white"}):m.jsx(gD,{className:"w-7 h-7 text-white"})}),m.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight",children:l===1?"Create Account":"Verify Email"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:l===1?"Start your 14-day free trial":`Enter the OTP sent to ${b}`})]}),k&&m.jsxs("div",{className:"mb-6 p-4 text-sm text-red-600 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900/30 rounded-xl flex items-center gap-2 animate-shake",children:[m.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),k]}),l===1&&m.jsxs("form",{onSubmit:J,className:"space-y-5",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 ml-1",children:"Full Name"}),m.jsx("input",{type:"text",placeholder:"John Doe",value:f,onChange:Ce=>x(Ce.target.value),required:!0,className:"w-full px-4 py-3.5 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500 text-slate-900 dark:text-white transition-all placeholder:text-slate-400"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 ml-1",children:"Email Address"}),m.jsx("input",{type:"email",placeholder:"you@company.com",value:b,onChange:Ce=>y(Ce.target.value),required:!0,className:"w-full px-4 py-3.5 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500 text-slate-900 dark:text-white transition-all placeholder:text-slate-400"})]}),m.jsx(Cd,{label:"Password",value:w,onChange:A,required:!0,minLength:6,showStrength:!0,error:F.password}),m.jsx(Cd,{label:"Confirm Password",value:T,onChange:_,required:!0,minLength:6,placeholder:"Confirm password",error:F.confirm}),m.jsx("button",{type:"submit",disabled:V||!Y,className:`w-full py-4 bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white font-bold rounded-xl transition-all shadow-lg shadow-emerald-500/30 flex items-center justify-center gap-2 transform active:scale-[0.98] 
                ${V||!Y?"opacity-70 cursor-not-allowed grayscale":""}`,children:V?"Creating Account...":m.jsxs(m.Fragment,{children:["Get Started ",m.jsx(K4,{className:"w-5 h-5"})]})})]}),l===2&&m.jsxs("form",{onSubmit:K,className:"space-y-6",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 ml-1",children:"One-Time Password (OTP)"}),m.jsxs("div",{className:"relative group",children:[m.jsx(mv,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-emerald-500 transition-colors"}),m.jsx("input",{type:"text",placeholder:"Enter 6-digit code",value:j,onChange:Ce=>M(Ce.target.value),required:!0,maxLength:6,className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500 text-slate-900 dark:text-white transition-all placeholder:text-slate-400 tracking-widest text-lg"})]}),m.jsx("p",{className:"text-xs text-slate-500 mt-1 ml-1",children:"Check your inbox or spam folder."})]}),m.jsx("button",{type:"submit",disabled:V,className:`w-full py-4 bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white font-bold rounded-xl transition-all shadow-lg shadow-emerald-500/30 flex items-center justify-center gap-2 transform active:scale-[0.98] ${V?"opacity-70 cursor-wait":""}`,children:V?"Verifying...":"Verify Email"}),m.jsx("button",{type:"button",onClick:()=>c(1),className:"w-full text-center text-sm text-slate-500 hover:text-slate-700 dark:hover:text-slate-300",children:"Change Email"})]}),m.jsxs("p",{className:"mt-8 text-center text-sm text-slate-500 dark:text-slate-400",children:["Already have an account?"," ",m.jsx(Ma,{to:"/login",className:"text-emerald-600 font-bold hover:underline",children:"Sign In"})]})]})})},q$=()=>{const{initiateForgotPassword:e,completeForgotPassword:t}=Ln();xa();const[r,n]=O.useState(1),[l,c]=O.useState(""),[f,x]=O.useState(""),[b,y]=O.useState(""),[w,A]=O.useState(!1),[T,_]=O.useState(""),j=async k=>{k.preventDefault(),A(!0),_("");const R=await e(l);R.success?n(2):_(R.message),A(!1)},M=async k=>{k.preventDefault(),A(!0),_("");const R=await t(l,f,b);R.success?n(3):_(R.message),A(!1)};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900 transition-colors duration-300",children:m.jsx("div",{className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-3xl shadow-xl border border-slate-200 dark:border-slate-700 p-8 mx-4",children:r===3?m.jsxs("div",{className:"text-center py-8",children:[m.jsx("div",{className:"w-20 h-20 bg-emerald-100 dark:bg-emerald-900/30 rounded-full flex items-center justify-center mx-auto mb-6",children:m.jsx(Bo,{className:"w-10 h-10 text-emerald-600"})}),m.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2",children:"Password Reset!"}),m.jsx("p",{className:"text-slate-500 mb-8",children:"Your password has been updated securely."}),m.jsx(Ma,{to:"/login",className:"block w-full py-3 bg-emerald-600 hover:bg-emerald-700 text-white font-bold rounded-xl transition-all shadow-lg",children:"Back to Login"})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-indigo-500 to-violet-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-indigo-500/30",children:m.jsx(Fk,{className:"w-7 h-7 text-white"})}),m.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight",children:"Reset Password"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:r===1?"Enter email to receive OTP":"Create new password"})]}),T&&m.jsxs("div",{className:"mb-6 p-4 text-sm text-red-600 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900/30 rounded-xl flex items-center gap-2 animate-shake",children:[m.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),T]}),r===1&&m.jsxs("form",{onSubmit:j,className:"space-y-6",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 ml-1",children:"Email Address"}),m.jsxs("div",{className:"relative group",children:[m.jsx(mv,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-indigo-500 transition-colors"}),m.jsx("input",{type:"email",placeholder:"you@company.com",value:l,onChange:k=>c(k.target.value),required:!0,className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 text-slate-900 dark:text-white transition-all placeholder:text-slate-400"})]})]}),m.jsx("button",{type:"submit",disabled:w,className:`w-full py-4 bg-gradient-to-r from-indigo-600 to-violet-600 hover:from-indigo-700 hover:to-violet-700 text-white font-bold rounded-xl transition-all shadow-lg shadow-indigo-600/30 flex items-center justify-center gap-2 transform active:scale-[0.98] ${w?"opacity-70 cursor-wait":""}`,children:w?"Sending...":"Send OTP"})]}),r===2&&m.jsxs("form",{onSubmit:M,className:"space-y-5",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 ml-1",children:"OTP Code"}),m.jsx("input",{type:"text",placeholder:"Enter 6-digit OTP",value:f,onChange:k=>x(k.target.value),required:!0,maxLength:6,className:"w-full px-4 py-3.5 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 text-slate-900 dark:text-white transition-all placeholder:text-slate-400 tracking-widest text-center text-lg"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 ml-1",children:"New Password"}),m.jsxs("div",{className:"relative group",children:[m.jsx(Wl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-indigo-500 transition-colors"}),m.jsx("input",{type:"password",placeholder:"Min 6 chars",value:b,onChange:k=>y(k.target.value),required:!0,minLength:6,className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 text-slate-900 dark:text-white transition-all placeholder:text-slate-400"})]})]}),m.jsx("button",{type:"submit",disabled:w,className:`w-full py-4 bg-gradient-to-r from-indigo-600 to-violet-600 hover:from-indigo-700 hover:to-violet-700 text-white font-bold rounded-xl transition-all shadow-lg shadow-indigo-600/30 flex items-center justify-center gap-2 transform active:scale-[0.98] ${w?"opacity-70 cursor-wait":""}`,children:w?"Updating...":"Update Password"})]}),m.jsx("div",{className:"mt-8 text-center",children:m.jsx(Ma,{to:"/login",className:"text-sm font-bold text-indigo-600 hover:text-indigo-500 dark:text-indigo-400",children:"Return to Sign In"})})]})})})},X$=()=>{var L,J,K,Ce,oe;const{user:e,businessProfile:t,setBusinessProfile:r,changePassword:n,logout:l}=Ln(),{showAlert:c}=Ql(),f=xa(),[x,b]=O.useState(t),[y,w]=O.useState(!1),[A,T]=O.useState({old:"",new:"",confirm:""}),[_,j]=O.useState(""),[M,k]=O.useState({});O.useEffect(()=>{b(t)},[t]);const R=ee=>{const{name:ce,value:fe,type:Z,checked:te}=ee.target;b(ce==="stockMode"?ie=>({...ie,stockSettings:{...ie.stockSettings,mode:fe}}):ce==="lowStock"?ie=>({...ie,stockSettings:{...ie.stockSettings,lowStockThreshold:Number(fe)}}):Z==="checkbox"?ie=>({...ie,[ce]:te}):ie=>({...ie,[ce]:fe})),w(!0)},F=()=>{r(x),w(!1),c({title:"Profile Updated",message:"Your business profile settings have been saved successfully.",type:"success"})};O.useEffect(()=>{const ee={};A.new&&A.new.length<6&&(ee.new="Min 6 characters required"),A.confirm&&A.new!==A.confirm&&(ee.confirm="Passwords do not match"),k(ee)},[A.new,A.confirm]);const U=async ee=>{if(ee.preventDefault(),Object.keys(M).length>0)return;if(!A.old||!A.new||!A.confirm){j("All fields are required");return}const ce=await n(A.old,A.new);ce.success?(c({title:"Password Changed",message:"Password changed successfully. Please login again.",type:"success"}),l(),f("/login")):j(ce.message)},q=(()=>{if(t.plan===Er.FREE&&!t.subscriptionExpiry)return{label:"Free Forever",color:"bg-slate-500",active:!0};const ee=new Date,fe=(t.subscriptionExpiry?new Date(t.subscriptionExpiry):new Date(0)).getTime()-ee.getTime(),Z=Math.ceil(fe/(1e3*60*60*24));return Z<0?{label:"Expired",color:"bg-red-500",active:!1,days:0}:Z<=7?{label:"Expiring Soon",color:"bg-orange-500",active:!0,days:Z}:{label:"Active",color:"bg-emerald-500",active:!0,days:Z}})(),Y=t.plan===Er.FREE&&!q.active&&t.subscriptionExpiry?"Premium (Expired)":t.plan;return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"sticky top-0 z-20 bg-slate-50 dark:bg-slate-900 px-3 md:px-4 lg:px-10 pt-3 md:pt-4 lg:pt-10 pb-3 md:pb-4 flex justify-between items-center border-b border-slate-200/50 dark:border-slate-700/50",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl md:text-2xl font-bold text-slate-900 dark:text-white",children:"Account Settings"}),m.jsx("p",{className:"text-xs md:text-base text-slate-500 dark:text-slate-400",children:"Manage your profile and subscription"})]}),y&&m.jsxs("button",{onClick:F,className:"flex items-center gap-1.5 md:gap-2 bg-primary-600 text-white px-3 md:px-6 py-1.5 md:py-2 rounded-lg md:rounded-xl font-bold shadow-lg hover:bg-primary-700 transition-all animate-bounce text-xs md:text-base",children:[m.jsx(pv,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})," Save Changes"]})]}),m.jsxs("div",{className:"px-3 md:px-4 lg:px-10 pb-10 grid grid-cols-1 lg:grid-cols-3 gap-3 md:gap-6",children:[m.jsxs("div",{className:"lg:col-span-2 space-y-3 md:space-y-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 md:p-6 rounded-xl md:rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsxs("h2",{className:"text-base md:text-lg font-bold text-slate-900 dark:text-white mb-4 md:mb-6 flex items-center gap-2",children:[m.jsx(sk,{className:"w-4 h-4 md:w-5 md:h-5 text-primary-500"})," Business Details"]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4 mb-3 md:mb-4",children:[m.jsx(It,{label:"Business Name",name:"name",value:x.name,onChange:R}),m.jsx(It,{label:"GSTIN",name:"gstin",value:x.gstin,onChange:R}),m.jsx(It,{label:"Email",name:"email",value:x.email,onChange:R}),m.jsx(It,{label:"Phone",name:"phone",value:x.phone,onChange:R})]}),m.jsx("div",{className:"mb-3 md:mb-4",children:m.jsx(Wo,{label:"State",name:"state",value:x.state,onChange:R,options:uv.map(ee=>({value:ee,label:ee}))})}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs md:text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Address"}),m.jsx("textarea",{name:"address",rows:3,className:"w-full px-3 md:px-4 py-2 md:py-2.5 rounded-lg md:rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-sm text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 transition-colors",value:x.address,onChange:R})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 md:p-6 rounded-xl md:rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsxs("h2",{className:"text-base md:text-lg font-bold text-slate-900 dark:text-white mb-4 md:mb-6 flex items-center gap-2",children:[m.jsx(zo,{className:"w-4 h-4 md:w-5 md:h-5 text-primary-500"})," Billing Preferences"]}),m.jsxs("div",{className:"flex items-center justify-between gap-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm md:text-base font-bold text-slate-900 dark:text-white",children:"Show Non-GST Content (Dashboard & Reports)"}),m.jsx("p",{className:"text-xs md:text-sm text-slate-500 dark:text-slate-400 mt-1",children:x.includeNonGstInReports?"Non-GST bills are included in dashboard revenue and reports.":"Non-GST bills are hidden from dashboard and reports."})]}),m.jsxs("label",{className:"relative inline-flex items-center cursor-pointer shrink-0",children:[m.jsx("input",{type:"checkbox",name:"includeNonGstInReports",className:"sr-only peer",checked:x.includeNonGstInReports!==!1,onChange:R}),m.jsx("div",{className:"w-9 h-5 md:w-11 md:h-6 bg-slate-200 peer-focus:outline-none rounded-full peer dark:bg-slate-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 md:after:h-5 md:after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 md:p-6 rounded-xl md:rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsxs("h2",{className:"text-base md:text-lg font-bold text-slate-900 dark:text-white mb-4 md:mb-6 flex items-center gap-2",children:[m.jsx(Xd,{className:"w-4 h-4 md:w-5 md:h-5 text-primary-500"})," Inventory Preferences"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs md:text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Stock Control Mode"}),m.jsxs("select",{name:"stockMode",value:(L=x.stockSettings)==null?void 0:L.mode,onChange:R,className:"w-full px-3 md:px-4 py-2 md:py-2.5 rounded-lg md:rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-sm text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:[m.jsx("option",{value:Wr.WARNING,children:"Warning (Recommended)"}),m.jsx("option",{value:Wr.STRICT,children:"Strict (Block Sales)"}),m.jsx("option",{value:Wr.DISABLED,children:"Disabled (No Tracking)"})]}),m.jsxs("p",{className:"text-[10px] md:text-xs text-slate-500 mt-1 md:mt-2",children:[((J=x.stockSettings)==null?void 0:J.mode)===Wr.STRICT&&"Prevents invoicing if stock is insufficient.",((K=x.stockSettings)==null?void 0:K.mode)===Wr.WARNING&&"Allows sales with negative stock but warns you.",((Ce=x.stockSettings)==null?void 0:Ce.mode)===Wr.DISABLED&&"Stock is not deducted or validated."]})]}),m.jsx(It,{label:"Low Stock Alert Threshold",type:"number",name:"lowStock",value:(oe=x.stockSettings)==null?void 0:oe.lowStockThreshold,onChange:R})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 md:p-6 rounded-xl md:rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsxs("h2",{className:"text-base md:text-lg font-bold text-slate-900 dark:text-white mb-4 md:mb-6 flex items-center gap-2",children:[m.jsx(cT,{className:"w-4 h-4 md:w-5 md:h-5 text-primary-500"})," Personal Info"]}),m.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[m.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 bg-primary-100 dark:bg-primary-900/50 rounded-full flex items-center justify-center text-lg md:text-xl font-bold text-primary-600",children:e==null?void 0:e.name.charAt(0)}),m.jsxs("div",{children:[m.jsxs("p",{className:"font-bold text-base md:text-lg text-slate-900 dark:text-white flex items-center gap-2",children:[e==null?void 0:e.name,(e==null?void 0:e.role)==="admin"&&m.jsx("span",{className:"text-[10px] md:text-xs bg-purple-100 text-purple-700 px-1.5 md:px-2 py-0.5 rounded-full uppercase",children:"Admin"})]}),m.jsx("p",{className:"text-xs md:text-base text-slate-500",children:e==null?void 0:e.email}),m.jsxs("p",{className:"text-[10px] md:text-xs text-slate-400 mt-0.5 md:mt-1",children:["Member since ",ja((e==null?void 0:e.createdAt)||"")]})]})]})]})]}),m.jsxs("div",{className:"lg:col-span-1 space-y-3 md:space-y-6",children:[m.jsxs("div",{className:"bg-slate-900 dark:bg-slate-950 text-white p-4 md:p-6 rounded-xl md:rounded-2xl shadow-xl relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 right-0 p-20 md:p-32 bg-primary-600 rounded-full blur-3xl opacity-20 -mr-16 -mt-16"}),m.jsxs("div",{className:"flex justify-between items-start mb-4 md:mb-6 relative z-10",children:[m.jsxs("h3",{className:"text-base md:text-lg font-bold flex items-center gap-2",children:[m.jsx(Od,{className:"w-4 h-4 md:w-5 md:h-5 text-yellow-400"})," Current Plan"]}),m.jsx("span",{className:`px-1.5 md:px-2 py-0.5 md:py-1 rounded text-[10px] md:text-xs font-bold text-white ${q.color}`,children:q.label})]}),m.jsxs("div",{className:"mb-4 md:mb-6 relative z-10",children:[m.jsx("p",{className:"text-xs md:text-sm text-slate-400 mb-1",children:"Plan Type"}),m.jsx("p",{className:"text-xl md:text-2xl font-bold text-white",children:Y})]}),t.subscriptionExpiry&&m.jsxs("div",{className:"space-y-2 md:space-y-3 mb-4 md:mb-6 relative z-10",children:[t.subscriptionStartDate&&m.jsxs("div",{className:"flex items-center gap-2 text-xs md:text-sm text-slate-300",children:[m.jsx($4,{className:"w-3.5 h-3.5 md:w-4 md:h-4 text-slate-500"}),m.jsxs("span",{children:["Started: ",ja(t.subscriptionStartDate)]})]}),m.jsxs("div",{className:"flex items-center gap-2 text-xs md:text-sm text-slate-300",children:[m.jsx(fv,{className:"w-3.5 h-3.5 md:w-4 md:h-4 text-slate-500"}),m.jsxs("span",{children:[q.active?"Expires:":"Expired:"," ",ja(t.subscriptionExpiry)]})]}),q.active&&q.days!==void 0&&q.days<=30&&m.jsxs("div",{className:"text-[10px] md:text-xs font-bold text-amber-400 flex items-center gap-2",children:[m.jsx(Kc,{className:"w-3 h-3"}),q.days," days remaining"]})]}),m.jsxs("button",{onClick:()=>f("/pricing"),className:`w-full py-2.5 md:py-3 font-bold rounded-lg md:rounded-xl transition-colors flex items-center justify-center gap-2 relative z-10 text-sm md:text-base ${!q.active||q.days&&q.days<=7?"bg-emerald-500 hover:bg-emerald-600 text-white shadow-lg shadow-emerald-500/30":"bg-white text-slate-900 hover:bg-slate-100"}`,children:[m.jsx(hm,{className:"w-3.5 h-3.5 md:w-4 md:h-4"}),q.active?q.days&&q.days<=7?"Renew Now":"Manage Plan":"Renew Subscription"]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 md:p-6 rounded-xl md:rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsxs("h3",{className:"text-base md:text-lg font-bold text-slate-900 dark:text-white mb-3 md:mb-4 flex items-center gap-2",children:[m.jsx(Wl,{className:"w-4 h-4 md:w-5 md:h-5 text-primary-500"})," Change Password"]}),m.jsxs("form",{onSubmit:U,className:"space-y-3 md:space-y-4",children:[m.jsx(Cd,{placeholder:"Current Password",value:A.old,onChange:ee=>T({...A,old:ee}),required:!0}),m.jsx(Cd,{placeholder:"New Password",value:A.new,onChange:ee=>T({...A,new:ee}),required:!0,minLength:6,error:M.new}),m.jsx(Cd,{placeholder:"Confirm Password",value:A.confirm,onChange:ee=>T({...A,confirm:ee}),required:!0,minLength:6,error:M.confirm}),_&&m.jsx("p",{className:"text-xs text-red-500 font-bold text-center",children:_}),m.jsx("button",{type:"submit",className:"w-full py-2 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-900 dark:text-slate-200 font-bold rounded-lg md:rounded-xl transition-colors text-xs md:text-sm",children:"Update Password"})]})]})]})]})]})},Xg=({title:e,value:t,icon:r,colorClass:n})=>m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsx("div",{className:"flex items-center justify-between mb-4",children:m.jsx("div",{className:`p-3 rounded-xl ${n} bg-opacity-10 dark:bg-opacity-20`,children:m.jsx(r,{className:`w-6 h-6 ${n.replace("bg-","text-")}`})})}),m.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium mb-1",children:e}),m.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:t})]}),W$=()=>{const{getAllUsers:e,getAdminStats:t,adminUpgradeUserPlan:r,getAdminLogs:n,user:l}=Ln(),{showAlert:c}=Ql(),f=e(),x=t(),b=n(),[y,w]=O.useState(!1),[A,T]=O.useState(null),[_,j]=O.useState({plan:Er.PREMIUM_MONTHLY,reason:""}),M=R=>{T(R),j({plan:Er.PREMIUM_MONTHLY,reason:""}),w(!0)},k=async R=>{if(R.preventDefault(),!_.reason.trim()){c({title:"Validation Error",message:"Please provide a reason for the upgrade.",type:"warning"});return}await r(A.id,_.plan,_.reason)&&(c({title:"Plan Updated",message:`Successfully updated plan for ${A.name}`,type:"success"}),w(!1))};return m.jsxs("div",{className:"animate-in fade-in duration-500",children:[m.jsxs("div",{className:"sticky top-0 z-20 bg-slate-50 dark:bg-slate-900 px-3 md:px-4 lg:px-10 pt-3 md:pt-4 lg:pt-10 pb-3 md:pb-4",children:[m.jsxs("h1",{className:"text-xl md:text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[m.jsx(iT,{className:"w-6 h-6 md:w-8 md:h-8 text-primary-600"})," Admin Dashboard"]}),m.jsx("p",{className:"text-xs md:text-base text-slate-500 dark:text-slate-400",children:"System Overview & User Management"})]}),m.jsxs("div",{className:"px-3 md:px-4 lg:px-10 pb-10 space-y-4 md:space-y-8",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-6",children:[m.jsx(Xg,{title:"Total Users",value:(x==null?void 0:x.totalUsers)||0,icon:su,colorClass:"bg-blue-500 text-blue-600"}),m.jsx(Xg,{title:"Active Subscriptions",value:(x==null?void 0:x.activeSubscriptions)||0,icon:Bo,colorClass:"bg-emerald-500 text-emerald-600"}),m.jsx(Xg,{title:"Total Revenue (Est)",value:$e((x==null?void 0:x.totalRevenue)||0),icon:uh,colorClass:"bg-indigo-500 text-indigo-600"})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl md:rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden",children:[m.jsx("div",{className:"p-4 md:p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:m.jsx("h3",{className:"text-base md:text-lg font-bold text-slate-900 dark:text-white",children:"Registered Users"})}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-3 md:px-6 py-2 md:py-4 text-[10px] md:text-xs font-bold text-slate-500 dark:text-slate-400 uppercase",children:"User"}),m.jsx("th",{className:"px-3 md:px-6 py-2 md:py-4 text-[10px] md:text-xs font-bold text-slate-500 dark:text-slate-400 uppercase",children:"Role"}),m.jsx("th",{className:"px-3 md:px-6 py-2 md:py-4 text-[10px] md:text-xs font-bold text-slate-500 dark:text-slate-400 uppercase",children:"Plan"}),m.jsx("th",{className:"px-3 md:px-6 py-2 md:py-4 text-[10px] md:text-xs font-bold text-slate-500 dark:text-slate-400 uppercase",children:"Joined On"}),m.jsx("th",{className:"px-3 md:px-6 py-2 md:py-4 text-[10px] md:text-xs font-bold text-slate-500 dark:text-slate-400 uppercase text-right",children:"Action"})]})}),m.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:f.map(R=>m.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[m.jsx("td",{className:"px-3 md:px-6 py-2 md:py-4",children:m.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[m.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center text-primary-600 font-bold text-[10px] md:text-xs",children:R.name.charAt(0).toUpperCase()}),m.jsxs("div",{children:[m.jsxs("p",{className:"text-xs md:text-sm font-bold text-slate-900 dark:text-white",children:[R.name," ",R.id===(l==null?void 0:l.id)&&"(You)"]}),m.jsx("p",{className:"text-[10px] md:text-xs text-slate-500 dark:text-slate-400",children:R.email})]})]})}),m.jsx("td",{className:"px-3 md:px-6 py-2 md:py-4",children:m.jsx("span",{className:`text-[10px] md:text-xs font-bold px-1.5 md:px-2 py-0.5 md:py-1 rounded-full uppercase ${R.role==="admin"?"bg-purple-100 text-purple-700":"bg-slate-100 text-slate-600"}`,children:R.role})}),m.jsx("td",{className:"px-3 md:px-6 py-2 md:py-4",children:m.jsx("span",{className:`text-[10px] md:text-xs font-medium ${R.plan===Er.FREE?"text-slate-500":"text-emerald-600 font-bold"}`,children:R.plan})}),m.jsx("td",{className:"px-3 md:px-6 py-2 md:py-4 text-[10px] md:text-sm text-slate-500 dark:text-slate-400",children:ja(R.createdAt)}),m.jsx("td",{className:"px-3 md:px-6 py-2 md:py-4 text-right",children:m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsxs("button",{onClick:()=>M(R),className:"flex items-center gap-1 text-primary-600 hover:text-primary-800 text-[10px] md:text-xs font-bold px-1.5 md:px-2 py-0.5 md:py-1 bg-primary-50 rounded hover:bg-primary-100 transition-colors",children:[m.jsx(gk,{className:"w-3 h-3"})," Upgrade"]}),R.role!=="admin"&&m.jsx("button",{className:"text-red-500 hover:text-red-700 text-[10px] md:text-xs font-bold hover:underline px-1.5 md:px-2 py-0.5 md:py-1",children:"Block"})]})})]},R.id))})]})})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl md:rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden",children:[m.jsx("div",{className:"p-4 md:p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:m.jsxs("h3",{className:"text-base md:text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[m.jsx(rT,{className:"w-4 h-4 md:w-5 md:h-5 text-slate-400"})," Audit Logs"]})}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-3 md:px-6 py-2 md:py-4 text-[10px] md:text-xs font-bold text-slate-500 dark:text-slate-400 uppercase",children:"Timestamp"}),m.jsx("th",{className:"px-3 md:px-6 py-2 md:py-4 text-[10px] md:text-xs font-bold text-slate-500 dark:text-slate-400 uppercase",children:"Admin"}),m.jsx("th",{className:"px-3 md:px-6 py-2 md:py-4 text-[10px] md:text-xs font-bold text-slate-500 dark:text-slate-400 uppercase",children:"Action"}),m.jsx("th",{className:"px-3 md:px-6 py-2 md:py-4 text-[10px] md:text-xs font-bold text-slate-500 dark:text-slate-400 uppercase",children:"Target User"}),m.jsx("th",{className:"px-3 md:px-6 py-2 md:py-4 text-[10px] md:text-xs font-bold text-slate-500 dark:text-slate-400 uppercase",children:"Details"})]})}),m.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:b.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:5,className:"text-center py-4 text-slate-400 text-xs md:text-sm",children:"No activity logs found."})}):b.map(R=>m.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[m.jsx("td",{className:"px-3 md:px-6 py-2 md:py-4 text-[10px] md:text-xs text-slate-500 font-mono",children:new Date(R.timestamp).toLocaleString()}),m.jsx("td",{className:"px-3 md:px-6 py-2 md:py-4 text-[10px] md:text-sm font-medium text-slate-900 dark:text-white",children:R.adminName}),m.jsx("td",{className:"px-3 md:px-6 py-2 md:py-4",children:m.jsx("span",{className:"text-[10px] md:text-xs bg-blue-100 text-blue-700 px-1.5 md:px-2 py-0.5 md:py-1 rounded font-bold",children:R.action})}),m.jsx("td",{className:"px-3 md:px-6 py-2 md:py-4 text-[10px] md:text-sm text-slate-700 dark:text-slate-300",children:R.targetUserName}),m.jsxs("td",{className:"px-3 md:px-6 py-2 md:py-4 text-[10px] md:text-sm text-slate-500",children:[m.jsx("span",{className:"font-semibold",children:R.newPlan}),m.jsx("br",{}),m.jsxs("span",{className:"text-[10px] md:text-xs italic",children:["Reason: ",R.reason]})]})]},R.id))})]})})]})]}),y&&A&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-xl animate-in zoom-in-95 duration-200",children:[m.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Manual Plan Upgrade"}),m.jsx("button",{onClick:()=>w(!1),className:"text-slate-400 hover:text-red-500",children:m.jsx(qs,{className:"w-5 h-5"})})]}),m.jsxs("form",{onSubmit:k,className:"p-6 space-y-4",children:[m.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-xl mb-4",children:[m.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold",children:"Target User"}),m.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:A.name}),m.jsx("p",{className:"text-sm text-slate-500",children:A.email}),m.jsxs("p",{className:"text-xs mt-2 text-slate-500",children:["Current Plan: ",m.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300",children:A.plan})]})]}),m.jsx(Wo,{label:"New Plan Type",value:_.plan,onChange:R=>j({..._,plan:R.target.value}),options:[{value:Er.FREE,label:"Free Plan"},{value:Er.PREMIUM_MONTHLY,label:"Premium Monthly"},{value:Er.PREMIUM_YEARLY,label:"Premium Yearly"}]}),m.jsxs("div",{className:"space-y-1.5",children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Reason for Upgrade *"}),m.jsx("textarea",{required:!0,rows:3,value:_.reason,onChange:R=>j({..._,reason:R.target.value}),placeholder:"e.g. Payment received via Bank Transfer, Compensatory upgrade, etc.",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),m.jsx("div",{className:"pt-2",children:m.jsxs("button",{type:"submit",className:"w-full py-3 bg-emerald-600 hover:bg-emerald-700 text-white font-bold rounded-xl shadow-lg shadow-emerald-600/20 transition-all flex items-center justify-center gap-2",children:[m.jsx(Bo,{className:"w-5 h-5"})," Confirm Upgrade"]})})]})]})})]})},K$=()=>{const{workers:e,addWorker:t,updateWorker:r,deleteWorker:n,user:l,businessProfile:c,attendanceRecords:f,bulkMarkAttendance:x}=Ln(),{showAlert:b,showConfirm:y}=Ql(),w=xa(),[A,T]=O.useState("list"),[_,j]=O.useState(""),[M,k]=O.useState(!1),[R,F]=O.useState(!1),[U,V]=O.useState(null),[q,Y]=O.useState(new Date().toISOString().split("T")[0]),[L,J]=O.useState({}),[K,Ce]=O.useState(new Set);O.useEffect(()=>{if(A==="bulk"){const Q=e.filter(me=>me.status==="Active"),Pe={},Ze=new Set;Q.forEach(me=>{Ze.add(me.id);const nt=f.find(st=>st.workerId===me.id&&st.date===q);Pe[me.id]=nt?nt.status:"Present"}),J(Pe),Ce(Ze)}},[A,q,e,f]);const oe=()=>{let Q=0,Pe=0,Ze=0;return Object.values(L).forEach(me=>{me==="Present"?Q++:me==="Absent"?Pe++:Ze++}),{present:Q,absent:Pe,half:Ze}},ee=Q=>{const Pe={...L};K.forEach(Ze=>{Pe[Ze]=Q}),J(Pe)},ce=Q=>{const Pe=new Set(K);Pe.has(Q)?Pe.delete(Q):Pe.add(Q),Ce(Pe)},fe=()=>{const Q=[];K.forEach(Pe=>{Q.push({id:aa(),workerId:Pe,date:q,status:L[Pe],note:""})}),x(Q),b({title:"Success",message:"Attendance saved successfully",type:"success"})},[Z,te]=O.useState({name:"",phone:"",address:"",role:"",baseSalary:0,joiningDate:new Date().toISOString().split("T")[0],status:"Active"}),[ie,ne]=O.useState({}),pe=e.filter(Q=>Q.name.toLowerCase().includes(_.toLowerCase())||Q.phone.includes(_)||Q.role.toLowerCase().includes(_.toLowerCase())),Oe=()=>{te({name:"",phone:"",address:"",role:"",baseSalary:0,joiningDate:new Date().toISOString().split("T")[0],status:"Active"}),V(null),ne({})},$=()=>{if(!U&&c.plan===Er.FREE&&e.filter(Q=>Q.status==="Active").length>=2){F(!0);return}Oe(),k(!0)},de=Q=>{te(Q),V(Q.id),ne({}),k(!0)},Te=Q=>{y({title:"Delete Worker?",message:"Are you sure? This will remove all history associated with this worker.",type:"warning",confirmText:"Yes, Delete",onConfirm:()=>n(Q)})},ke=()=>{var Pe,Ze,me;const Q={};return(Pe=Z.name)!=null&&Pe.trim()||(Q.name="Name is required"),(Ze=Z.phone)!=null&&Ze.trim()||(Q.phone="Phone is required"),(me=Z.role)!=null&&me.trim()||(Q.role="Role is required"),(Z.baseSalary===void 0||Z.baseSalary<0)&&(Q.baseSalary="Valid salary is required"),ne(Q),Object.keys(Q).length===0},Qe=async Q=>{var Pe;if(Q.preventDefault(),!!ke())if(U)r({...Z,id:U}),k(!1);else{const Ze={id:aa(),userId:l.id,name:Z.name,phone:Z.phone,address:Z.address||"",role:Z.role,baseSalary:Number(Z.baseSalary),joiningDate:Z.joiningDate,status:Z.status,advanceBalance:0},me=await t(Ze);me.success?k(!1):(Pe=me.message)!=null&&Pe.includes("Plan limit")?F(!0):b({title:"Error",message:me.message||"Failed",type:"error"})}};return m.jsxs("div",{children:[m.jsxs("div",{className:"sticky top-0 z-20 bg-slate-50 dark:bg-slate-900 px-3 md:px-4 lg:px-10 pt-3 md:pt-4 lg:pt-10 pb-3 md:pb-4",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-3 md:gap-4 mb-3 md:mb-4",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl md:text-2xl font-bold text-slate-900 dark:text-white",children:"Workers"}),m.jsx("p",{className:"text-xs md:text-base text-slate-500 dark:text-slate-400",children:"Manage staff, salaries and attendance"})]}),m.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-lg md:rounded-xl w-fit self-start sm:self-center",children:[m.jsxs("button",{onClick:()=>T("list"),className:`flex items-center gap-1.5 md:gap-2 px-3 md:px-4 py-1.5 md:py-2 rounded-md md:rounded-lg text-xs md:text-sm font-bold transition-all ${A==="list"?"bg-white dark:bg-slate-700 text-primary-600 dark:text-primary-400 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:[m.jsx(su,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})," Worker List"]}),m.jsxs("button",{onClick:()=>T("bulk"),className:`flex items-center gap-1.5 md:gap-2 px-3 md:px-4 py-1.5 md:py-2 rounded-md md:rounded-lg text-xs md:text-sm font-bold transition-all ${A==="bulk"?"bg-white dark:bg-slate-700 text-primary-600 dark:text-primary-400 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:[m.jsx(Ak,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})," Bulk Attendance"]})]}),m.jsx("div",{className:"flex items-center gap-2 min-h-[40px] w-full sm:w-auto justify-end",children:A==="list"?m.jsxs("button",{onClick:$,className:"bg-primary-600 hover:bg-primary-700 text-white px-3 md:px-5 py-2 md:py-2.5 rounded-lg md:rounded-xl text-sm font-medium flex items-center gap-1.5 md:gap-2 shadow-lg shadow-primary-600/30 transition-all w-full sm:w-auto justify-center whitespace-nowrap",children:[m.jsx(Hs,{className:"w-4 h-4 md:w-5 md:h-5"}),"Add Worker"]}):m.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-1 sm:pb-0",children:[m.jsx("button",{onClick:()=>ee("Present"),className:"px-3 py-2 bg-emerald-50 text-emerald-700 border border-emerald-200 rounded-xl text-xs font-bold hover:bg-emerald-100 transition-colors whitespace-nowrap",children:"Mark All Present"}),m.jsx("button",{onClick:()=>ee("Absent"),className:"px-3 py-2 bg-red-50 text-red-700 border border-red-200 rounded-xl text-xs font-bold hover:bg-red-100 transition-colors whitespace-nowrap",children:"Mark All Absent"}),m.jsx("button",{onClick:()=>ee("Half Day"),className:"px-3 py-2 bg-yellow-50 text-yellow-700 border border-yellow-200 rounded-xl text-xs font-bold hover:bg-yellow-100 transition-colors whitespace-nowrap",children:"Mark All Half Day"})]})})]}),A==="list"&&m.jsxs("div",{className:"relative",children:[m.jsx(Wd,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-4 h-4 md:w-5 md:h-5"}),m.jsx("input",{type:"text",placeholder:"Search worker by name, role or phone...",value:_,onChange:Q=>j(Q.target.value),className:"w-full pl-9 md:pl-10 pr-4 py-2.5 md:py-3 rounded-lg md:rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-sm text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),m.jsx("div",{className:"px-3 md:px-4 lg:px-10 pb-10 space-y-4 md:space-y-6",children:A==="list"?m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3 md:gap-6",children:[pe.map(Q=>m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 md:p-5 rounded-xl md:rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-md transition-shadow group relative",children:[m.jsxs("div",{className:"flex justify-between items-start mb-3 md:mb-4",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-full flex items-center justify-center font-bold text-base md:text-lg",children:Q.name.charAt(0)}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-base md:text-lg text-slate-900 dark:text-white leading-tight",children:Q.name}),m.jsx("p",{className:"text-xs md:text-sm text-slate-500 dark:text-slate-400",children:Q.role})]})]}),m.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${Q.status==="Active"?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-600"}`,children:Q.status})]}),m.jsxs("div",{className:"space-y-2 mb-4",children:[m.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-300",children:[m.jsx(aT,{className:"w-4 h-4 text-slate-400"})," ",Q.phone]}),m.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-300",children:[m.jsx(ch,{className:"w-4 h-4 text-slate-400"})," ",$e(Q.baseSalary)," / month"]}),Q.advanceBalance>0&&m.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-orange-600",children:[m.jsx("span",{className:"w-4 h-4 flex items-center justify-center rounded-full bg-orange-100 text-[10px]",children:""}),"Advance: ",$e(Q.advanceBalance)]})]}),m.jsxs("div",{className:"flex gap-2 pt-3 md:pt-4 border-t border-slate-100 dark:border-slate-700",children:[m.jsxs("button",{onClick:()=>w(`/workers/${Q.id}`),className:"flex-1 flex items-center justify-center gap-1.5 md:gap-2 py-1.5 md:py-2 bg-slate-50 dark:bg-slate-700 hover:bg-slate-100 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 rounded-lg text-xs md:text-sm font-bold transition-colors",children:[m.jsx(qd,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})," View Details"]}),m.jsx("button",{onClick:()=>de(Q),className:"p-1.5 md:p-2 text-slate-400 hover:text-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded-lg transition-colors",children:m.jsx(pm,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})}),m.jsx("button",{onClick:()=>Te(Q.id),className:"p-1.5 md:p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",children:m.jsx(ko,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})})]})]},Q.id)),pe.length===0&&m.jsxs("div",{className:"text-center py-20 bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 border-dashed col-span-full",children:[m.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx(ch,{className:"w-8 h-8 text-slate-400"})}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"No workers found."}),m.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Add your staff to manage salaries and attendance."})]})]}):m.jsx("div",{className:"space-y-6 animate-in fade-in duration-300",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm p-6",children:[m.jsx("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6 mb-6",children:m.jsxs("div",{className:"w-full md:w-auto",children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Select Date"}),m.jsx(It,{type:"date",value:q,onChange:Q=>Y(Q.target.value),className:"!w-full md:!w-64"})]})}),m.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6 text-center",children:[m.jsxs("div",{className:"p-3 bg-emerald-50 dark:bg-emerald-900/10 rounded-xl border border-emerald-100 dark:border-emerald-900/30",children:[m.jsx("span",{className:"text-emerald-700 dark:text-emerald-400 font-bold block text-xl",children:oe().present}),m.jsx("span",{className:"text-xs text-emerald-600 dark:text-emerald-500 uppercase font-bold",children:"Present"})]}),m.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/10 rounded-xl border border-red-100 dark:border-red-900/30",children:[m.jsx("span",{className:"text-red-700 dark:text-red-400 font-bold block text-xl",children:oe().absent}),m.jsx("span",{className:"text-xs text-red-600 dark:text-red-500 uppercase font-bold",children:"Absent"})]}),m.jsxs("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/10 rounded-xl border border-yellow-100 dark:border-yellow-900/30",children:[m.jsx("span",{className:"text-yellow-700 dark:text-yellow-400 font-bold block text-xl",children:oe().half}),m.jsx("span",{className:"text-xs text-yellow-600 dark:text-yellow-500 uppercase font-bold",children:"Half Day"})]})]}),m.jsx("div",{className:"overflow-x-auto rounded-xl border border-slate-200 dark:border-slate-700",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50 text-xs font-bold text-slate-500 dark:text-slate-400 uppercase",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-4 w-12 text-center",children:"Select"}),m.jsx("th",{className:"px-6 py-4",children:"Worker Name"}),m.jsx("th",{className:"px-6 py-4",children:"Status"})]})}),m.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700 text-sm",children:[e.filter(Q=>Q.status==="Active").map(Q=>m.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[m.jsx("td",{className:"px-6 py-4 text-center",children:m.jsx("button",{onClick:()=>ce(Q.id),className:"text-primary-600 hover:text-primary-700 transition-colors",children:K.has(Q.id)?m.jsx(sT,{className:"w-5 h-5"}):m.jsx(lT,{className:"w-5 h-5 text-slate-300"})})}),m.jsxs("td",{className:"px-6 py-4 font-medium text-slate-900 dark:text-white",children:[Q.name," ",m.jsxs("span",{className:"text-slate-400 font-normal text-xs ml-1",children:["(",Q.role,")"]})]}),m.jsx("td",{className:"px-6 py-4",children:m.jsxs("select",{value:L[Q.id]||"Present",onChange:Pe=>J({...L,[Q.id]:Pe.target.value}),className:"w-full md:w-40 px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[m.jsx("option",{value:"Present",children:"Present"}),m.jsx("option",{value:"Absent",children:"Absent"}),m.jsx("option",{value:"Half Day",children:"Half Day"})]})})]},Q.id)),e.filter(Q=>Q.status==="Active").length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:3,className:"px-6 py-10 text-center text-slate-400",children:"No active workers found."})})]})]})}),m.jsx("div",{className:"mt-6 flex justify-end",children:m.jsxs("button",{onClick:fe,className:"flex items-center gap-2 px-6 py-3 bg-primary-600 text-white font-bold rounded-xl shadow-lg hover:bg-primary-700 transition-all hover:-translate-y-0.5",children:[m.jsx(pv,{className:"w-5 h-5"})," Save Attendance for ",ja(q)]})})]})})}),M&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-lg shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[m.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:U?"Edit Worker":"Add New Worker"}),m.jsx("button",{onClick:()=>k(!1),className:"text-slate-400 hover:text-red-500",children:m.jsx(qs,{className:"w-5 h-5"})})]}),m.jsxs("form",{onSubmit:Qe,className:"p-6 space-y-4",children:[m.jsx(It,{label:"Full Name *",value:Z.name,onChange:Q=>te({...Z,name:Q.target.value}),error:ie.name}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx(It,{label:"Phone Number *",type:"tel",value:Z.phone,onChange:Q=>te({...Z,phone:Q.target.value}),error:ie.phone}),m.jsx(It,{label:"Role / Position *",placeholder:"e.g. Driver",value:Z.role,onChange:Q=>te({...Z,role:Q.target.value}),error:ie.role})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx(It,{label:"Monthly Salary () *",type:"number",value:Z.baseSalary,onChange:Q=>te({...Z,baseSalary:Number(Q.target.value)}),error:ie.baseSalary}),m.jsx(It,{label:"Joining Date",type:"date",value:Z.joiningDate,onChange:Q=>te({...Z,joiningDate:Q.target.value})})]}),m.jsx(It,{label:"Address",value:Z.address,onChange:Q=>te({...Z,address:Q.target.value})}),m.jsx(Wo,{label:"Status",value:Z.status,onChange:Q=>te({...Z,status:Q.target.value}),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]}),m.jsx("button",{type:"submit",className:"w-full py-3 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-xl mt-4",children:U?"Update Worker":"Save Worker"})]})]})}),R&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-2xl text-center p-8",children:[m.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-amber-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-orange-500/30",children:m.jsx(Od,{className:"w-8 h-8 text-white"})}),m.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2",children:"Upgrade Required"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Free Plan allows only 2 workers. Upgrade to Premium to manage unlimited staff."}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("button",{onClick:()=>w("/pricing"),className:"w-full py-3 bg-gradient-to-r from-amber-400 to-orange-500 text-white font-bold rounded-xl shadow-lg hover:shadow-orange-500/20 transition-all",children:"View Plans"}),m.jsx("button",{onClick:()=>F(!1),className:"w-full py-3 text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 font-bold",children:"Cancel"})]})]})})]})},Z$=()=>{const{id:e}=av(),t=xa(),{workers:r,salaryRecords:n,advanceRecords:l,attendanceRecords:c,addSalaryRecord:f,addAdvanceRecord:x,markAttendance:b}=Ln(),[y,w]=O.useState("salary"),A=r.find(ce=>ce.id===e),[T,_]=O.useState({amount:0,month:new Date().toISOString().slice(0,7),paymentDate:new Date().toISOString().split("T")[0],status:"Paid",note:""}),[j,M]=O.useState({amount:0,type:"GIVEN",note:""}),[k,R]=O.useState(new Date().toISOString().split("T")[0]),[F,U]=O.useState("Present");if(!A)return m.jsx("div",{className:"p-10 text-center text-slate-500",children:"Worker not found"});const V=n.filter(ce=>ce.workerId===A.id).sort((ce,fe)=>fe.month.localeCompare(ce.month)),q=l.filter(ce=>ce.workerId===A.id).sort((ce,fe)=>new Date(fe.date).getTime()-new Date(ce.date).getTime()),Y=c.filter(ce=>ce.workerId===A.id).sort((ce,fe)=>new Date(fe.date).getTime()-new Date(ce.date).getTime()),L=Y.filter(ce=>ce.status==="Present").length,J=Y.filter(ce=>ce.status==="Absent").length,K=Y.filter(ce=>ce.status==="Half Day").length,Ce=ce=>{ce.preventDefault(),!(!T.amount||!T.month)&&(f({id:aa(),workerId:A.id,month:T.month,amount:Number(T.amount),status:T.status,paymentDate:T.paymentDate,note:T.note}),_({...T,amount:0,note:""}))},oe=ce=>{ce.preventDefault(),j.amount&&(x({id:aa(),workerId:A.id,type:j.type,amount:Number(j.amount),date:new Date().toISOString(),note:j.note}),M({...j,amount:0,note:""}))},ee=()=>{b({id:aa(),workerId:A.id,date:k,status:F,note:""})};return m.jsxs("div",{className:"animate-in fade-in duration-300",children:[m.jsxs("div",{className:"sticky top-0 z-20 bg-slate-50 dark:bg-slate-900 px-4 lg:px-10 pt-4 lg:pt-10 pb-4",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[m.jsx("button",{onClick:()=>t("/workers"),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-colors",children:m.jsx(dv,{className:"w-5 h-5 text-slate-500"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:A.name}),m.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:[A.role,"  ",A.phone]})]}),m.jsxs("div",{className:"ml-auto flex items-center gap-3",children:[m.jsxs("div",{className:"px-4 py-2 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[m.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold",children:"Salary"}),m.jsx("p",{className:"text-lg font-bold text-slate-900 dark:text-white",children:$e(A.baseSalary)})]}),m.jsxs("div",{className:"px-4 py-2 bg-orange-50 dark:bg-orange-900/20 rounded-xl border border-orange-100 dark:border-orange-900/30 shadow-sm",children:[m.jsx("p",{className:"text-xs text-orange-600 uppercase font-bold",children:"Adv. Balance"}),m.jsx("p",{className:"text-lg font-bold text-orange-700 dark:text-orange-400",children:$e(A.advanceBalance)})]})]})]}),m.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-700 gap-6",children:[m.jsx("button",{onClick:()=>w("salary"),className:`pb-3 text-sm font-bold transition-colors border-b-2 ${y==="salary"?"border-primary-600 text-primary-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:"Salary History"}),m.jsx("button",{onClick:()=>w("advance"),className:`pb-3 text-sm font-bold transition-colors border-b-2 ${y==="advance"?"border-primary-600 text-primary-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:"Advance Management"}),m.jsx("button",{onClick:()=>w("attendance"),className:`pb-3 text-sm font-bold transition-colors border-b-2 ${y==="attendance"?"border-primary-600 text-primary-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:"Attendance"})]})]}),m.jsxs("div",{className:"px-4 lg:px-10 pb-10 mt-6 space-y-6",children:[y==="salary"&&m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden",children:[m.jsx("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 font-bold text-slate-700 dark:text-slate-300",children:"Payment History"}),m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50 text-xs text-slate-500 uppercase",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-3",children:"Month"}),m.jsx("th",{className:"px-4 py-3",children:"Date"}),m.jsx("th",{className:"px-4 py-3",children:"Amount"}),m.jsx("th",{className:"px-4 py-3",children:"Status"})]})}),m.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700 text-sm",children:[V.map(ce=>m.jsxs("tr",{children:[m.jsx("td",{className:"px-4 py-3 font-medium",children:ce.month}),m.jsx("td",{className:"px-4 py-3 text-slate-500",children:ja(ce.paymentDate)}),m.jsx("td",{className:"px-4 py-3 font-bold",children:$e(ce.amount)}),m.jsx("td",{className:"px-4 py-3",children:m.jsx("span",{className:"px-2 py-1 bg-emerald-100 text-emerald-700 text-xs rounded-full font-bold",children:ce.status})})]},ce.id)),V.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:4,className:"px-4 py-8 text-center text-slate-400",children:"No records yet."})})]})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm h-fit",children:[m.jsx("h3",{className:"font-bold text-slate-900 dark:text-white mb-4",children:"Record Payment"}),m.jsxs("form",{onSubmit:Ce,className:"space-y-4",children:[m.jsx(It,{type:"month",label:"Salary Month",value:T.month,onChange:ce=>_({...T,month:ce.target.value})}),m.jsx(It,{type:"number",label:"Amount",value:T.amount,onChange:ce=>_({...T,amount:Number(ce.target.value)})}),m.jsx(It,{type:"date",label:"Payment Date",value:T.paymentDate,onChange:ce=>_({...T,paymentDate:ce.target.value})}),m.jsx(It,{label:"Note (Optional)",value:T.note,onChange:ce=>_({...T,note:ce.target.value})}),m.jsx("button",{type:"submit",className:"w-full py-2.5 bg-primary-600 text-white font-bold rounded-xl hover:bg-primary-700",children:"Save Record"})]})]})]}),y==="advance"&&m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden",children:[m.jsx("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 font-bold text-slate-700 dark:text-slate-300",children:"Transaction History"}),m.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50 text-xs text-slate-500 uppercase sticky top-0",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-3",children:"Date"}),m.jsx("th",{className:"px-4 py-3",children:"Type"}),m.jsx("th",{className:"px-4 py-3",children:"Note"}),m.jsx("th",{className:"px-4 py-3 text-right",children:"Amount"})]})}),m.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700 text-sm",children:[q.map(ce=>m.jsxs("tr",{children:[m.jsx("td",{className:"px-4 py-3 text-slate-500",children:ja(ce.date)}),m.jsx("td",{className:"px-4 py-3",children:m.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-bold ${ce.type==="GIVEN"?"bg-orange-100 text-orange-700":"bg-emerald-100 text-emerald-700"}`,children:ce.type==="GIVEN"?"Given":"Returned"})}),m.jsx("td",{className:"px-4 py-3 text-slate-500 truncate max-w-[150px]",children:ce.note||"-"}),m.jsxs("td",{className:`px-4 py-3 font-bold text-right ${ce.type==="GIVEN"?"text-red-500":"text-emerald-500"}`,children:[ce.type==="GIVEN"?"+":"-",$e(ce.amount)]})]},ce.id)),q.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:4,className:"px-4 py-8 text-center text-slate-400",children:"No records yet."})})]})]})})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm text-center",children:[m.jsx("p",{className:"text-sm text-slate-500 uppercase font-bold mb-1",children:"Current Advance Balance"}),m.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:$e(A.advanceBalance)})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsx("h3",{className:"font-bold text-slate-900 dark:text-white mb-4",children:"Manage Advance"}),m.jsxs("div",{className:"flex gap-2 mb-4",children:[m.jsx("button",{type:"button",onClick:()=>M({...j,type:"GIVEN"}),className:`flex-1 py-2 text-sm font-bold rounded-lg border ${j.type==="GIVEN"?"bg-orange-50 border-orange-200 text-orange-700":"border-slate-200 text-slate-500"}`,children:"Give (+)"}),m.jsx("button",{type:"button",onClick:()=>M({...j,type:"RETURNED"}),className:`flex-1 py-2 text-sm font-bold rounded-lg border ${j.type==="RETURNED"?"bg-emerald-50 border-emerald-200 text-emerald-700":"border-slate-200 text-slate-500"}`,children:"Return (-)"})]}),m.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[m.jsx(It,{type:"number",label:"Amount",value:j.amount,onChange:ce=>M({...j,amount:Number(ce.target.value)})}),m.jsx(It,{label:"Note",value:j.note,onChange:ce=>M({...j,note:ce.target.value}),placeholder:j.type==="GIVEN"?"Reason for advance":"Deducted from salary..."}),m.jsx("button",{type:"submit",className:`w-full py-2.5 text-white font-bold rounded-xl ${j.type==="GIVEN"?"bg-orange-600 hover:bg-orange-700":"bg-emerald-600 hover:bg-emerald-700"}`,children:j.type==="GIVEN"?"Add Advance":"Return Advance"})]})]})]})]}),y==="attendance"&&m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm h-fit",children:[m.jsx("h3",{className:"font-bold text-slate-900 dark:text-white mb-4",children:"Mark Attendance"}),m.jsxs("div",{className:"space-y-4",children:[m.jsx(It,{type:"date",label:"Date",value:k,onChange:ce=>R(ce.target.value)}),m.jsx("div",{className:"grid grid-cols-3 gap-2",children:["Present","Absent","Half Day"].map(ce=>m.jsx("button",{onClick:()=>U(ce),className:`py-2 text-xs font-bold rounded-lg border transition-all ${F===ce?ce==="Present"?"bg-emerald-100 border-emerald-200 text-emerald-700":ce==="Absent"?"bg-red-100 border-red-200 text-red-700":"bg-yellow-100 border-yellow-200 text-yellow-700":"bg-white dark:bg-slate-700 border-slate-200 dark:border-slate-600 text-slate-500"}`,children:ce},ce))}),m.jsx("button",{onClick:ee,className:"w-full py-2.5 bg-primary-600 text-white font-bold rounded-xl hover:bg-primary-700 mt-2",children:"Save Status"})]}),m.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-100 dark:border-slate-700",children:[m.jsx("h4",{className:"font-bold text-sm text-slate-500 uppercase mb-4",children:"Summary (Total)"}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-emerald-600 font-medium",children:"Present"})," ",m.jsx("span",{className:"font-bold",children:L})]}),m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-red-500 font-medium",children:"Absent"})," ",m.jsx("span",{className:"font-bold",children:J})]}),m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-yellow-600 font-medium",children:"Half Day"})," ",m.jsx("span",{className:"font-bold",children:K})]})]})]})]}),m.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden",children:[m.jsx("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 font-bold text-slate-700 dark:text-slate-300",children:"Recent Logs"}),m.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50 text-xs text-slate-500 uppercase sticky top-0",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3",children:"Date"}),m.jsx("th",{className:"px-6 py-3",children:"Status"})]})}),m.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700 text-sm",children:[Y.map(ce=>m.jsxs("tr",{children:[m.jsx("td",{className:"px-6 py-3 font-medium text-slate-900 dark:text-white",children:ja(ce.date)}),m.jsx("td",{className:"px-6 py-3",children:m.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-bold inline-flex items-center gap-1
                                                ${ce.status==="Present"?"bg-emerald-50 text-emerald-600":ce.status==="Absent"?"bg-red-50 text-red-600":"bg-yellow-50 text-yellow-600"}`,children:[ce.status==="Present"&&m.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),ce.status==="Absent"&&m.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),ce.status==="Half Day"&&m.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-yellow-500"}),ce.status]})})]},ce.id)),Y.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:2,className:"px-6 py-10 text-center text-slate-400",children:"No attendance data."})})]})]})})]})]})]})]})},$$=()=>m.jsx(MD,{children:m.jsx(jD,{children:m.jsx(kj,{children:m.jsxs(oj,{children:[m.jsx(Qr,{path:"/login",element:m.jsx(V$,{})}),m.jsx(Qr,{path:"/register",element:m.jsx(Y$,{})}),m.jsx(Qr,{path:"/forgot-password",element:m.jsx(q$,{})}),m.jsx(Qr,{element:m.jsx(DD,{}),children:m.jsx(Qr,{path:"/admin",element:m.jsx(pS,{}),children:m.jsx(Qr,{index:!0,element:m.jsx(W$,{})})})}),m.jsx(Qr,{element:m.jsx(kD,{}),children:m.jsxs(Qr,{path:"/",element:m.jsx(pS,{}),children:[m.jsx(Qr,{index:!0,element:m.jsx(KZ,{})}),m.jsx(Qr,{path:"invoices",element:m.jsx(ZZ,{})}),m.jsx(Qr,{path:"invoices/new",element:m.jsx(N4,{})}),m.jsx(Qr,{path:"invoices/:id",element:m.jsx(N4,{})}),m.jsx(Qr,{path:"customers",element:m.jsx(z$,{})}),m.jsx(Qr,{path:"customers/:id/history",element:m.jsx(U$,{})}),m.jsx(Qr,{path:"products",element:m.jsx(F$,{})}),m.jsx(Qr,{path:"reports",element:m.jsx(H$,{})}),m.jsx(Qr,{path:"workers",element:m.jsx(K$,{})}),m.jsx(Qr,{path:"workers/:id",element:m.jsx(Z$,{})}),m.jsx(Qr,{path:"pricing",element:m.jsx(G$,{})}),m.jsx(Qr,{path:"profile",element:m.jsx(X$,{})})]})}),m.jsx(Qr,{path:"*",element:m.jsx(sh,{to:"/"})})]})})})}),jI=document.getElementById("root");if(!jI)throw new Error("Could not find root element to mount to");const Q$=cM.createRoot(jI);Q$.render(m.jsx(C4.StrictMode,{children:m.jsx($$,{})}));
